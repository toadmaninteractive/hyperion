!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(i=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{i||null==c.return||c.return()}finally{if(r)throw a}}return n}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"l+rH":function(i,a,c){"use strict";c.r(a),c.d(a,"TestCasesModule",function(){return Vt});var l=c("ofXK"),d=c("3Pt+"),s=c("tyNb"),p=c("bTqV"),u=c("bSwM"),m=c("0IaG"),h=c("f0Cb"),f=c("kmnG"),v=c("NFeN"),g=c("qFsG"),S=c("STbY"),x=c("Xa2L"),y=c("d3UM"),b=c("Qu3c"),C=c("8yBR"),I=c("QJFE"),w=c("bFKe"),N=c("gfTr"),T=c("m3o8"),k=c("PCNd"),E=c("j1ZV"),P=c("0Y/I"),M=c("sUzd"),A=c("tk/3"),j=c("XNiG"),O=c("2Vo4"),V=c("itXk"),D=c("VRyK"),$=c("z6cu"),F=c("1G5W"),R=c("pLZG"),L=c("nYR2"),z=c("eIep"),_=c("IzEk"),B=c("PSD3"),W=c.n(B),G=c("EPMp"),H=c("Y4+Y"),U=c("Sw3e"),q=c("Ehhc"),Q=c("65F8"),Y=c("lPHq"),J=c("e18D"),Z=c("UTw3"),X=c("0bxZ"),K=c("7Z50"),ee=c("fXoL"),te=c("QyQT");function ne(e,t){1&e&&ee["\u0275\u0275element"](0,"i",12)}function ie(e,t){1&e&&(ee["\u0275\u0275elementStart"](0,"span",13),ee["\u0275\u0275text"](1," Current "),ee["\u0275\u0275elementEnd"]())}function re(e,t){1&e&&(ee["\u0275\u0275elementStart"](0,"span",14),ee["\u0275\u0275text"](1," Precondition "),ee["\u0275\u0275elementEnd"]())}function ae(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"a",15),ee["\u0275\u0275listener"]("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]().node;return ee["\u0275\u0275nextContext"]().chooseSetup(e)}),ee["\u0275\u0275text"](1),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"]().node;ee["\u0275\u0275property"]("id","link-setup-"+i.item.id),ee["\u0275\u0275advance"](1),ee["\u0275\u0275textInterpolate1"](" ",i.item.title," ")}}function oe(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"input",16),ee["\u0275\u0275listener"]("ngModelChange",function(e){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().node.item.title=e})("keyup.enter",function(e){return e.target.blur()})("blur",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]().node;return ee["\u0275\u0275nextContext"]().invalidateTreeNode(e,"title")}),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"]().node;ee["\u0275\u0275styleProp"]("width",i.item.title.length?i.item.title.length+2:20,"ch"),ee["\u0275\u0275property"]("placeholder","Put some text here")("ngModel",i.item.title)}}function ce(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"div",6),ee["\u0275\u0275template"](1,ne,1,0,"i",7),ee["\u0275\u0275template"](2,ie,2,0,"span",8),ee["\u0275\u0275template"](3,re,2,0,"span",9),ee["\u0275\u0275template"](4,ae,2,2,"a",10),ee["\u0275\u0275template"](5,oe,1,4,"input",11),ee["\u0275\u0275elementEnd"]()),2&e){var n=t.node,i=ee["\u0275\u0275nextContext"]();ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",n.item.parameterId>0),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",n.item.id===i.data.setupId),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",n.item.id===i.data.preconditionId),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",n.item.id>0),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",0===n.item.id)}}var le,de,se=((le=function(){function e(t,n,i,a,o,c,l,d,s){r(this,e),this.dialogRef=t,this.data=n,this.cdr=i,this.router=a,this.hyperionSetupService=o,this.notificationService=c,this.websocketService=l,this.windowRefService=d,this.setupService=s,this.setupsItems=new Array,this.setupList=new Map}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.destroy$=new j.b,Object(D.a)(this.websocketService.testCaseDeleted,this.websocketService.testCaseUpdated).pipe(Object(F.a)(this.destroy$),Object(R.a)(function(t){return e.data.project.id===t.data.projectId&&e.data.testCaseId===t.data.id})).subscribe(function(t){t instanceof Q.p?W.a.fire("Test case has been deleted","by <strong>".concat(t.actorName,"</strong>"),"info").then(function(){return e.dialogRef.close(null)}):t instanceof Q.q&&e.data.setupId!==t.data.setupId&&(e.data.setupId=t.data.setupId)}),this.setupService.setupList$.asObservable().pipe(Object(F.a)(this.destroy$)).subscribe(function(t){return e.setupList=t})}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"ngAfterViewInit",value:function(){var e=this;this.data.setSetup&&this.data.setupId&&setTimeout(function(){return e.windowRefService.scrollToElementCenter("link-setup-"+e.data.setupId,!0)},250),this.data.setPrecondition&&this.data.preconditionId&&setTimeout(function(){return e.windowRefService.scrollToElementCenter("link-setup-"+e.data.preconditionId,!0)},250)}},{key:"getAllChildrenId",value:function(e){var n=this;return e.children.reduce(function(e,i){return[].concat(t(e),[[i.item.id],i.children.map(function(e){return n.getAllChildrenId(e)}).reduce(function(e,t){return e.concat(t)},[])])},[]).concat(e.item.id).reduce(function(e,t){return e.concat(t)},[])}},{key:"chooseSetup",value:function(e){this.data.setSetup&&this.data.setupId&&this.dialogRef.close(e.item.id!==this.data.setupId&&e.item.id),this.data.setPrecondition&&this.data.preconditionId&&this.dialogRef.close(e.item.id!==this.data.preconditionId&&e.item.id),this.dialogRef.close(e.item.id)}},{key:"findTreeNodeStart",value:function(e,t){var n=this;e.item.id!==t.id?e.children.forEach(function(e){return n.findTreeNodeStart(e,t)}):this.setupsItems=[e]}},{key:"addDraftTreeNode",value:function(e){var t=e?this.setupList.get(e):null,n=this.initializeTreeNode(t);t?this.setupService.addDraftSetupStep(n,t):this.setupService.addDraftSetupStep(n),this.cdr.detectChanges(),this.windowRefService.focusElementById("input-setup-0",100)}},{key:"initializeTreeNode",value:function(e){var t=new Z.i,n=new X.m;return n.id=0,n.parentId=e?e.item.id:null,n.projectId=this.data.project.id,n.title="",n.description=null,t.item=n,t.children=[],t}},{key:"invalidateTreeNode",value:function(e,t){e.item.title=e.item.title.trim(),0!==(e.item.title||"").trim().length&&this.createTreeNode(e)}},{key:"createTreeNode",value:function(e){var t=this,n=new Y.a;n.parentId=e.item.parentId,n.title=null===e.item.title?null:e.item.title.trim(),n.description=null===e.item.description?null:e.item.description.trim(),n.isDraft=!1,n.orderNum=e.children.sort(function(e,t){return e.item.orderNum>t.item.orderNum?1:-1}).slice(-1)[0].item.orderNum+1e3,this.hyperionSetupService.createSetupStep(n,e.item.projectId).subscribe(function(e){t.notificationService.success("Setup step created"),t.setupService.clearDraftNode(e.parentId)},function(e){if(e instanceof Z.a){var n=null;switch(e.error){case Y.b.ParentNotExists:n="Setup step does not exist";break;case Y.b.ProjectNotExists:n="Project does not exist";break;case Y.b.TitleAlreadyExists:n="Setup step title already exists";break;case Y.b.HasChildren:n="Setup step has children"}t.notificationService.error(n||e)}else t.notificationService.error(e)})}}]),e}()).\u0275fac=function(e){return new(e||le)(ee["\u0275\u0275directiveInject"](m.g),ee["\u0275\u0275directiveInject"](m.a),ee["\u0275\u0275directiveInject"](ee.ChangeDetectorRef),ee["\u0275\u0275directiveInject"](s.g),ee["\u0275\u0275directiveInject"](G.a),ee["\u0275\u0275directiveInject"](H.a),ee["\u0275\u0275directiveInject"](U.a),ee["\u0275\u0275directiveInject"](q.a),ee["\u0275\u0275directiveInject"](K.a))},le.\u0275cmp=ee["\u0275\u0275defineComponent"]({type:le,selectors:[["m-browse-setup-dialog"]],viewQuery:function(e,t){var n;1&e&&ee["\u0275\u0275viewQuery"](J.a,!0),2&e&&ee["\u0275\u0275queryRefresh"](n=ee["\u0275\u0275loadQuery"]())&&(t.dynamicTree=n.first)},decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"inputNodes$","nodeAdded"],["nodeTitleTemplate",""],["mat-dialog-actions","",1,"justify-content-end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],[1,"block-flex"],["class","las la-cog",4,"ngIf"],["class","m-badge m-badge--primary text-uppercase x-tag mini align-text-top mr-1",4,"ngIf"],["class","m-badge m-badge--primary text-uppercase x-tag mini align-text-top ml-3 mr-1",4,"ngIf"],["href","javascript:void(null)","class","tree-label m-0",3,"id","click",4,"ngIf"],["type","text","class","in-place-browse monospace","id","input-setup-0",3,"placeholder","width","ngModel","ngModelChange","keyup.enter","blur",4,"ngIf"],[1,"las","la-cog"],[1,"m-badge","m-badge--primary","text-uppercase","x-tag","mini","align-text-top","mr-1"],[1,"m-badge","m-badge--primary","text-uppercase","x-tag","mini","align-text-top","ml-3","mr-1"],["href","javascript:void(null)",1,"tree-label","m-0",3,"id","click"],["type","text","id","input-setup-0",1,"in-place-browse","monospace",3,"placeholder","ngModel","ngModelChange","keyup.enter","blur"]],template:function(e,t){1&e&&(ee["\u0275\u0275elementStart"](0,"h1",0),ee["\u0275\u0275text"](1,"Choose test setup"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](2,"div",1),ee["\u0275\u0275elementStart"](3,"m-dynamic-tree-map",2),ee["\u0275\u0275listener"]("nodeAdded",function(e){return t.addDraftTreeNode(e)}),ee["\u0275\u0275template"](4,ce,6,5,"ng-template",null,3,ee["\u0275\u0275templateRefExtractor"]),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](6,"div",4),ee["\u0275\u0275elementStart"](7,"button",5),ee["\u0275\u0275text"](8,"Close"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()),2&e&&(ee["\u0275\u0275advance"](3),ee["\u0275\u0275property"]("inputNodes$",t.setupService.setupTree$),ee["\u0275\u0275advance"](4),ee["\u0275\u0275property"]("mat-dialog-close",!1))},directives:[m.h,m.e,te.a,m.c,p.a,m.d,l.m,d.c,d.i,d.l],styles:[".tree-label[_ngcontent-%COMP%]{line-height:40px}.m-badge[_ngcontent-%COMP%]{min-width:40px}  .ps__rail-x{visibility:hidden}.mat-icon[_ngcontent-%COMP%]{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:auto;width:auto}.block-flex[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.in-place-browse[_ngcontent-%COMP%]{outline:none;margin:0 5px;border:1px solid transparent;border-radius:3px;transition:border 125ms linear,box-shadow 125ms linear,opacity 125ms linear;box-shadow:0 0 7px 0 transparent;background-color:transparent;max-width:100ch!important}"]}),le),pe=c("N1IV"),ue=c("25+x"),me=c("E1Th"),he=c("IsHO"),fe=c("TufI"),ve=c("Jw7p"),ge=c("wg/d"),Se=c("avHx"),xe=c("xmDL"),ye=c("9pgZ"),be=c("cdP3"),Ce=c("FKr1"),Ie=c("jhN1"),we=((de=function(){function e(t){r(this,e),this._sanitizer=t}return o(e,[{key:"transform",value:function(e,t){switch(t){case"html":return this._sanitizer.bypassSecurityTrustHtml(e);case"style":return this._sanitizer.bypassSecurityTrustStyle(e);case"script":return this._sanitizer.bypassSecurityTrustScript(e);case"url":return this._sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this._sanitizer.bypassSecurityTrustResourceUrl(e);default:return this._sanitizer.bypassSecurityTrustHtml(e)}}}]),e}()).\u0275fac=function(e){return new(e||de)(ee["\u0275\u0275directiveInject"](Ie.DomSanitizer))},de.\u0275pipe=ee["\u0275\u0275definePipe"]({name:"safe",type:de,pure:!0}),de),Ne=["afterDropDialog"],Te=["checkbox1"];function ke(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"li"),ee["\u0275\u0275elementStart"](1,"div",28),ee["\u0275\u0275elementStart"](2,"mat-form-field",29),ee["\u0275\u0275elementStart"](3,"input",30),ee["\u0275\u0275listener"]("keyup",function(e){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().applyFilter(e.target.value)}),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()}}function Ee(e,t){if(1&e&&ee["\u0275\u0275element"](0,"i",33),2&e){var n=ee["\u0275\u0275nextContext"]().node,i=ee["\u0275\u0275nextContext"]();ee["\u0275\u0275property"]("matTooltip",i.tooltipTextShow(n))}}function Pe(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"input",31),ee["\u0275\u0275listener"]("ngModelChange",function(e){return t.node.item.title=e})("click",function(){ee["\u0275\u0275restoreView"](n);var e=t.node,i=ee["\u0275\u0275nextContext"]();return e.item.id>0?i.setActiveTreeNode(e):null})("keyup.escape",function(e){ee["\u0275\u0275restoreView"](n);var i=t.node;return ee["\u0275\u0275nextContext"]().revertTreeNode(i),e.target.blur()})("keyup.enter",function(e){return e.target.blur()})("blur",function(e){ee["\u0275\u0275restoreView"](n);var i=t.node;return ee["\u0275\u0275nextContext"]().invalidateTreeNode(i,0===i.item.id?null:"title",e.target.value)}),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275template"](1,Ee,1,1,"i",32)}if(2&e){var i=t.node,r=ee["\u0275\u0275nextContext"]();ee["\u0275\u0275styleProp"]("width",i.item.title.length?i.item.title.length+2:15,"ch"),ee["\u0275\u0275classProp"]("changed",0===i.item.id||r.pristineTestCaseMap.get(i.item.id)&&i.item.title!==r.pristineTestCaseMap.get(i.item.id).title)("draft",i.item.isDraft)("m-selected",r.activeNode&&i.item.id===r.activeNode.item.id),ee["\u0275\u0275propertyInterpolate1"]("id","input-testcase-",i.item.id,""),ee["\u0275\u0275property"]("placeholder",0===i.item.title.length?"Test case title":null)("ngModel",i.item.title),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",r.tooltipTextShow(i))}}function Me(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"button",35),ee["\u0275\u0275listener"]("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]().node,t=ee["\u0275\u0275nextContext"]();return e.expanded=!0,t.lastNodeId=e.item.id}),ee["\u0275\u0275element"](1,"i",36),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"]().node,r=ee["\u0275\u0275nextContext"](),a=ee["\u0275\u0275reference"](1);ee["\u0275\u0275property"]("matMenuTriggerFor",a)("disabled",r.treeNodeHasDraftChildren(i))}}function Ae(e,t){if(1&e&&ee["\u0275\u0275template"](0,Me,2,2,"button",34),2&e){var n=t.node;ee["\u0275\u0275property"]("ngIf",n.item.id>0&&n.item.isGroup)}}function je(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275elementStart"](1,"label",65),ee["\u0275\u0275text"](2,"|"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](3,"label",56),ee["\u0275\u0275elementStart"](4,"a",66),ee["\u0275\u0275listener"]("click",function(){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"](2).clearPrecondition()}),ee["\u0275\u0275text"](5," clear "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementContainerEnd"]()}}function Oe(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"span"),ee["\u0275\u0275text"](1," Inherited from "),ee["\u0275\u0275elementStart"](2,"strong",67),ee["\u0275\u0275text"](3),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](3);ee["\u0275\u0275advance"](3),ee["\u0275\u0275textInterpolate1"](" ",n.inheritedPreconditionTestCase.title," ")}}function Ve(e,t){if(1&e&&(ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275template"](1,Oe,4,1,"span",10),ee["\u0275\u0275elementContainerEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](2);ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",(null==n.activeNodePrecondition?null:n.activeNodePrecondition.length)>0)}}function De(e,t){1&e&&(ee["\u0275\u0275elementStart"](0,"span",68),ee["\u0275\u0275text"](1," Not set "),ee["\u0275\u0275elementEnd"]())}function $e(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"mat-icon",79),ee["\u0275\u0275listener"]("mouseover",function(){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().$implicit.$hovered=!0})("mouseout",function(){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().$implicit.$hovered=!1})("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]().$implicit;return ee["\u0275\u0275nextContext"](3).removePreconditionStep(e)}),ee["\u0275\u0275text"](1," close "),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"]().$implicit;ee["\u0275\u0275classProp"]("f-w-600",i.$hovered)}}function Fe(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"li"),ee["\u0275\u0275elementStart"](1,"div",72),ee["\u0275\u0275elementStart"](2,"div",73),ee["\u0275\u0275elementStart"](3,"mat-icon",74),ee["\u0275\u0275text"](4," subdirectory_arrow_right "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](5,"div",75),ee["\u0275\u0275elementStart"](6,"span",76),ee["\u0275\u0275text"](7),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](8,"div",77),ee["\u0275\u0275template"](9,$e,2,2,"mat-icon",78),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;ee["\u0275\u0275advance"](7),ee["\u0275\u0275textInterpolate"](n.title),ee["\u0275\u0275advance"](2),ee["\u0275\u0275property"]("ngIf",i>0)}}function Re(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"a",80),ee["\u0275\u0275listener"]("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"](3);return e.showBrowsePreconditionDialog(e.activeNode,e.activeNodePrecondition[e.activeNodePrecondition.length-1])}),ee["\u0275\u0275elementStart"](1,"mat-icon",81),ee["\u0275\u0275text"](2," add "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275text"](3,"Add another step... "),ee["\u0275\u0275elementEnd"]()}}function Le(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"ul",69),ee["\u0275\u0275template"](1,Fe,10,2,"li",70),ee["\u0275\u0275elementStart"](2,"li"),ee["\u0275\u0275template"](3,Re,4,0,"a",71),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](2);ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngForOf",n.activeNodePrecondition),ee["\u0275\u0275advance"](2),ee["\u0275\u0275property"]("ngIf",null!==n.activeNode.item.preconditionId)}}function ze(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275elementStart"](1,"label",65),ee["\u0275\u0275text"](2,"|"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](3,"label",56),ee["\u0275\u0275elementStart"](4,"a",66),ee["\u0275\u0275listener"]("click",function(){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"](2).clearSetup()}),ee["\u0275\u0275text"](5," clear "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementContainerEnd"]()}}function _e(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"span"),ee["\u0275\u0275text"](1," Inherited from "),ee["\u0275\u0275elementStart"](2,"strong",67),ee["\u0275\u0275text"](3),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](3);ee["\u0275\u0275advance"](3),ee["\u0275\u0275textInterpolate1"](" ",n.inheritedSetupTestCase.title," ")}}function Be(e,t){if(1&e&&(ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275template"](1,_e,4,1,"span",10),ee["\u0275\u0275elementContainerEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](2);ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",(null==n.activeNodeSetup?null:n.activeNodeSetup.length)>0)}}function We(e,t){1&e&&(ee["\u0275\u0275elementStart"](0,"span",68),ee["\u0275\u0275text"](1," Not set "),ee["\u0275\u0275elementEnd"]())}function Ge(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"mat-icon",85),ee["\u0275\u0275listener"]("mouseover",function(){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().$implicit.$hovered=!0})("mouseout",function(){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().$implicit.$hovered=!1})("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]().$implicit;return ee["\u0275\u0275nextContext"](3).removeSetupStep(e)}),ee["\u0275\u0275text"](1," close "),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"]().$implicit;ee["\u0275\u0275classProp"]("f-w-600",i.$hovered)}}function He(e,t){if(1&e&&(ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275text"](1),ee["\u0275\u0275elementContainerEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](3).$implicit,i=ee["\u0275\u0275nextContext"](3);ee["\u0275\u0275advance"](1),ee["\u0275\u0275textInterpolate"](i.getSpec(n.id).value)}}function Ue(e,t){if(1&e&&(ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275text"](1),ee["\u0275\u0275elementContainerEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](3).$implicit,i=ee["\u0275\u0275nextContext"](3);ee["\u0275\u0275advance"](1),ee["\u0275\u0275textInterpolate"](i.flatParameter.get(i.getSpec(n.id).parameterId)?i.flatParameter.get(i.getSpec(n.id).parameterId).title:"")}}function qe(e,t){1&e&&(ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275text"](1,"Any"),ee["\u0275\u0275elementContainerEnd"]())}function Qe(e,t){1&e&&(ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275text"](1,"Random"),ee["\u0275\u0275elementContainerEnd"]())}function Ye(e,t){if(1&e&&(ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275text"](1),ee["\u0275\u0275elementContainerEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](3).$implicit,i=ee["\u0275\u0275nextContext"](3);ee["\u0275\u0275advance"](1),ee["\u0275\u0275textInterpolate"](i.flatParameter.get(n.parameterId).title)}}function Je(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"a",89),ee["\u0275\u0275listener"]("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"](2).$implicit,t=ee["\u0275\u0275nextContext"](3);return t.inheritedSetupTestCase?null:t.showMoreParamMap.set(e.id,!0)}),ee["\u0275\u0275elementStart"](1,"span",82),ee["\u0275\u0275template"](2,He,2,1,"ng-container",90),ee["\u0275\u0275template"](3,Ue,2,1,"ng-container",90),ee["\u0275\u0275template"](4,qe,2,0,"ng-container",90),ee["\u0275\u0275template"](5,Qe,2,0,"ng-container",90),ee["\u0275\u0275template"](6,Ye,2,1,"ng-container",91),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"](2).$implicit,r=ee["\u0275\u0275nextContext"](3);ee["\u0275\u0275property"]("ngSwitch",r.getSpec(i.id).specType),ee["\u0275\u0275advance"](2),ee["\u0275\u0275property"]("ngSwitchCase",r.specTypeEnum.Value),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngSwitchCase",r.specTypeEnum.Source),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngSwitchCase",r.specTypeEnum.Any),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngSwitchCase",r.specTypeEnum.Random)}}function Ze(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"a",92),ee["\u0275\u0275listener"]("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"](2).$implicit,t=ee["\u0275\u0275nextContext"](3);return t.inheritedSetupTestCase?null:t.showMoreParamMap.set(e.id,!0)}),ee["\u0275\u0275pipe"](1,"safe"),ee["\u0275\u0275elementStart"](2,"span",82),ee["\u0275\u0275text"](3,"Unspecialized"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"](5);ee["\u0275\u0275attribute"]("href",i.inheritedSetupTestCase?null:ee["\u0275\u0275pipeBind2"](1,1,"javascript:void(null)","url"),ee["\u0275\u0275sanitizeUrl"])}}function Xe(e,t){if(1&e&&(ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275element"](1,"i",99),ee["\u0275\u0275text"](2),ee["\u0275\u0275elementContainerEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"]().$implicit;ee["\u0275\u0275advance"](2),ee["\u0275\u0275textInterpolate1"](" ",n.dependentValue," ")}}function Ke(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"mat-option",94),ee["\u0275\u0275text"](1),ee["\u0275\u0275template"](2,Xe,3,1,"ng-container",10),ee["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=ee["\u0275\u0275nextContext"](7);ee["\u0275\u0275property"]("value",i.specTypeEnum.Value+"|"+n.value),ee["\u0275\u0275advance"](1),ee["\u0275\u0275textInterpolate1"](" ",n.value," "),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",n.dependentValue)}}function et(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"mat-optgroup",97),ee["\u0275\u0275template"](1,Ke,3,3,"mat-option",98),ee["\u0275\u0275elementEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](3).$implicit,i=ee["\u0275\u0275nextContext"](3);ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngForOf",i.getParameters(n.parameterId))}}function tt(e,t){if(1&e&&(ee["\u0275\u0275element"](0,"mat-option",102),ee["\u0275\u0275pipe"](1,"safe")),2&e){var n=t.$implicit,i=ee["\u0275\u0275nextContext"](7);ee["\u0275\u0275property"]("value",i.specTypeEnum.Source+"|"+n.item.id)("innerHTML",ee["\u0275\u0275pipeBind2"](1,2,n.item.title,"html"),ee["\u0275\u0275sanitizeHtml"])}}function nt(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"mat-optgroup",100),ee["\u0275\u0275template"](1,tt,2,5,"mat-option",101),ee["\u0275\u0275elementEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](3).$implicit,i=ee["\u0275\u0275nextContext"](3);ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngForOf",i.levelParamMap.get(n.id))}}function it(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275elementStart"](1,"mat-select",93),ee["\u0275\u0275listener"]("selectionChange",function(e){ee["\u0275\u0275restoreView"](n);var t=ee["\u0275\u0275nextContext"](2).$implicit;return ee["\u0275\u0275nextContext"](3).specializeParam(e.value,t.id)})("openedChange",function(e){ee["\u0275\u0275restoreView"](n);var t=ee["\u0275\u0275nextContext"](2).$implicit,i=ee["\u0275\u0275nextContext"](3);return e?null:i.showMoreParamMap.set(t.id,!1)}),ee["\u0275\u0275elementStart"](2,"mat-option",94),ee["\u0275\u0275text"](3," Any "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275element"](4,"mat-divider"),ee["\u0275\u0275template"](5,et,2,1,"mat-optgroup",95),ee["\u0275\u0275element"](6,"mat-divider"),ee["\u0275\u0275template"](7,nt,2,1,"mat-optgroup",96),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"](2).$implicit,r=ee["\u0275\u0275nextContext"](3);ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("value",r.getSpecValue(i.id)),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("value",r.specTypeEnum.Any+"|any"),ee["\u0275\u0275advance"](3),ee["\u0275\u0275property"]("ngIf",r.flatParameter.get(i.parameterId).values.length>0),ee["\u0275\u0275advance"](2),ee["\u0275\u0275property"]("ngIf",r.levelParamMap.get(i.id).length>0)}}function rt(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"div",75),ee["\u0275\u0275elementStart"](1,"mat-icon",86),ee["\u0275\u0275text"](2," link "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275template"](3,Je,7,5,"a",87),ee["\u0275\u0275template"](4,Ze,4,4,"a",88),ee["\u0275\u0275template"](5,it,8,4,"ng-container",10),ee["\u0275\u0275elementEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"]().$implicit,i=ee["\u0275\u0275nextContext"](3);ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("inline",!0),ee["\u0275\u0275advance"](2),ee["\u0275\u0275property"]("ngIf",!i.showMoreParamMap.get(n.id)&&i.getSpec(n.id)),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",!i.showMoreParamMap.get(n.id)&&!i.getSpec(n.id)),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",i.showMoreParamMap.get(n.id))}}function at(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"li"),ee["\u0275\u0275elementStart"](1,"div",72),ee["\u0275\u0275elementStart"](2,"div",73),ee["\u0275\u0275elementStart"](3,"mat-icon",74),ee["\u0275\u0275text"](4," subdirectory_arrow_right "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](5,"div",75),ee["\u0275\u0275elementStart"](6,"span",82),ee["\u0275\u0275text"](7),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](8,"div",75),ee["\u0275\u0275template"](9,Ge,2,2,"mat-icon",83),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275template"](10,rt,6,4,"div",84),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;ee["\u0275\u0275advance"](7),ee["\u0275\u0275textInterpolate1"](" ",n.title," "),ee["\u0275\u0275advance"](2),ee["\u0275\u0275property"]("ngIf",i>0),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",n&&n.parameterId)}}function ot(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"a",80),ee["\u0275\u0275listener"]("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"](3);return e.showBrowseSetupDialog(e.activeNode,e.activeNodeSetup[e.activeNodeSetup.length-1])}),ee["\u0275\u0275elementStart"](1,"mat-icon",81),ee["\u0275\u0275text"](2," add "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275text"](3,"Add another step... "),ee["\u0275\u0275elementEnd"]()}}function ct(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"ul",69),ee["\u0275\u0275template"](1,at,11,3,"li",70),ee["\u0275\u0275elementStart"](2,"li"),ee["\u0275\u0275template"](3,ot,4,0,"a",71),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](2);ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngForOf",n.activeNodeSetup),ee["\u0275\u0275advance"](2),ee["\u0275\u0275property"]("ngIf",null!==n.activeNode.item.setupId)}}function lt(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"li"),ee["\u0275\u0275elementStart"](1,"label",56),ee["\u0275\u0275text"](2,"Test steps"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](3,"textarea",51),ee["\u0275\u0275listener"]("ngModelChange",function(e){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"](2).activeNode.item.testSteps=e})("keyup.escape",function(e){ee["\u0275\u0275restoreView"](n);var t=ee["\u0275\u0275nextContext"](2);return t.revertTreeNodeTestSteps(t.activeNode),e.target.blur()})("blur",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"](2);return e.invalidateTreeNode(e.activeNode,"testSteps")}),ee["\u0275\u0275text"](4,"                                    "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275element"](5,"div",103),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"](2);ee["\u0275\u0275advance"](3),ee["\u0275\u0275classProp"]("changed",i.treeNodeChanged(i.activeNode,"testSteps")),ee["\u0275\u0275property"]("ngModel",i.activeNode.item.testSteps)}}function dt(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"li"),ee["\u0275\u0275elementStart"](1,"label",56),ee["\u0275\u0275text"](2,"Expected result"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](3,"textarea",51),ee["\u0275\u0275listener"]("ngModelChange",function(e){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"](2).activeNode.item.expectedResult=e})("keyup.escape",function(e){ee["\u0275\u0275restoreView"](n);var t=ee["\u0275\u0275nextContext"](2);return t.revertTreeNodeExpectedResult(t.activeNode),e.target.blur()})("blur",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"](2);return e.invalidateTreeNode(e.activeNode,"expectedResult")}),ee["\u0275\u0275text"](4,"                                    "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275element"](5,"div",103),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"](2);ee["\u0275\u0275advance"](3),ee["\u0275\u0275classProp"]("changed",i.treeNodeChanged(i.activeNode,"expectedResult")),ee["\u0275\u0275property"]("ngModel",i.activeNode.item.expectedResult)}}function st(e,t){if(1&e&&(ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275elementContainer"](1,64),ee["\u0275\u0275elementContainerEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](2),i=ee["\u0275\u0275reference"](46),r=ee["\u0275\u0275reference"](44);ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngTemplateOutlet",(null==n.activeFileAttachments?null:n.activeFileAttachments.length)>3&&n.showMoreAttachments?i:r)}}function pt(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"li"),ee["\u0275\u0275elementStart"](1,"div",61),ee["\u0275\u0275elementStart"](2,"div",104),ee["\u0275\u0275elementStart"](3,"label",53),ee["\u0275\u0275text"](4,"Created At"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275element"](5,"input",105),ee["\u0275\u0275pipe"](6,"date"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](7,"div",104),ee["\u0275\u0275elementStart"](8,"label",53),ee["\u0275\u0275text"](9,"Updated At"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275element"](10,"input",105),ee["\u0275\u0275pipe"](11,"date"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](2);ee["\u0275\u0275advance"](5),ee["\u0275\u0275propertyInterpolate"]("value",ee["\u0275\u0275pipeBind2"](6,2,n.activeNode.item.createdAt,"yyyy-MM-dd HH:mm")),ee["\u0275\u0275advance"](5),ee["\u0275\u0275propertyInterpolate"]("value",ee["\u0275\u0275pipeBind2"](11,5,n.activeNode.item.updatedAt,"yyyy-MM-dd HH:mm"))}}function ut(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"as-split-area",16),ee["\u0275\u0275elementStart"](1,"div",37),ee["\u0275\u0275elementStart"](2,"perfect-scrollbar",18),ee["\u0275\u0275elementStart"](3,"div",38),ee["\u0275\u0275elementStart"](4,"div",39),ee["\u0275\u0275elementStart"](5,"input",40),ee["\u0275\u0275listener"]("ngModelChange",function(e){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().activeNode.item.title=e})("keyup.escape",function(e){ee["\u0275\u0275restoreView"](n);var t=ee["\u0275\u0275nextContext"]();return t.revertTreeNodeTitle(t.activeNode),e.target.blur()})("blur",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]();return e.invalidateTreeNode(e.activeNode,"title")}),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](6,"div",41),ee["\u0275\u0275elementStart"](7,"div",42),ee["\u0275\u0275listener"]("click",function(){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().resetActiveTreeNode()}),ee["\u0275\u0275element"](8,"i",43),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](9,"div",44),ee["\u0275\u0275elementStart"](10,"span",45),ee["\u0275\u0275text"](11),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275element"](12,"div",46),ee["\u0275\u0275elementStart"](13,"div",47),ee["\u0275\u0275elementStart"](14,"mat-checkbox",48),ee["\u0275\u0275listener"]("ngModelChange",function(e){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().activeNode.item.isDraft=e})("change",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]();return e.invalidateTreeNode(e.activeNode,"isDraft")}),ee["\u0275\u0275text"](15," Draft "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](16,"ul",49),ee["\u0275\u0275elementStart"](17,"li"),ee["\u0275\u0275elementStart"](18,"label",50),ee["\u0275\u0275text"](19,"Description"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](20,"textarea",51),ee["\u0275\u0275listener"]("ngModelChange",function(e){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().activeNode.item.description=e})("keyup.escape",function(e){ee["\u0275\u0275restoreView"](n);var t=ee["\u0275\u0275nextContext"]();return t.revertTreeNodeDescription(t.activeNode),e.target.blur()})("blur",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]();return e.invalidateTreeNode(e.activeNode,"description")}),ee["\u0275\u0275text"](21,"                                    "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275element"](22,"div",52),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](23,"li"),ee["\u0275\u0275elementStart"](24,"label",53),ee["\u0275\u0275text"](25),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](26,"input",54),ee["\u0275\u0275listener"]("ngModelChange",function(e){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().activeNode.item.title=e})("keyup.escape",function(e){ee["\u0275\u0275restoreView"](n);var t=ee["\u0275\u0275nextContext"]();return t.revertTreeNodeTitle(t.activeNode),e.target.blur()})("keyup.enter",function(e){return e.target.blur()})("blur",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]();return e.invalidateTreeNode(e.activeNode,"title")}),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](27,"li"),ee["\u0275\u0275elementStart"](28,"div",55),ee["\u0275\u0275elementStart"](29,"label",56),ee["\u0275\u0275text"](30," Precondition "),ee["\u0275\u0275elementStart"](31,"a",57),ee["\u0275\u0275listener"]("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]();return e.showBrowsePreconditionDialog(e.activeNode)}),ee["\u0275\u0275text"](32," change "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275template"](33,je,6,0,"ng-container",10),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](34,"label",58),ee["\u0275\u0275template"](35,Ve,2,1,"ng-container",10),ee["\u0275\u0275template"](36,De,2,0,"span",59),ee["\u0275\u0275template"](37,Le,4,2,"ul",60),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](38,"li"),ee["\u0275\u0275elementStart"](39,"div",55),ee["\u0275\u0275elementStart"](40,"label",56),ee["\u0275\u0275text"](41," Setup "),ee["\u0275\u0275elementStart"](42,"a",57),ee["\u0275\u0275listener"]("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]();return e.showBrowseSetupDialog(e.activeNode)}),ee["\u0275\u0275text"](43," change "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275template"](44,ze,6,0,"ng-container",10),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](45,"label",58),ee["\u0275\u0275template"](46,Be,2,1,"ng-container",10),ee["\u0275\u0275template"](47,We,2,0,"span",59),ee["\u0275\u0275template"](48,ct,4,2,"ul",60),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275template"](49,lt,6,3,"li",10),ee["\u0275\u0275template"](50,dt,6,3,"li",10),ee["\u0275\u0275elementStart"](51,"li"),ee["\u0275\u0275elementStart"](52,"div",61),ee["\u0275\u0275elementStart"](53,"div",62),ee["\u0275\u0275elementStart"](54,"label",53),ee["\u0275\u0275text"](55,"Attachments"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](56,"div",61),ee["\u0275\u0275elementStart"](57,"div",63),ee["\u0275\u0275template"](58,st,2,1,"ng-container",10),ee["\u0275\u0275elementContainer"](59,64),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275template"](60,pt,12,8,"li",10),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"](),r=ee["\u0275\u0275reference"](48);ee["\u0275\u0275property"]("size",i.activeNode?30:0),ee["\u0275\u0275advance"](5),ee["\u0275\u0275classProp"]("changed",i.treeNodeChanged(i.activeNode,"title")),ee["\u0275\u0275property"]("placeholder",0===i.activeNode.item.title.length?"Parameter title":null)("ngModel",i.activeNode.item.title),ee["\u0275\u0275advance"](6),ee["\u0275\u0275textInterpolate1"](" #",i.activeNode.item.id," "),ee["\u0275\u0275advance"](3),ee["\u0275\u0275property"]("ngModel",i.activeNode.item.isDraft),ee["\u0275\u0275advance"](6),ee["\u0275\u0275classProp"]("changed",i.treeNodeChanged(i.activeNode,"description")),ee["\u0275\u0275property"]("ngModel",i.activeNode.item.description),ee["\u0275\u0275advance"](5),ee["\u0275\u0275textInterpolate1"](" Test ",i.activeNode.item.isGroup?"group":"case"," title "),ee["\u0275\u0275advance"](1),ee["\u0275\u0275styleProp"]("width",i.activeNode.item.title.length?i.activeNode.item.title.length+2:20,"ch"),ee["\u0275\u0275classProp"]("changed",i.treeNodeChanged(i.activeNode,"title")),ee["\u0275\u0275property"]("placeholder",0===i.activeNode.item.title.length?"Put some text here":null)("ngModel",i.activeNode.item.title),ee["\u0275\u0275advance"](7),ee["\u0275\u0275property"]("ngIf",0!==(null==i.activeNodePrecondition?null:i.activeNodePrecondition.length)&&null!==i.activeNode.item.preconditionId),ee["\u0275\u0275advance"](2),ee["\u0275\u0275property"]("ngIf",!i.activeNode.item.preconditionId&&i.inheritedPreconditionTestCase),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",0===(null==i.activeNodePrecondition?null:i.activeNodePrecondition.length)),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",(null==i.activeNodePrecondition?null:i.activeNodePrecondition.length)>0),ee["\u0275\u0275advance"](7),ee["\u0275\u0275property"]("ngIf",0!==(null==i.activeNodeSetup?null:i.activeNodeSetup.length)&&null!==i.activeNode.item.setupId),ee["\u0275\u0275advance"](2),ee["\u0275\u0275property"]("ngIf",!i.activeNode.item.setupId&&i.inheritedSetupTestCase),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",0===(null==i.activeNodeSetup?null:i.activeNodeSetup.length)),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",(null==i.activeNodeSetup?null:i.activeNodeSetup.length)>0),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",!i.activeNode.item.isGroup),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",!i.activeNode.item.isGroup),ee["\u0275\u0275advance"](8),ee["\u0275\u0275property"]("ngIf",(null==i.activeFileAttachments?null:i.activeFileAttachments.length)>0),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngTemplateOutlet",0===(null==i.activeFileAttachments?null:i.activeFileAttachments.length)?r:null),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",i.activeNode.item.id>0)}}function mt(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"img",116),ee["\u0275\u0275listener"]("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"](2).index;return ee["\u0275\u0275nextContext"](2).openGallery(e)}),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"](2).$implicit;ee["\u0275\u0275propertyInterpolate1"]("src","/download/attachments/",i.thumbFilename,"",ee["\u0275\u0275sanitizeUrl"])}}function ht(e,t){1&e&&(ee["\u0275\u0275elementStart"](0,"div",117),ee["\u0275\u0275text"](1,"File"),ee["\u0275\u0275elementEnd"]())}var ft=function(e){return{title:"Confirmation",html:e,type:"question",confirmButtonText:"Delete",confirmButtonColor:"#f4516c",confirmButtonClass:"btn-danger",showCancelButton:!0,heightAuto:!1}};function vt(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"div",109),ee["\u0275\u0275elementContainerStart"](1,110),ee["\u0275\u0275template"](2,mt,1,1,"img",111),ee["\u0275\u0275elementStart"](3,"a",112),ee["\u0275\u0275template"](4,ht,2,0,"div",113),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementContainerEnd"](),ee["\u0275\u0275elementStart"](5,"div",114),ee["\u0275\u0275listener"]("confirm",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]().$implicit,t=ee["\u0275\u0275nextContext"](2);return t.unlinkFileAttachment(e.id,t.activeNode.item.id)}),ee["\u0275\u0275elementStart"](6,"mat-icon",115),ee["\u0275\u0275text"](7,"clear"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"]().$implicit;ee["\u0275\u0275property"]("matTooltip",i.originalFilename),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngSwitch",!!i.thumbFilename),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngSwitchCase",!0),ee["\u0275\u0275advance"](1),ee["\u0275\u0275propertyInterpolate1"]("href","/download/attachments/",i.filename,"",ee["\u0275\u0275sanitizeUrl"]),ee["\u0275\u0275property"]("ngSwitch",!!i.thumbFilename),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngSwitchCase",!1),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("swal",ee["\u0275\u0275pureFunction1"](7,ft,"Delete <b>"+i.originalFilename+"</b>?"))}}function gt(e,t){if(1&e&&(ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275template"](1,vt,8,9,"div",108),ee["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.index;ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",n<3)}}function St(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"div",118),ee["\u0275\u0275listener"]("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"](2);return e.showMoreAttachments=!e.showMoreAttachments}),ee["\u0275\u0275elementStart"](1,"div",119),ee["\u0275\u0275text"](2),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"](2);ee["\u0275\u0275advance"](2),ee["\u0275\u0275textInterpolate1"](" + ",(null==i.activeFileAttachments?null:i.activeFileAttachments.length)-3," ")}}function xt(e,t){1&e&&ee["\u0275\u0275elementContainer"](0)}function yt(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"div",55),ee["\u0275\u0275template"](1,gt,2,1,"ng-container",70),ee["\u0275\u0275template"](2,St,3,1,"div",106),ee["\u0275\u0275template"](3,xt,1,0,"ng-container",107),ee["\u0275\u0275elementEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"](),i=ee["\u0275\u0275reference"](48);ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngForOf",n.activeFileAttachments),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",(null==n.activeFileAttachments?null:n.activeFileAttachments.length)>3),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngTemplateOutlet",i)}}function bt(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"img",116),ee["\u0275\u0275listener"]("click",function(){ee["\u0275\u0275restoreView"](n);var e=ee["\u0275\u0275nextContext"]().index;return ee["\u0275\u0275nextContext"](2).openGallery(e)}),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"]().$implicit;ee["\u0275\u0275propertyInterpolate1"]("src","/download/attachments/",i.thumbFilename,"",ee["\u0275\u0275sanitizeUrl"])}}function Ct(e,t){1&e&&(ee["\u0275\u0275elementStart"](0,"div",117),ee["\u0275\u0275text"](1,"File"),ee["\u0275\u0275elementEnd"]())}function It(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275elementStart"](0,"div",109),ee["\u0275\u0275elementContainerStart"](1,110),ee["\u0275\u0275template"](2,bt,1,1,"img",111),ee["\u0275\u0275elementStart"](3,"a",112),ee["\u0275\u0275template"](4,Ct,2,0,"div",113),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementContainerEnd"](),ee["\u0275\u0275elementStart"](5,"div",114),ee["\u0275\u0275listener"]("confirm",function(){ee["\u0275\u0275restoreView"](n);var e=t.$implicit,i=ee["\u0275\u0275nextContext"](2);return i.unlinkFileAttachment(e.id,i.activeNode.item.id)}),ee["\u0275\u0275elementStart"](6,"mat-icon",115),ee["\u0275\u0275text"](7,"clear"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;ee["\u0275\u0275property"]("matTooltip",i.originalFilename),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngSwitch",!!i.thumbFilename),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngSwitchCase",!0),ee["\u0275\u0275advance"](1),ee["\u0275\u0275propertyInterpolate1"]("href","/download/attachments/",i.filename,"",ee["\u0275\u0275sanitizeUrl"]),ee["\u0275\u0275property"]("ngSwitch",!!i.thumbFilename),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngSwitchCase",!1),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("swal",ee["\u0275\u0275pureFunction1"](7,ft,"Delete <b>"+i.originalFilename+"</b>?"))}}function wt(e,t){1&e&&ee["\u0275\u0275elementContainer"](0)}function Nt(e,t){if(1&e&&(ee["\u0275\u0275template"](0,It,8,9,"div",120),ee["\u0275\u0275template"](1,wt,1,0,"ng-container",107)),2&e){var n=ee["\u0275\u0275nextContext"](),i=ee["\u0275\u0275reference"](48);ee["\u0275\u0275property"]("ngForOf",n.activeFileAttachments),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngTemplateOutlet",i)}}function Tt(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"div",125),ee["\u0275\u0275element"](1,"mat-progress-spinner",126),ee["\u0275\u0275pipe"](2,"async"),ee["\u0275\u0275elementStart"](3,"div",127),ee["\u0275\u0275text"](4),ee["\u0275\u0275pipe"](5,"async"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()),2&e){var n=ee["\u0275\u0275nextContext"]().$implicit;ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("value",ee["\u0275\u0275pipeBind1"](2,2,n.value)),ee["\u0275\u0275advance"](3),ee["\u0275\u0275textInterpolate1"]("",ee["\u0275\u0275pipeBind1"](5,4,n.value),"%")}}function kt(e,t){if(1&e&&(ee["\u0275\u0275elementContainerStart"](0),ee["\u0275\u0275template"](1,Tt,6,6,"div",124),ee["\u0275\u0275pipe"](2,"async"),ee["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("ngIf",ee["\u0275\u0275pipeBind1"](2,1,n.value))}}function Et(e,t){1&e&&(ee["\u0275\u0275elementStart"](0,"button",128),ee["\u0275\u0275listener"]("click",function(){return(0,t.openFileSelector)()}),ee["\u0275\u0275elementStart"](1,"mat-icon",129),ee["\u0275\u0275text"](2,"add"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]())}function Pt(e,t){if(1&e){var n=ee["\u0275\u0275getCurrentView"]();ee["\u0275\u0275template"](0,kt,3,3,"ng-container",70),ee["\u0275\u0275pipe"](1,"keyvalue"),ee["\u0275\u0275elementStart"](2,"div",121),ee["\u0275\u0275elementStart"](3,"ngx-file-drop",122),ee["\u0275\u0275listener"]("onFileDrop",function(e){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().dropped(e)})("onFileOver",function(e){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().fileOver(e)})("onFileLeave",function(e){return ee["\u0275\u0275restoreView"](n),ee["\u0275\u0275nextContext"]().fileLeave(e)}),ee["\u0275\u0275template"](4,Et,3,0,"ng-template",123),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"]()}if(2&e){var i=ee["\u0275\u0275nextContext"]();ee["\u0275\u0275property"]("ngForOf",ee["\u0275\u0275pipeBind1"](1,1,i.attachmentsProgress))}}var Mt,At,jt=((Mt=function(){function i(e,t,n,a,o,c,l,d,s,p,u,m,h,f,v,g,S,x){var y=this;r(this,i),this.route=e,this.router=t,this.render=n,this.cdr=a,this.dialog=o,this.lightbox=c,this.accountService=l,this.hyperionAttachmentService=d,this.hyperionParameterService=s,this.hyperionSetupService=p,this.hyperionTestCaseService=u,this.notificationService=m,this.uploadService=h,this.websocketService=f,this.parameterService=v,this.setupService=g,this.testCaseService=S,this.windowRefService=x,this.destroy$=new j.b,this.hiddenNodeSet=new Set,this.ready$=new O.a(!1),this.websocketNodeAdd$=new O.a(null),this.websocketNodeDelete$=new O.a(null),this.websocketNodeUpdate$=new O.a(null),this.attachmentsProgress=new Map,this.flatSetup=new Map,this.setupTree=new Map,this.flatParameter=new Map,this.parameterList=new Map,this.nodeWithSameSetupMap=new Map,this.nodeWithSamePreconditionMap=new Map,this.activeNodeId=-1,this.filteredNodeArray=[],this.lastNodeId=0,this.searchNeedle="",this.newSetupTitle="",this.initialized=!1,this.attachments=new Map,this.activeAlbum=[],this.showMoreAttachments=!1,this.afterDropOptions={title:"Test case parent changed",text:"Do you want change setup and precondition?",html:'<div class="row">\n                <div class="col">\n                    <input type="checkbox" id="nodeSetup" checked="checked" style="transform: scale(1.5)" class="m-1"/>\n                    <label  for="nodeSetup" class="m--regular-font-size-lg2">\n                        Change for item\n                    </label>\n                </div>\n                </div>\n                <div class="row">\n                <div class="col">\n                    <input type="checkbox" id="childrenSetup" checked="checked" style="transform: scale(1.5)" class="m-1"//>\n                    <label  for="childrenSetup"  class="m--regular-font-size-lg2">\n                        Change for children\n                    </label>\n                    </div>\n                </div>',type:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",preConfirm:function(){y.nodeSetupChangeCheckbox=document.getElementById("nodeSetup"),y.childrenChangeCheckbox=document.getElementById("childrenSetup")}},this.showMoreParamMap=new Map,this.paramTypeMap=new Map,this.specTypeEnum=X.n,this.levelParamMap=new Map,this.childParamArray=[],this.createState=!1,this.dimmedNodeSetId=new Set,this.hiddenNodeSetId=new Set,this.pristineTestCaseMap=new Map,this.testCaseList=new Map,this.rootLevelTestCase=new Map}return o(i,[{key:"ngOnInit",value:function(){var t=this;this.accountService.profile$.asObservable().pipe(Object(F.a)(this.destroy$)).subscribe(function(e){return t.profile=e}),Object(V.b)([this.setupService.setupTree$,this.setupService.flatSetup$,this.parameterService.parameterList$,this.parameterService.flatParameter$,this.testCaseService.testCaseList$,this.testCaseService.flatTestCase$]).pipe(Object(R.a)(function(t){var n=e(t,6),i=n[0],r=n[1],a=n[2],o=n[3],c=n[4],l=n[5];return!!(i&&r&&a&&o&&c&&l)}),Object(F.a)(this.destroy$)).subscribe(function(n){var i=e(n,6),r=i[0],a=i[1],o=i[2],c=i[3],l=i[4],d=i[5];t.pristineTestCaseMap.clear(),t.setupTree=r,t.flatSetup=a,t.parameterList=o,t.flatParameter=c,t.testCaseList=l,d.forEach(function(e){return t.pristineTestCaseMap.set(e.id,X.o.fromJson(e.toJson()))}),t.ready$.next(!0)}),this.testCaseService.testCaseTree$.asObservable().pipe(Object(R.a)(function(e){return!!e}),Object(F.a)(this.destroy$)).subscribe(function(e){t.rootLevelTestCase.clear(),e.forEach(function(e){return t.rootLevelTestCase.set(e.item.id,e.item)})}),this.route.data.pipe(Object(F.a)(this.destroy$)).subscribe(function(e){return t.initialize(e.activeProject)}),Object(V.b)(this.route.data,this.route.queryParamMap).pipe(Object(F.a)(this.destroy$)).subscribe(function(n){var i=e(n,2),r=(i[0],i[1]);t.activeQueryId=parseInt(r.get("id"),10)}),Object(D.a)(this.websocketService.testCaseUpdated,this.websocketService.testCaseDeleted).pipe(Object(F.a)(this.destroy$),Object(R.a)(function(e){return e.data.projectId===t.project.id})).subscribe(function(e){var n=new Z.i;n.item=e.data,e instanceof Q.q?-1!==t.activeNodeId&&n.item.id===t.activeNodeId&&t.profile.username!==e.actorName&&W.a.fire({type:"information",title:"Your active node has been changed by "+e.actorName,confirmButtonText:"ok"}).then(function(e){void 0!==e.value&&(console.log("merge update test case"),t.setActiveTreeNode(n))}):e instanceof Q.p&&t.activeNode&&n.item.id===t.activeNode.item.id&&t.profile.username!==e.actorName&&W.a.fire({type:"warning",title:"Your active node has been deleted by "+e.actorName,confirmButtonText:"ok"}).then(function(e){void 0!==e.value&&t.resetActiveTreeNode()})}),Object(D.a)(this.websocketService.attachmentLinked,this.websocketService.attachmentUnlinked).pipe(Object(F.a)(this.destroy$),Object(R.a)(function(e){return e.link.owner===X.b.TestCase})).subscribe(function(e){if(t.attachments.has(e.link.linkedId)){var n=t.attachments.get(e.link.linkedId),i=n.findIndex(function(t){return t.id===e.attachment.id});e instanceof Q.a?i>=0?n[i]=e.attachment:n.push(e.attachment):e instanceof Q.b&&-1!==i&&n.splice(i,1),t.attachments.set(e.link.linkedId,n),t.activeNode.item.id&&t.activeNode.item.id===e.link.linkedId&&(t.activeFileAttachments=n),t.cdr.detectChanges()}})}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete(),this.ready$.complete()}},{key:"initialize",value:function(e){this.project=e,this.refresh()}},{key:"refresh",value:function(){this.searchNeedle="",this.activeNode=null,this.activeNodeId=-1,this.activeNodeSetup=[],this.newSetupTitle="",this.initialized=!0}},{key:"openGallery",value:function(e){var t=this;this.activeFileAttachments.filter(function(e){return e.contentType.includes("image")}).forEach(function(e){t.activeAlbum.push({src:"/download/attachments/"+e.filename,caption:e.originalFilename,thumb:"/download/attachments/"+e.thumbFilename})}),this.lightbox.open(this.activeAlbum,e)}},{key:"applyFilter",value:function(e){var t=this;this.dimmedNodeSetId=new Set(Array.from(this.pristineTestCaseMap).map(function(n){return t.filterCallback(n[1],e)?null:n[1].id})),this.hiddenNodeSetId=new Set(Array.from(this.testCaseList).filter(function(e){return t.getAllChildrenId(e[1]).every(function(e){return t.dimmedNodeSetId.has(e)})}).map(function(e){return e[1].item.id})),this.expandAllTreeNodes()}},{key:"getAllChildrenId",value:function(e){var n=this;return e.children.reduce(function(e,i){return[].concat(t(e),[[i.item.id],i.children.map(function(e){return n.getAllChildrenId(e)}).reduce(function(e,t){return e.concat(t)},[])])},[]).concat(e.item.id).reduce(function(e,t){return e.concat(t)},[])}},{key:"getAllParentId",value:function(e){for(var t=[];e&&0!==e.item.parentId;){var n=this.testCaseList.get(e.item.parentId);t.push(n?n.item.id:null),e=n}return t.filter(function(e){return!!e})}},{key:"showChildrenBeforeAddDraftNode",value:function(e){var t=this;e?e.children.forEach(function(e){return t.hiddenNodeSetId.delete(e.item.id)}):this.hiddenNodeSetId.forEach(function(e){null===t.pristineTestCaseMap.get(e).parentId&&t.hiddenNodeSetId.delete(e)}),this.cdr.detectChanges()}},{key:"initializeTreeNode",value:function(e,n){var i=new Z.i,r=new X.o;return r.id=0,r.parentId=e?e.item.id:null,r.projectId=this.project.id,r.setupId=e?e.item.setupId:null,r.preconditionId=e?e.item.preconditionId:null,r.isGroup=n,r.title="",r.description=e?e.item.description:"",r.testSteps="",r.expectedResult="",r.orderNum=e?e.children.length?e.children.slice(-1)[0].item.orderNum+1e3:1e3:this.rootLevelTestCase.size?t(this.rootLevelTestCase.entries()).map(function(e){return e[1]}).sort(function(e,t){return e.orderNum>t.orderNum?1:-1}).slice(-1)[0].orderNum+1e3:1e3,i.item=r,i.children=[],i}},{key:"treeNodeHasDraftChildren",value:function(e){return e?e.children.filter(function(e){return 0===e.item.id}).length>0:this.rootLevelTestCase.has(0)}},{key:"treeNodeChanged",value:function(e,t){var n=this.pristineTestCaseMap.get(e.item.id),i=!1;switch(t){case"setupId":case"preconditionId":case"title":case"description":case"testSteps":case"expectedResult":case"isDraft":case null:i=!0}if(!i)return!1;if(!n)return!0;switch(t){case"setupId":return n.setupId!==e.item.setupId;case"preconditionId":return n.preconditionId!==e.item.preconditionId;case"title":return(n.title||"").trim()!==(e.item.title||"").trim();case"description":return(n.description||"").trim()!==(e.item.description||"").trim();case"testSteps":return(n.testSteps||"").trim()!==(e.item.testSteps||"").trim();case"expectedResult":return(n.expectedResult||"").trim()!==(e.item.expectedResult||"").trim();case"isDraft":return n.isDraft!==e.item.isDraft;default:return n.setupId!==e.item.setupId||(n.title||"").trim()!==(e.item.title||"").trim()||(n.description||"").trim()!==(e.item.description||"").trim()||(n.testSteps||"").trim()!==(e.item.testSteps||"").trim()||(n.expectedResult||"").trim()!==(e.item.expectedResult||"").trim()}}},{key:"canSubmitTreeNode",value:function(e,t){var n=!1;switch(t){case"setupId":case"preconditionId":case"title":case"description":case"testSteps":case"expectedResult":case"isDraft":case null:n=!0}if(!n)return!1;switch(t){case"setupId":case"preconditionId":case"description":case"testSteps":case"expectedResult":case"isDraft":return!0;case"title":default:return(e.item.title||"").trim().length>0}}},{key:"addDraftTreeNode",value:function(e){this.createState=!0;var t=this.testCaseList.get(this.lastNodeId);this.resetActiveTreeNode();var n=this.initializeTreeNode(t,e);t?this.testCaseService.addDraftTestCase(n,t):this.testCaseService.addDraftTestCase(n),this.cdr.detectChanges(),this.windowRefService.focusElementById("input-testcase-0",100)}},{key:"revertTreeNode",value:function(e){var t=this.pristineTestCaseMap.get(e.item.id);e.item.setupId=t?t.setupId:null,e.item.title=t?t.title:"",e.item.description=t?t.description:null,e.item.testSteps=t?t.testSteps:"",e.item.expectedResult=t?t.expectedResult:"",this.activeNode=null,this.activeNodeId=-1,this.newSetupTitle="",this.cdr.detectChanges()}},{key:"revertTreeNodeTitle",value:function(e){var t=this.pristineTestCaseMap.get(e.item.id);e.item.title=t?t.title:"",this.cdr.detectChanges()}},{key:"revertTreeNodeDescription",value:function(e){var t=this.pristineTestCaseMap.get(e.item.id);e.item.description=t?t.description:null,this.cdr.detectChanges()}},{key:"revertTreeNodeTestSteps",value:function(e){var t=this.pristineTestCaseMap.get(e.item.id);e.item.testSteps=t?t.testSteps:"",this.cdr.detectChanges()}},{key:"revertTreeNodeExpectedResult",value:function(e){var t=this.pristineTestCaseMap.get(e.item.id);e.item.expectedResult=t?t.expectedResult:"",this.cdr.detectChanges()}},{key:"invalidateTreeNode",value:function(e,t,n){var i=this.pristineTestCaseMap.get(e.item.id);t&&"title"!==t||!n||(e.item.title=n.trim(),0!==(e.item.title||"").trim().length)?this.treeNodeChanged(e,t)&&this.canSubmitTreeNode(e,t)&&(0===e.item.id?this.createTestCase(e):this.updateTestCase(e,t)):e.item.title=i?i.title:""}},{key:"resetActiveTreeNode",value:function(){this.activeNode=null,this.activeNodeId=-1,this.activeQueryId=null,this.newSetupTitle="",this.cdr.detectChanges()}},{key:"findParentWithValidSetup",value:function(e){for(var t=e.item.id;e&&!e.item.setupId;)t=e.item.parentId,e=this.testCaseList.get(t);return e||null}},{key:"treeNodeSetupSteps",value:function(e){for(var t,n=[],i=e.item.setupId?e.item.setupId:this.findParentWithValidSetup(e)?this.findParentWithValidSetup(e).item.setupId:0;i;)t=this.flatSetup.get(i),n.unshift(t||null),i=t?t.parentId:null;return n}},{key:"findParentWithValidPrecondition",value:function(e){for(var t=e.item.id;e&&!e.item.preconditionId;)t=e.item.parentId,e=this.testCaseList.get(t);return e||null}},{key:"treeNodePreconditionSteps",value:function(e){for(var t,n=new Array,i=e.item.preconditionId?e.item.preconditionId:this.findParentWithValidPrecondition(e)?this.findParentWithValidPrecondition(e).item.preconditionId:0;i;)t=this.flatSetup.get(i),n.unshift(t||null),i=t?t.parentId:null;return n}},{key:"setActiveTreeNode",value:function(e){var t=this;if(console.log("set active node"),e.item.id&&this.router.navigate([],{queryParams:{id:e.item.id},replaceUrl:!0,queryParamsHandling:"merge"}),this.activeNode=e,this.activeNodeId=e.item.id,this.newSetupTitle="",this.inheritedSetupTestCase=null,this.inheritedPreconditionTestCase=null,!this.activeNode.item.setupId){var n=this.findParentWithValidSetup(e);this.inheritedSetupTestCase=n?n.item:null}if(!this.activeNode.item.preconditionId){var i=this.findParentWithValidPrecondition(e);this.inheritedPreconditionTestCase=i?i.item:null}this.activeNodeSetup=this.treeNodeSetupSteps(e),this.activeNodePrecondition=this.treeNodePreconditionSteps(this.activeNode),this.attachments.has(this.activeNode.item.id)&&(this.activeFileAttachments=this.attachments.get(this.activeNode.item.id)),this.getLinkedAttachments(this.activeNode.item.id),this.showMoreParamMap.clear(),this.paramTypeMap.clear(),this.activeNodeSetup.forEach(function(e){e&&(t.childParamArray=[],t.showMoreParamMap.set(e.id,!1),t.paramTypeMap.set(e.id,t.activeNode.item.specs.find(function(t){return t.setupId===e.id})?t.activeNode.item.specs.find(function(t){return t.setupId===e.id}).specType:null),t.flatteringTree(t.parameterList.get(e.parameterId),0),t.levelParamMap.set(e.id,t.childParamArray))}),this.cdr.detectChanges()}},{key:"showBrowsePreconditionDialog",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.dialog.open(se,{width:"850px",data:{project:this.project,testCaseId:this.activeNode.item.id,setupId:e.item.setupId,preconditionId:e.item.preconditionId,inheritedSetupId:this.inheritedSetupTestCase?this.inheritedSetupTestCase.setupId:null,inheritedPreconditionId:this.inheritedPreconditionTestCase?this.inheritedPreconditionTestCase.preconditionId:null,startSetup:n,setPrecondition:!0}}).afterClosed().pipe(Object(F.a)(this.destroy$)).subscribe(function(n){null!==n&&"number"!=typeof n||(t.activeNodePrecondition=t.treeNodePreconditionSteps(e),t.nodeWithSamePreconditionMap.clear(),t.getNodeWithSamePrecondition(e,e.item.preconditionId),e.children.length>0&&t.nodeWithSamePreconditionMap.size>1?t.showPreconditionChangedDialog(e,n):(e.item.preconditionId=n,t.invalidateTreeNode(e,"preconditionId")),t.cdr.detectChanges())})}},{key:"removePreconditionStep",value:function(e){this.activeNode.item.preconditionId=e.parentId,this.activeNodePrecondition=this.treeNodePreconditionSteps(this.activeNode),this.invalidateTreeNode(this.activeNode,"preconditionId"),this.cdr.detectChanges()}},{key:"clearPrecondition",value:function(){this.activeNode.item.preconditionId=null,this.activeNodePrecondition=[],this.invalidateTreeNode(this.activeNode,"preconditionId"),this.cdr.detectChanges()}},{key:"showBrowseSetupDialog",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.dialog.open(se,{width:"850px",data:{project:this.project,testCaseId:this.activeNode.item.id,setupId:e.item.setupId,preconditionId:e.item.preconditionId,inheritedSetupId:this.inheritedSetupTestCase?this.inheritedSetupTestCase.setupId:null,inheritedPreconditionID:this.inheritedPreconditionTestCase?this.inheritedPreconditionTestCase.preconditionId:null,startSetup:n,setSetup:!0}}).afterClosed().pipe(Object(F.a)(this.destroy$)).subscribe(function(n){null!==n&&"number"!=typeof n||(t.nodeWithSameSetupMap.clear(),t.getNodeWithSameSetup(e,e.item.setupId),e.children.length>0&&t.nodeWithSameSetupMap.size>1?t.showSetupChangedDialog(e,n):(e.item.setupId=n,t.activeNodeSetup=t.treeNodeSetupSteps(e),t.invalidateTreeNode(e,"setupId")),t.cdr.detectChanges())})}},{key:"removeSetupStep",value:function(e){this.activeNode.item.setupId=e.parentId,this.activeNodeSetup=this.treeNodeSetupSteps(this.activeNode),this.invalidateTreeNode(this.activeNode,"setupId"),this.cdr.detectChanges()}},{key:"clearSetup",value:function(){var e=this,t=this.activeNode.item.specs.map(function(t){return e.hyperionTestCaseService.despecializeTestCase(new ge.a,e.activeNode.item.id,t.setupId)});t.length>0?Object(V.b)(t).pipe(Object(F.a)(this.destroy$)).subscribe(function(t){t.every(function(e){return e instanceof X.o})?(e.activeNode.item.setupId=null,e.activeNodeSetup=[],e.invalidateTreeNode(e.activeNode,"setupId")):e.notificationService.error("Can't remove specialized parameter")}):(this.activeNode.item.setupId=null,this.activeNodeSetup=[],this.invalidateTreeNode(this.activeNode,"setupId")),this.cdr.detectChanges()}},{key:"getOrderNum",value:function(e,n){switch(n){case pe.a.Before:if(e.item.parentId){var i=this.testCaseList.get(e.item.parentId).children.indexOf(e);return 0===i?1e3:Math.round((e.item.orderNum+this.testCaseList.get(e.item.parentId).children[i-1].item.orderNum)/2)}var r=t(this.rootLevelTestCase.entries()).map(function(e){return e[1]}).findIndex(function(t){return t.id===e.item.id});return 0===r?1e3:Math.round((e.item.orderNum+t(this.rootLevelTestCase.entries()).map(function(e){return e[1]})[r-1].orderNum)/2);case pe.a.After:if(e.item.parentId){var a=this.testCaseList.get(e.item.parentId).children.indexOf(e);return a===this.testCaseList.get(e.item.parentId).children.length-1?e.item.orderNum+1e3:Math.round((e.item.orderNum+this.testCaseList.get(e.item.parentId).children[a+1].item.orderNum)/2)}var o=t(this.rootLevelTestCase.entries()).map(function(e){return e[1]}).findIndex(function(t){return t.id===e.item.id});return o===this.rootLevelTestCase.size-1?e.item.orderNum+1e3:Math.round((e.item.orderNum+t(this.rootLevelTestCase.entries()).map(function(e){return e[1]})[o+1].orderNum)/2)}}},{key:"getNodeWithSameSetup",value:function(e,t){var n=this;e.item.setupId===t&&this.nodeWithSameSetupMap.set(e.item.id,e),e.children.forEach(function(e){return n.getNodeWithSameSetup(e,t)})}},{key:"showSetupChangedDialog",value:function(e,t){var n=this,i=this.pristineTestCaseMap.get(e.item.id),r=Array.from(this.nodeWithSameSetupMap).filter(function(t){return t[0]!==e.item.id}).map(function(e){return e[1].item.title}).join(",");e.item.setupId=t,t!==i.setupId&&this.nodeWithSameSetupMap.size>1&&(W.a.fire({title:"Setup changed",text:"Do you want change setup for following children ("+r+")",type:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(t){t.value&&(n.nodeWithSameSetupMap.forEach(function(t){t.item.setupId=e.item.setupId,n.updateTestCase(t,"setupId")}),n.updateTestCase(e,"setupId"))}),this.setActiveTreeNode(this.testCaseList.get(e.item.id)))}},{key:"getNodeWithSamePrecondition",value:function(e,t){var n=this;e.item.preconditionId===t&&this.nodeWithSamePreconditionMap.set(e.item.id,e),e.children.forEach(function(e){return n.getNodeWithSamePrecondition(e,t)})}},{key:"showPreconditionChangedDialog",value:function(e,t){var n=this,i=this.pristineTestCaseMap.get(e.item.id),r=Array.from(this.nodeWithSamePreconditionMap).filter(function(t){return t[0]!==e.item.id}).map(function(e){return e[1].item.title}).join(",");e.item.preconditionId=t,t!==i.preconditionId&&this.nodeWithSamePreconditionMap.size>1&&(W.a.fire({title:"Precondition changed",text:"Do you want change precondition for following children ("+r+")",type:"question",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(t){t.value&&(n.nodeWithSameSetupMap.forEach(function(t){t.item.preconditionId=e.item.preconditionId,n.updateTestCase(t,"preconditionId")}),n.updateTestCase(e,"preconditionId"))}),this.setActiveTreeNode(this.testCaseList.get(e.item.id)))}},{key:"dropped",value:function(e){var t,i=this,r=function(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==i.return||i.return()}finally{if(l)throw o}}}}(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.fileEntry.isFile&&function(){var e=a.fileEntry,t=new O.a(0);i.attachmentsProgress.set(a.fileEntry.name,t),e.file(function(e){i.uploadService.uploadAttachment(e,X.b.TestCase,i.activeNode.item.id).pipe(Object(R.a)(function(e){return e.type===A.d.UploadProgress}),Object(L.a)(function(){t.complete(),i.attachmentsProgress.delete(e.name),i.cdr.detectChanges()})).subscribe(function(e){var n=Math.round(100*e.loaded/e.total);t.next(n)},function(t){return i.notificationService.warning("Failed to upload attachment error: "+e.name)})})}()}}catch(o){r.e(o)}finally{r.f()}}},{key:"fileOver",value:function(e){}},{key:"fileLeave",value:function(e){}},{key:"createTestCase",value:function(e){var t=this,n=new ve.a;n.parentId=e.item.parentId,n.setupId=e.item.setupId,n.preconditionId=e.item.preconditionId,n.isGroup=e.item.isGroup,n.title=null===e.item.title?null:e.item.title.trim(),n.description=null===e.item.description?null:e.item.description.trim(),n.testSteps=e.item.testSteps.trim(),n.expectedResult=e.item.expectedResult.trim(),n.isDraft=!1,n.orderNum=e.item.orderNum,this.hyperionTestCaseService.createTestCase(n,e.item.projectId).pipe(Object(F.a)(this.destroy$)).subscribe(function(n){t.activeQueryId=n.id,t.createState=!1,t.setActiveTreeNode({children:[],item:{description:n.description,expectedResult:n.expectedResult,id:n.id,isDraft:n.isDraft,isGroup:n.isGroup,orderNum:n.orderNum,parentId:n.parentId,preconditionId:n.preconditionId,projectId:n.projectId,rev:n.rev,setupId:n.setupId,specs:n.specs,testSteps:n.testSteps,title:n.title,createdAt:n.createdAt,updatedAt:n.updatedAt}}),t.testCaseService.clearDraftNode(e.item.parentId),t.cdr.detectChanges(),t.notificationService.success("Test ".concat(e.item.isGroup?"group":"case"," created"))},function(e){if(e instanceof Z.a){var n=null;switch(e.error){case ve.c.ParentNotExists:n="Parent test case does not exist";break;case ve.c.ProjectNotExists:n="Project does not exist";break;case ve.c.PreconditionNotExists:n="Precondition setup step does not exists";break;case ve.c.SetupNotExists:n="Setup step does not exist";break;case ve.c.TitleAlreadyExists:n="Test case title already exists";break;case ve.c.HasChildren:n="Setup step has children"}t.notificationService.error(n||e)}else t.notificationService.error(e)})}},{key:"updateTestCase",value:function(e,t,n,i){var r=this,a=new ve.e,o=this.pristineTestCaseMap.get(e.item.id);a.parentId=n?-1===n?null:n:e.item.parentId!==o.parentId?e.item.parentId:o.parentId,a.orderNum=i||(e.item.orderNum!==o.orderNum?e.item.orderNum:o.orderNum),e.item.setupId===o.setupId||null!==t&&"setupId"!==t||(a.setupId=e.item.setupId),e.item.preconditionId===o.preconditionId||null!==t&&"preconditionId"!==t||(a.preconditionId=e.item.preconditionId),e.item.title===o.title||null!==t&&"title"!==t||(a.title=e.item.title),e.item.description===o.description||null!==t&&"description"!==t||(a.description=e.item.description),e.item.testSteps===o.testSteps||null!==t&&"testSteps"!==t||(a.testSteps=e.item.testSteps),e.item.expectedResult===o.expectedResult||null!==t&&"expectedResult"!==t||(a.expectedResult=e.item.expectedResult),e.item.isDraft===o.isDraft||null!==t&&"isDraft"!==t||(a.isDraft=e.item.isDraft),this.hyperionTestCaseService.updateTestCase(a,e.item.id).pipe(Object(F.a)(this.destroy$)).subscribe(function(t){r.notificationService.success("Test ".concat(e.item.isGroup?"group":"case"," updated")),r.activeNodeSetup.filter(function(e){return e.parameterId&&-1===t.specs.findIndex(function(t){return t.setupId===e.id})}).forEach(function(e){r.specializeParam(r.specTypeEnum.Source+"|"+r.flatParameter.get(e.parameterId).id,e.id)}),r.cdr.detectChanges()},function(e){if(e instanceof Z.a){var t=null;switch(e.error){case ve.c.ParentNotExists:t="Parent test case does not exist";break;case ve.c.ProjectNotExists:t="Project does not exist";break;case ve.c.PreconditionNotExists:t="Precondition setup step does not exists";break;case ve.c.SetupNotExists:t="Setup step does not exist";break;case ve.c.TitleAlreadyExists:t="Test case title already exists";break;case ve.c.HasChildren:t="Setup step has children"}r.notificationService.error(t||e)}else r.notificationService.error(e)})}},{key:"deleteTestCase",value:function(e){var t=this;if(e===this.activeNode&&(this.activeNode=null,this.activeNodeId=-1),0===e.item.id)return this.testCaseService.clearDraftNode(e.item.parentId?e.item.parentId:null),void this.cdr.detectChanges();var n=e.item.specs.map(function(n){return t.hyperionTestCaseService.despecializeTestCase(new ge.a,e.item.id,n.setupId)});n.length>0?Object(V.b)(n).pipe(Object(z.a)(function(n){return n.every(function(e){return e instanceof X.o})?t.hyperionTestCaseService.deleteTestCase(e.item.id).pipe(Object(F.a)(t.destroy$)):Object($.a)(new Z.a)})).subscribe(function(n){t.activeNode=null,t.activeNodeId=-1,t.notificationService.success("Test ".concat(e.item.isGroup?"group":"case"," deleted")),t.cdr.detectChanges()},function(n){n instanceof Z.a&&n.error===ve.c.HasChildren?t.notificationService.warning("Test ".concat(e.item.isGroup?"group":"case"," can not be deleted because it is used elsewhere")):n instanceof Z.g?(t.notificationService.warning("Test ".concat(e.item.isGroup?"group":"case"," is not found. Maybe it was deleted already")),t.activeNode&&e.item.id===t.activeNode.item.id&&(t.activeNode=null,t.activeNodeId=-1),t.cdr.detectChanges()):t.notificationService.error(n)}):this.hyperionTestCaseService.deleteTestCase(e.item.id).pipe(Object(F.a)(this.destroy$)).subscribe(function(n){t.activeNode=null,t.activeNodeId=-1,t.notificationService.success("Test ".concat(e.item.isGroup?"group":"case"," deleted")),t.cdr.detectChanges()},function(n){n instanceof Z.a&&n.error===ve.c.HasChildren?t.notificationService.warning("Test ".concat(e.item.isGroup?"group":"case"," can not be deleted because it is used elsewhere")):n instanceof Z.g?(t.notificationService.warning("Test ".concat(e.item.isGroup?"group":"case"," is not found. Maybe it was deleted already")),t.activeNode&&e.item.id===t.activeNode.item.id&&(t.activeNode=null,t.activeNodeId=-1),t.cdr.detectChanges()):t.notificationService.error(n)})}},{key:"getLinkedAttachments",value:function(e){var t=this;0!==e&&this.hyperionAttachmentService.getLinkedAttachments(X.b.TestCase,e).pipe(Object(F.a)(this.destroy$)).subscribe(function(n){t.attachments.set(e,n.items),t.activeFileAttachments=n.items,t.cdr.detectChanges()},function(e){return t.notificationService.error(e)})}},{key:"unlinkFileAttachment",value:function(e,t){var n=this;this.hyperionAttachmentService.deleteAttachmentLink(e,X.b.TestCase,t).pipe(Object(F.a)(this.destroy$)).subscribe(function(t){n.activeFileAttachments=n.activeFileAttachments.filter(function(t){return t.id!==e}),n.cdr.detectChanges()},function(e){return n.notificationService.error(e)})}},{key:"expandAllTreeNodes",value:function(){this.dynamicTree.expandTreeNodes()}},{key:"collapseAllTreeNodes",value:function(){this.dynamicTree.collapseTreeNodes()}},{key:"filterCallback",value:function(e,t){return!t||e.title.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}},{key:"orderingCallback",value:function(e,t){return e.item.orderNum>t.item.orderNum?1:-1}},{key:"updateAfterDrop",value:function(e){var n=this,i=e.dropType,r=e.draggedNode,a=e.targetNode,o=this.pristineTestCaseMap.get(r.item.id),c=this.pristineTestCaseMap.get(o.parentId),l=null,d=null;switch(i){case pe.a.Before:case pe.a.After:d=a.item.parentId,l=this.getOrderNum(a,i);break;case pe.a.Into:d=a.item.id,l=a.children.length?a.children.slice(-1)[0].item.orderNum+1e3:1e3;break;case pe.a.Root:d=-1,r.item.orderNum=t(this.rootLevelTestCase.entries()).map(function(e){return e[1]}).sort(function(e,t){return e.orderNum>t.orderNum?1:-1}).slice(-1)[0].orderNum+1e3}r.item.parentId!==o.parentId&&c&&r.item.parentId&&(r.item.setupId===c.setupId||r.item.preconditionId===c.preconditionId)?this.afterDropDialog.fire().then(function(e){e.value&&(n.nodeSetupChangeCheckbox.checked&&(r.item.setupId===c.setupId&&(r.item.setupId=a.item.setupId),r.item.preconditionId===c.preconditionId&&(r.item.preconditionId=a.item.preconditionId)),n.childrenChangeCheckbox.checked&&r.children.filter(function(e){return e.item.setupId===c.setupId||e.item.preconditionId===c.preconditionId}).forEach(function(e){e.item.setupId===c.setupId&&(e.item.setupId=a.item.setupId),e.item.preconditionId===c.preconditionId&&(e.item.preconditionId=a.item.preconditionId),n.updateTestCase(e,null)})),n.updateTestCase(r,null,d,l)}):this.updateTestCase(r,null,d,l)}},{key:"showNotification",value:function(e){var t=e.message;switch(e.type){case H.b.Success:this.notificationService.success(t);break;case H.b.Info:this.notificationService.info(t);break;case H.b.Warning:this.notificationService.warning(t);break;case H.b.Error:this.notificationService.error(t)}}},{key:"getSpecValue",value:function(e){if(!this.activeNode.item.specs.find(function(t){return t.setupId===e}))return!1;var t=this.activeNode.item.specs.find(function(t){return t.setupId===e});switch(t.specType){case X.n.Any:return X.n.Any+"|any";case X.n.Random:return X.n.Random+"|random";case X.n.Value:return X.n.Value+"|"+t.value;case X.n.Source:return X.n.Source+"|"+t.parameterId;default:return!1}}},{key:"getSpec",value:function(e){return this.inheritedSetupTestCase?this.inheritedSetupTestCase.specs.find(function(t){return t.setupId===e})||null:this.activeNode.item.specs.find(function(t){return t.setupId===e})||null}},{key:"specializeParam",value:function(e,t){var n=this,i=new Map;this.activeNode.item.specs.forEach(function(e,t){i.set(e.setupId,n.flatParameter.get(n.flatSetup.get(e.setupId).parameterId))});var r=new ve.b;i.forEach(function(e,i){e.dependentId===n.flatSetup.get(t).parameterId&&n.activeNode.item.specs.forEach(function(t,a){t.setupId===i&&(r.specType=X.n.Source,r.value=null,r.parameterId=e.id,n.hyperionTestCaseService.specializeTestCase(r,n.activeNode.item.id,i).subscribe(function(e){n.showNotification({type:H.b.Success,message:"Parameter successfully changed"})},function(e){return n.showNotification({type:H.b.Error,message:"Something going wrong"})}))})});var a=new ve.b,o=e.split("|")[0],c=e.split("|")[1];switch(o){case"3":a.specType=X.n.Any;break;case"4":a.specType=X.n.Random;break;case"1":a.specType=X.n.Value,a.value=c+"";break;case"2":a.specType=X.n.Source,a.parameterId=+c}this.hyperionTestCaseService.specializeTestCase(a,this.activeNode.item.id,t).subscribe(function(e){n.showNotification({type:H.b.Success,message:"Parameter successfully changed"})},function(e){return n.showNotification({type:H.b.Error,message:"Something going wrong"})})}},{key:"despecializeParam",value:function(e){var t=this,n=new ge.a;this.hyperionTestCaseService.despecializeTestCase(n,this.activeNode.item.id,e).subscribe(function(n){t.showMoreParamMap.set(e,!1),t.showNotification({type:H.b.Success,message:"Parameter successfully changed"})},function(e){return t.showNotification({type:H.b.Error,message:"Something going wrong"})})}},{key:"flatteringTree",value:function(e,t){var n=this;if(e){t++;var i=new Z.i;i.item=new X.f,i.item.title="",i.item.values=e.item.values,i.item.id=e.item.id,i.item.parentId=e.item.parentId,i.item.projectId=e.item.projectId,i.children=e.children,i.item.title="&nbsp;&nbsp;&nbsp;&nbsp;".repeat(t-1)+e.item.title,this.childParamArray.push({level:t,item:i.item}),e.children.forEach(function(e){return n.flatteringTree(e,t)})}}},{key:"getParameters",value:function(e){var n=this,i=t(this.flatSetup.values()).filter(function(e){return e.parameterId}).find(function(t){return t.parameterId===n.flatParameter.get(e).dependentId}),r=i?this.activeNode.item.specs.find(function(e){return e.setupId===i.id}):null;return r&&r.value?this.flatParameter.get(e).values.filter(function(e){return e.dependentValue===r.value}):this.flatParameter.get(e).values}},{key:"focusTestCase",value:function(){var e=this;this.activeQueryId&&this.ready$.asObservable().pipe(Object(R.a)(function(e){return!!e}),Object(_.a)(1)).subscribe(function(){var t=e.testCaseList.get(e.activeQueryId);if(t){var n=e.getAllParentId(t);e.dynamicTree.expandTreeNodesById(n),setTimeout(function(){var n=e.render.selectRootElement("#input-testcase-"+t.item.id);setTimeout(function(){return n.focus()},10),console.log("focus test case"),e.setActiveTreeNode(t)},20)}else e.router.navigate([],{queryParams:{id:null},replaceUrl:!0,queryParamsHandling:"merge"})})}},{key:"tooltipTextShow",value:function(e){var t=this;if(0===e.item.specs.length)return null;var n=this.treeNodeSetupSteps(e).map(function(e){return e.parameterId}).filter(function(e){return!!e}),i=n.map(function(e){if(t.flatParameter.get(e).dependentId)return e}).filter(function(e){return!!e});if(i.map(function(e){return-1!==n.findIndex(function(n){return n===t.flatParameter.get(e).dependentId})}).every(function(e){return!0===e}))return null;var r=i.filter(function(e){return-1===n.findIndex(function(n){return n===t.flatParameter.get(e).dependentId})}),a="";return r.forEach(function(e){a+="["+t.flatParameter.get(e).title+"] parameter depends on ["+t.flatParameter.get(t.flatParameter.get(e).dependentId).title+"] parameter which is not set for any of the parent setup steps \n"}),a}},{key:"afterTreeRendered",value:function(e){e&&this.focusTestCase()}}]),i}()).\u0275fac=function(e){return new(e||Mt)(ee["\u0275\u0275directiveInject"](s.a),ee["\u0275\u0275directiveInject"](s.g),ee["\u0275\u0275directiveInject"](ee.Renderer2),ee["\u0275\u0275directiveInject"](ee.ChangeDetectorRef),ee["\u0275\u0275directiveInject"](m.b),ee["\u0275\u0275directiveInject"](T.Lightbox),ee["\u0275\u0275directiveInject"](ye.a),ee["\u0275\u0275directiveInject"](me.a),ee["\u0275\u0275directiveInject"](fe.a),ee["\u0275\u0275directiveInject"](G.a),ee["\u0275\u0275directiveInject"](he.a),ee["\u0275\u0275directiveInject"](H.a),ee["\u0275\u0275directiveInject"](ue.a),ee["\u0275\u0275directiveInject"](U.a),ee["\u0275\u0275directiveInject"](xe.a),ee["\u0275\u0275directiveInject"](K.a),ee["\u0275\u0275directiveInject"](Se.a),ee["\u0275\u0275directiveInject"](q.a))},Mt.\u0275cmp=ee["\u0275\u0275defineComponent"]({type:Mt,selectors:[["m-test-cases-new-page"]],viewQuery:function(e,t){var n;1&e&&(ee["\u0275\u0275staticViewQuery"](Ne,!0),ee["\u0275\u0275staticViewQuery"](Te,!0),ee["\u0275\u0275viewQuery"](te.a,!0)),2&e&&(ee["\u0275\u0275queryRefresh"](n=ee["\u0275\u0275loadQuery"]())&&(t.afterDropDialog=n.first),ee["\u0275\u0275queryRefresh"](n=ee["\u0275\u0275loadQuery"]())&&(t.checkbox1=n.first),ee["\u0275\u0275queryRefresh"](n=ee["\u0275\u0275loadQuery"]())&&(t.dynamicTree=n.first))},decls:49,vars:14,consts:[["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"m-portlet","mb-0"],[1,"m-portlet__head","compact","align-items-center"],[1,"d-inline-flex"],["mat-raised-button","","color","primary",3,"matMenuTriggerFor","disabled","click"],[1,"ml-2","m-button-group"],["mat-raised-button","",3,"click"],[1,"m-portlet__head-tools"],[1,"m-portlet__nav"],[4,"ngIf"],[1,"m-portlet__nav-item"],["href","javascript:void(null);","title","Refresh","matTooltip","Click to refresh","matTooltipPosition","above",1,"m-portlet__nav-link","m-portlet__nav-link--icon",3,"click"],[1,"las","la-sync"],[1,"d-flex"],["unit","percent","direction","horizontal"],[3,"size"],[1,"pt-2","col-12","left-split-content"],[2,"height","70vh"],[3,"inputNodes$","hiddenNodeSet","dimmedNodeSet","canDrag","nodeAdded","nodeRemoved","nodeModified","showNotification","treeRendered"],["nodeTitleTemplate",""],["addButtonTemplate",""],[3,"size",4,"ngIf"],[3,"swalOptions"],["afterDropDialog",""],["lessAttachments",""],["moreAttachments",""],["uploadButton",""],[1,"pr-2"],["floatLabel","never",2,"width","300px"],["matInput","","placeholder","Type to filter...",3,"keyup"],["type","text",1,"monospace","new-in-place",2,"max-width","100ch !important","padding-left","5px !important",3,"id","placeholder","ngModel","ngModelChange","click","keyup.escape","keyup.enter","blur"],["class","las la-exclamation-triangle c-warning f-s-20","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above",1,"las","la-exclamation-triangle","c-warning","f-s-20",3,"matTooltip"],["class","icon-button","color","primary","matTooltip","Click to add a child","matTooltipPosition","above",3,"matMenuTriggerFor","disabled","click",4,"ngIf"],["color","primary","matTooltip","Click to add a child","matTooltipPosition","above",1,"icon-button",3,"matMenuTriggerFor","disabled","click"],[1,"las","la-plus","cursor-pointer","blue","f-s-20"],[1,"col","pt-3","pl-2","pr-2","right-split-content"],[1,"sticky-block"],[1,"title-container"],["matInput","","type","text",1,"form-control","inline-block",2,"max-width","65%",3,"placeholder","ngModel","ngModelChange","keyup.escape","blur"],[1,"block","text-right",2,"width","35%"],[1,"",3,"click"],[1,"las","la-times"],[1,"block","text-left",2,"width","50%"],[1,"sticky-id","dimmed"],[1,"block",2,"width","50%"],[1,"f-s-13","f-w-400"],["color","primary",3,"ngModel","ngModelChange","change"],[1,"basic-tree","pl-0"],[1,"f-w-600","block","pb-1"],["matInput","","matTextareaAutosize","","matAutosizeMinRows","2","matAutosizeMaxRows","4","placeholder","Put some text here",1,"form-control",3,"ngModel","ngModelChange","keyup.escape","blur"],[1,"input-border"],[1,"f-w-600","block","mb-0"],["matInput","","type","text",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup.escape","keyup.enter","blur"],[1,"row","m-0"],[1,"f-w-600","block"],["href","javascript:void(null)",1,"ml-2","f-w-400",3,"click"],[1,"f-w-400"],["class","dimmed",4,"ngIf"],["class","pl-0",4,"ngIf"],[1,"row"],[1,"col-md-12","mini"],[1,"col-md-12","mt-1",2,"display","flex","flex-wrap","wrap"],[3,"ngTemplateOutlet"],[1,"c-gray","ml-1","f-w-300"],["href","javascript:void(null)",1,"ml-1","f-w-400","c-error",3,"click"],[1,"c-info","f-w-500"],[1,"dimmed"],[1,"pl-0"],[4,"ngFor","ngForOf"],["href","javascript:void(null)","class","f-w-400",3,"click",4,"ngIf"],[1,"d-table-row"],[1,"d-table-cell","m--valign-top"],[1,"c-info"],[1,"d-table-cell"],[1,"inline-block","medium-line","align-text-bottom"],[1,"d-table-cell","m--valign-top",2,"padding-top","3px"],["class","c-error align-text-bottom ml-1 clickable animate","style","height: 21px",3,"f-w-600","mouseover","mouseout","click",4,"ngIf"],[1,"c-error","align-text-bottom","ml-1","clickable","animate",2,"height","21px",3,"mouseover","mouseout","click"],["href","javascript:void(null)",1,"f-w-400",3,"click"],[1,"c-success","align-text-bottom","f-w-600","narrow-icon"],[1,"medium-line","align-text-bottom"],["class","c-error m--valign-top align-text-bottom ml-1 clickable animate","style","padding-top: 3px",3,"f-w-600","mouseover","mouseout","click",4,"ngIf"],["class","d-table-cell",4,"ngIf"],[1,"c-error","m--valign-top","align-text-bottom","ml-1","clickable","animate",2,"padding-top","3px",3,"mouseover","mouseout","click"],[1,"c-gray","mr-2",3,"inline"],["class","f-w-400","href","javascript:void(null)",3,"ngSwitch","click",4,"ngIf"],["class","f-w-400",3,"click",4,"ngIf"],["href","javascript:void(null)",1,"f-w-400",3,"ngSwitch","click"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"f-w-400",3,"click"],["placeholder","Select parameter",1,"param-select",3,"value","selectionChange","openedChange"],[3,"value"],["label","Values",4,"ngIf"],["label","Sources",4,"ngIf"],["label","Values"],[3,"value",4,"ngFor","ngForOf"],[1,"la","la-link"],["label","Sources"],[3,"value","innerHTML",4,"ngFor","ngForOf"],[3,"value","innerHTML"],[1,"textarea-border"],[1,"col-md-6"],["matInput","","type","text","readonly","",1,"form-control",3,"value"],["class","attachment-count-container clickable mr-1 mb-1 animate",3,"click",4,"ngIf"],[4,"ngTemplateOutlet"],["class","thumb mr-1 mb-1 inline-block animate clickable","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above",1,"thumb","mr-1","mb-1","inline-block","animate","clickable",3,"matTooltip"],[3,"ngSwitch"],[3,"src","click",4,"ngSwitchCase"],["target","_blank",3,"href","ngSwitch"],["class","placeholder inline-block",4,"ngSwitchCase"],[1,"delete","animate",3,"swal","confirm"],[1,"animate","c-white"],[3,"src","click"],[1,"placeholder","inline-block"],[1,"attachment-count-container","clickable","mr-1","mb-1","animate",3,"click"],[1,"attachment-count-label","animate"],["class","thumb mr-1 mb-1 inline-block animate clickable","matTooltipPosition","above",3,"matTooltip",4,"ngFor","ngForOf"],[1,"uploader","compact","inline-block","clickable","mb-1"],["dropZoneLabel","Drop files here",3,"onFileDrop","onFileOver","onFileLeave"],["ngx-file-drop-content-tmp",""],["class","progress-container mr-1 mb-1",4,"ngIf"],[1,"progress-container","mr-1","mb-1"],["color","primary","mode","determinate",3,"value"],[1,"progress-percent"],["mat-icon-button","","color","primary",1,"animate",3,"click"],[1,"animate"]],template:function(e,t){if(1&e&&(ee["\u0275\u0275elementStart"](0,"mat-menu",null,0),ee["\u0275\u0275elementStart"](2,"button",1),ee["\u0275\u0275listener"]("click",function(){return t.addDraftTreeNode(!0)}),ee["\u0275\u0275elementStart"](3,"mat-icon"),ee["\u0275\u0275text"](4,"folder"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](5,"span"),ee["\u0275\u0275text"](6,"Add test group"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](7,"button",1),ee["\u0275\u0275listener"]("click",function(){return t.addDraftTreeNode(!1)}),ee["\u0275\u0275elementStart"](8,"mat-icon"),ee["\u0275\u0275text"](9,"assignment"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](10,"span"),ee["\u0275\u0275text"](11,"Add test case"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](12,"div",2),ee["\u0275\u0275elementStart"](13,"div",3),ee["\u0275\u0275elementStart"](14,"div",4),ee["\u0275\u0275elementStart"](15,"div"),ee["\u0275\u0275elementStart"](16,"button",5),ee["\u0275\u0275listener"]("click",function(){return t.lastNodeId=0}),ee["\u0275\u0275text"](17," Add test item "),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](18,"div",6),ee["\u0275\u0275elementStart"](19,"button",7),ee["\u0275\u0275listener"]("click",function(){return t.collapseAllTreeNodes()}),ee["\u0275\u0275text"](20,"Collapse"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](21,"button",7),ee["\u0275\u0275listener"]("click",function(){return t.expandAllTreeNodes()}),ee["\u0275\u0275text"](22,"Expand"),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](23,"div",8),ee["\u0275\u0275elementStart"](24,"ul",9),ee["\u0275\u0275template"](25,ke,4,0,"li",10),ee["\u0275\u0275pipe"](26,"async"),ee["\u0275\u0275elementStart"](27,"li",11),ee["\u0275\u0275elementStart"](28,"a",12),ee["\u0275\u0275listener"]("click",function(){return t.refresh()}),ee["\u0275\u0275element"](29,"i",13),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementStart"](30,"div",14),ee["\u0275\u0275elementStart"](31,"as-split",15),ee["\u0275\u0275elementStart"](32,"as-split-area",16),ee["\u0275\u0275elementStart"](33,"div",17),ee["\u0275\u0275elementStart"](34,"perfect-scrollbar",18),ee["\u0275\u0275elementStart"](35,"m-dynamic-tree-map",19),ee["\u0275\u0275listener"]("nodeAdded",function(e){return t.addDraftTreeNode(e)})("nodeRemoved",function(e){return t.deleteTestCase(e)})("nodeModified",function(e){return t.updateAfterDrop(e)})("showNotification",function(e){return t.showNotification(e)})("treeRendered",function(e){return t.afterTreeRendered(e)}),ee["\u0275\u0275template"](36,Pe,2,12,"ng-template",null,20,ee["\u0275\u0275templateRefExtractor"]),ee["\u0275\u0275template"](38,Ae,1,1,"ng-template",null,21,ee["\u0275\u0275templateRefExtractor"]),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275template"](40,ut,61,30,"as-split-area",22),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275elementEnd"](),ee["\u0275\u0275element"](41,"swal",23,24),ee["\u0275\u0275template"](43,yt,4,3,"ng-template",null,25,ee["\u0275\u0275templateRefExtractor"]),ee["\u0275\u0275template"](45,Nt,2,2,"ng-template",null,26,ee["\u0275\u0275templateRefExtractor"]),ee["\u0275\u0275template"](47,Pt,5,3,"ng-template",null,27,ee["\u0275\u0275templateRefExtractor"])),2&e){var n=ee["\u0275\u0275reference"](1);ee["\u0275\u0275advance"](16),ee["\u0275\u0275property"]("matMenuTriggerFor",n)("disabled",t.treeNodeHasDraftChildren(null)),ee["\u0275\u0275advance"](9),ee["\u0275\u0275property"]("ngIf",ee["\u0275\u0275pipeBind1"](26,12,t.ready$)),ee["\u0275\u0275advance"](7),ee["\u0275\u0275property"]("size",t.activeNode?70:100),ee["\u0275\u0275advance"](1),ee["\u0275\u0275classProp"]("darken",t.activeNode),ee["\u0275\u0275advance"](2),ee["\u0275\u0275property"]("inputNodes$",t.testCaseService.testCaseTree$)("hiddenNodeSet",t.hiddenNodeSetId)("dimmedNodeSet",t.dimmedNodeSetId)("canDrag",!0),ee["\u0275\u0275advance"](5),ee["\u0275\u0275property"]("ngIf",t.activeNode&&!t.createState),ee["\u0275\u0275advance"](1),ee["\u0275\u0275property"]("swalOptions",t.afterDropOptions)}},directives:[S.a,S.c,v.a,p.a,S.e,l.m,b.a,be.c,be.b,w.b,te.a,I.a,f.b,g.b,d.c,d.i,d.l,u.a,g.d,l.r,l.l,l.o,l.p,l.q,y.a,Ce.n,h.a,Ce.m,I.b,N.a,N.b,x.a],pipes:[l.b,we,l.e,l.g],styles:[".darken[_ngcontent-%COMP%]{background-color:rgba(176,196,222,.125)}.small-line[_ngcontent-%COMP%]{line-height:21px}.medium-line[_ngcontent-%COMP%]{line-height:24px}.narrow-icon[_ngcontent-%COMP%]{height:16px!important;width:24px!important}.bold-icon[_ngcontent-%COMP%]{font-size:24px!important;height:24px!important;width:24px!important;line-height:26px}input.inplace[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:2px;width:250px;height:26px;padding:2px 5px}  .basic-tree>li div>ul,   .basic-tree>li div>ul>li{list-style-type:disc!important}  .basic-tree>li div>ol,   .basic-tree>li div>ol>li{list-style-type:decimal!important}input.m-selected[_ngcontent-%COMP%]{background-color:#f5f7fa!important;border:1px solid #d3d3d3!important;box-shadow:0 0 7px 0 #d3d3d3!important}.draft[_ngcontent-%COMP%]{color:#ff8949;font-style:italic}.progress-percent[_ngcontent-%COMP%]{text-align:center;top:-60%;z-index:500;display:block;position:relative;font-size:16px}.progress-container[_ngcontent-%COMP%]{display:inline-block;color:#0782d0;width:100px!important;height:100px!important;border:1px solid rgba(7,130,208,.25)!important;border-radius:8px!important;transition:all .125s linear}.param-select[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:3px;width:150px;display:inline-block;padding:0 3px;margin:0 5px;vertical-align:super}.paramTitle[_ngcontent-%COMP%]{cursor:pointer}  .ps__rail-x{visibility:hidden}.align-icon[_ngcontent-%COMP%]{justify-content:center!important;background-repeat:no-repeat!important;display:flex!important;fill:currentColor!important;height:18px!important;width:18px!important;align-items:center!important}  .mat-select-panel .mat-optgroup-label{font-size:12px!important}.la-close-s-f[_ngcontent-%COMP%]{font-size:24px;color:#c4c5d6}.la-close-s-f[_ngcontent-%COMP%]:hover{cursor:pointer;font-size:24px;color:#a5a6b7}"],changeDetection:0}),Mt),Ot=c("NuMO"),Vt=((At=function e(){r(this,e)}).\u0275mod=ee["\u0275\u0275defineNgModule"]({type:At}),At.\u0275inj=ee["\u0275\u0275defineInjector"]({factory:function(e){return new(e||At)},providers:[],imports:[[l.c,d.e,p.b,u.b,m.f,f.d,v.b,g.c,x.b,S.d,b.b,C.c,T.LightboxModule,N.c,I.c,w.c,E.a,P.a,k.a,s.i.forChild([{path:"**",component:jt,resolve:{activeProject:M.a},canActivate:[Ot.a]}]),y.b,h.b,be.a]]}),At)}}])}();