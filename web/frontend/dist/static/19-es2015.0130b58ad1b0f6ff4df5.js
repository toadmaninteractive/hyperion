(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{nKwv:function(e,t,n){"use strict";n.r(t),n.d(t,"AuthModule",function(){return U});var i=n("ofXK"),r=n("3Pt+"),a=n("tyNb"),s=n("bTqV"),o=n("bSwM"),l=n("kmnG"),d=n("qFsG"),m=n("Xa2L"),c=n("HsF7"),g=n("npP2"),p=n("h3I4"),u=n("fXoL"),h=n("jhN1"),v=n("itXk"),y=n("pLZG"),S=n("SxV6"),b=n("nYR2"),f=n("9pgZ"),_=n("PiIy"),E=n("UYTb"),I=n("c5kM"),k=n("0bxZ");let x=(()=>{class e{constructor(e,t,n,i,r,a){this.router=e,this.sanitizer=t,this.cdr=n,this.accountService=i,this.projectService=r,this.storageService=a,this.classes="m-login__signin",this.username="",this.password="",this.signingIn=!1,this.signInError=null,this.slackSysadminDmUrl=this.sanitizer.bypassSecurityTrustUrl(c.a.slackSysadminDmUrl),Object(v.b)(this.accountService.isSignedIn().pipe(Object(y.a)(e=>e)),this.projectService.projects$.asObservable().pipe(Object(y.a)(e=>e instanceof Array))).pipe(Object(S.a)()).subscribe(([e,t])=>{if(t.length>0){const e=this.storageService.getStoredRoute();e&&e!==c.a.errorUrl&&e!==c.a.loginUrl?(this.storageService.resetStoredRoute(),this.router.navigate([e])):this.router.navigate(["/dashboard/"+t[0].key])}else this.router.navigate([c.a.errorUrl])})}submit(){this.signingIn=!0,this.signInError=null,this.cdr.detectChanges(),this.accountService.signIn(this.username,this.password).pipe(Object(b.a)(()=>{this.signingIn=!1,this.cdr.detectChanges()})).subscribe(e=>{if(e instanceof k.h);else{let t="Unpredicted error happened";switch(e.error){case I.a.Failure:t="Internal server error, try again later";break;case I.a.AlreadyLoggedIn:t="Already logged in, reload this page";break;case I.a.AccountNotExists:t="Account does not exist";break;case I.a.AccountIsBlocked:t="Account is blocked, contact sysadmin";break;case I.a.AccountIsDeleted:t="Account is deleted, sorry about it";break;case I.a.InvalidPassword:t="Invalid credentials"}this.signInError=t}})}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](a.g),u["\u0275\u0275directiveInject"](h.DomSanitizer),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](f.a),u["\u0275\u0275directiveInject"](_.a),u["\u0275\u0275directiveInject"](E.a))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["m-login"]],hostVars:2,hostBindings:function(e,t){2&e&&u["\u0275\u0275classMap"](t.classes)},decls:24,vars:8,consts:[[1,"m-login__title"],["role","alert",1,"m-alert","m-alert--outline","m-alert--outline-2x","alert","alert-danger",3,"hidden"],["name","form","novalidate","",1,"m-login__form","m-form",3,"ngSubmit"],[1,"form-group"],["matInput","","required","","type","text","name","username","placeholder","Type your username","autocomplete","off",3,"ngModel","ngModelChange"],["matInput","","required","","type","password","name","password","placeholder","Type your password","autocomplete","off",3,"ngModel","ngModelChange"],["type","submit",3,"hidden"],[1,"m-login__action","m-login__action--fit"],[1,"m-link",3,"href"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"h3"),u["\u0275\u0275text"](2,"Sign in"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"div",1),u["\u0275\u0275elementStart"](4,"span"),u["\u0275\u0275text"](5),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"form",2),u["\u0275\u0275listener"]("ngSubmit",function(){return t.submit()}),u["\u0275\u0275elementStart"](7,"div",3),u["\u0275\u0275elementStart"](8,"mat-form-field"),u["\u0275\u0275elementStart"](9,"mat-label"),u["\u0275\u0275text"](10,"Username"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"input",4),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.username=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"div",3),u["\u0275\u0275elementStart"](13,"mat-form-field"),u["\u0275\u0275elementStart"](14,"mat-label"),u["\u0275\u0275text"](15,"Password"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"input",5),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.password=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](17,"button",6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"div",7),u["\u0275\u0275elementStart"](19,"a",8),u["\u0275\u0275elementStart"](20,"span"),u["\u0275\u0275text"](21,"Forgot Password?"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"button",9),u["\u0275\u0275listener"]("click",function(){return t.submit()}),u["\u0275\u0275text"](23),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden",!t.signInError),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](t.signInError),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("ngModel",t.username),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngModel",t.password),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("href",t.slackSysadminDmUrl,u["\u0275\u0275sanitizeUrl"]),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("disabled",t.signingIn),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",t.signingIn?"Signing in...":"Sign me in"," "))},directives:[r.q,r.j,r.k,l.b,l.f,d.b,r.c,r.o,r.i,r.l,s.a],styles:["[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),e})();function w(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("\u2013 ",e.yearTo,"")}}let j=(()=>{class e{constructor(e,t){this.sanitizer=e,this.layoutConfigService=t,this.id="m_login",this.classes="m-grid m-grid--hor m-grid--root m-page",this.yearFrom=c.a.yearFrom,this.yearTo=c.a.yearTo,this.companyTitle=c.a.companyTitle,this.companyWebsiteUrl=this.sanitizer.bypassSecurityTrustUrl(c.a.companyWebsiteUrl),this.slackSysadminDmUrl=this.sanitizer.bypassSecurityTrustUrl(c.a.slackSysadminDmUrl)}ngOnInit(){this.layoutConfigService.setModel(new p.a({content:{skin:""}}),!0)}ngOnDestroy(){this.layoutConfigService.reloadSavedConfig()}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](h.DomSanitizer),u["\u0275\u0275directiveInject"](g.a))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["m-auth"]],hostVars:3,hostBindings:function(e,t){2&e&&(u["\u0275\u0275hostProperty"]("id",t.id),u["\u0275\u0275classMap"](t.classes))},decls:26,vars:5,consts:[["id","m_login",1,"m-grid__item","m-grid__item--fluid","m-grid","m-grid--desktop","m-grid--ver-desktop","m-grid--hor-tablet-and-mobile","m-login","m-login--6"],[1,"m-grid__item","m-grid__item--order-tablet-and-mobile-2","m-grid","m-grid--hor","m-login__aside","auth-background"],[1,"m-grid__item"],[1,"m-login__logo"],["src","./assets/app/media/img/logos/hyperion/hyperion_i64.png"],[1,"m-grid__item","m-grid__item--fluid","m-grid","m-grid--ver"],[1,"m-grid__item","m-grid__item--middle"],[1,"m-login__title"],[1,"m-login__subtitle"],[1,"m-login__info"],[1,"m-login__section"],["target","_blank",1,"m-link",3,"href"],[4,"ngIf"],[1,"m-grid__item","m-grid__item--fluid","m-grid__item--order-tablet-and-mobile-1","m-login__wrapper"],[1,"m-login__head"],[1,"m-link","m--font-danger",3,"href"],[1,"m-login__body"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275elementStart"](2,"div",2),u["\u0275\u0275elementStart"](3,"div",3),u["\u0275\u0275element"](4,"img",4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",5),u["\u0275\u0275elementStart"](6,"div",6),u["\u0275\u0275elementStart"](7,"span",7),u["\u0275\u0275text"](8,"Hyperion"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"span",8),u["\u0275\u0275text"](10,"Test Management"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"div",2),u["\u0275\u0275elementStart"](12,"div",9),u["\u0275\u0275elementStart"](13,"div",10),u["\u0275\u0275elementStart"](14,"a",11),u["\u0275\u0275text"](15),u["\u0275\u0275template"](16,w,2,1,"span",12),u["\u0275\u0275text"](17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"div",13),u["\u0275\u0275elementStart"](19,"div",14),u["\u0275\u0275elementStart"](20,"span"),u["\u0275\u0275text"](21,"Don't have an account?"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"a",15),u["\u0275\u0275text"](23,"Contact sysadmin"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"div",16),u["\u0275\u0275element"](25,"m-login"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](14),u["\u0275\u0275property"]("href",t.companyWebsiteUrl,u["\u0275\u0275sanitizeUrl"]),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" \xa9 ",t.yearFrom," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.yearTo),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",t.companyTitle," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("href",t.slackSysadminDmUrl,u["\u0275\u0275sanitizeUrl"]))},directives:[i.m,x],styles:[".auth-background[_ngcontent-%COMP%]{background-image:url(static/bg-8.c56d4af968cf5be5c8a3.jpg);background-position:-500px 0}"],changeDetection:0}),e})(),U=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,r.e,s.b,d.c,l.d,o.b,m.b,a.i.forChild([{path:"",component:j}])]]}),e})()}}]);