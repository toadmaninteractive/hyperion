(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{CBHK:function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardModule",function(){return A});var i=n("ofXK"),o=n("tyNb"),r=n("NFeN"),s=n("qFsG"),a=n("Qu3c"),c=n("bFKe"),d=n("sUzd"),l=n("PCNd"),h=n("0Y/I"),p=n("XNiG"),u=n("1G5W"),m=n("0bxZ"),f=n("e18D"),b=n("E1Th"),w=n("IsHO"),g=n("8YY7"),N=n("UTw3"),y=n("fXoL");let C=(()=>{class e{constructor(e,t,n,i){this.route=e,this.hyperionAttachmentService=t,this.hyperionTestCaseService=n,this.cdr=i,this.destroy$=new p.b,this.dimmedNodeSetId=new Set,this.hiddenNodeSetId=new Set,this.nodes=[],this.flatNodes=[],this.itemNodes=[],this.route.data.pipe(Object(u.a)(this.destroy$)).subscribe(e=>this.initialize(e.activeProject))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initialize(e){this.hyperionAttachmentService.getProjectAttachments(e.id,g.a.OriginalFilename,N.h.Asc,0,10,"bomb").subscribe(e=>{console.log("Project file attachments",e.items);const t=e.items[0];t instanceof m.c&&this.hyperionAttachmentService.getAttachmentLinks(t.id).subscribe(e=>console.log("Attachment links",t,e.items))}),this.hyperionTestCaseService.getTestCaseTree(e.id).subscribe(e=>{this.nodes=e.items,this.walkDynamicTreeNodes(this.nodes),this.cdr.detectChanges()})}walkDynamicTreeNodes(e){this.flatNodes.push(...e.map(e=>e.item)),this.itemNodes.push(...e),e.forEach(e=>this.walkDynamicTreeNodes(e.children))}expandAllTreeNodes(){this.tree.expandTreeNodes()}collapseAllTreeNodes(){this.tree.collapseTreeNodes()}filterCallback(e,t){return!t||e.title.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}getAllChildrenId(e){return e.children.reduce((e,t)=>[...e,[t.item.id],t.children.map(e=>this.getAllChildrenId(e)).reduce((e,t)=>e.concat(t),[])],[]).concat(e.item.id).reduce((e,t)=>e.concat(t),[])}applyFilter(e){this.dimmedNodeSetId=new Set(this.flatNodes.map(t=>this.filterCallback(t,e)?null:t.id)),this.hiddenNodeSetId=new Set(this.itemNodes.filter(e=>this.getAllChildrenId(e).every(e=>this.dimmedNodeSetId.has(e))).map(e=>e.item.id)),this.expandAllTreeNodes()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](o.a),y["\u0275\u0275directiveInject"](b.a),y["\u0275\u0275directiveInject"](w.a),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["m-dashboard-overview"]],viewQuery:function(e,t){if(1&e&&y["\u0275\u0275viewQuery"](f.a,!0),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.tree=e.first)}},decls:1,vars:0,template:function(e,t){1&e&&y["\u0275\u0275text"](0,"Dashboard dummy content\n")},styles:["*[_ngcontent-%COMP%]{line-height:normal}.new-in-place[_ngcontent-%COMP%]{outline:none;padding:0 5px;border:1px solid transparent;border-radius:3px;transition:border 125ms linear,box-shadow 125ms linear,opacity 125ms linear;box-shadow:0 0 7px 0 transparent;background-color:transparent}.new-in-place[_ngcontent-%COMP%]:hover{border:1px solid hsla(0,0%,86.7%,.75);box-shadow:0 0 7px 0 hsla(0,0%,86.7%,.75);background-color:#fff}.new-in-place[_ngcontent-%COMP%]:focus{border:1px solid rgba(54,163,247,.75);box-shadow:0 0 7px 0 rgba(54,163,247,.5)!important;background-color:#fff}.new-in-place.monospace[_ngcontent-%COMP%]{font-family:Consolas,sans-serif}.new-in-place[_ngcontent-%COMP%]:-ms-input-placeholder, .new-in-place[_ngcontent-%COMP%]::-ms-input-placeholder, .new-in-place[_ngcontent-%COMP%]::placeholder{color:#aaa}"],changeDetection:0}),e})();var v=n("j1ZV"),x=n("bTqV"),I=n("Pj4I");let A=(()=>{class e{}return e.\u0275mod=y["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=y["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,r.b,a.b,c.c,l.a,h.a,v.a,o.i.forChild([{path:"**",component:C,resolve:{activeProject:d.a},canActivate:[I.a]}]),x.b,s.c]]}),e})()},N1IV:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return e[e.Before=-1]="Before",e[e.Into=0]="Into",e[e.After=1]="After",e[e.Root=2]="Root",e[e.Null=null]="Null",e}({})}}]);