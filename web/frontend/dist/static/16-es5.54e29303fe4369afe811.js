!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{CBHK:function(t,o,i){"use strict";i.r(o),i.d(o,"DashboardModule",function(){return T});var a,c,s=i("ofXK"),l=i("tyNb"),u=i("NFeN"),d=i("qFsG"),f=i("Qu3c"),h=i("bFKe"),p=i("sUzd"),m=i("PCNd"),b=i("0Y/I"),y=i("XNiG"),v=i("1G5W"),w=i("0bxZ"),g=i("e18D"),N=i("E1Th"),C=i("IsHO"),A=i("8YY7"),I=i("UTw3"),k=i("fXoL"),x=((a=function(){function t(e,r,o,i){var a=this;n(this,t),this.route=e,this.hyperionAttachmentService=r,this.hyperionTestCaseService=o,this.cdr=i,this.destroy$=new y.b,this.dimmedNodeSetId=new Set,this.hiddenNodeSetId=new Set,this.nodes=[],this.flatNodes=[],this.itemNodes=[],this.route.data.pipe(Object(v.a)(this.destroy$)).subscribe(function(e){return a.initialize(e.activeProject)})}var o,i,a;return o=t,(i=[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"initialize",value:function(e){var t=this;this.hyperionAttachmentService.getProjectAttachments(e.id,A.a.OriginalFilename,I.h.Asc,0,10,"bomb").subscribe(function(e){console.log("Project file attachments",e.items);var n=e.items[0];n instanceof w.c&&t.hyperionAttachmentService.getAttachmentLinks(n.id).subscribe(function(e){return console.log("Attachment links",n,e.items)})}),this.hyperionTestCaseService.getTestCaseTree(e.id).subscribe(function(e){t.nodes=e.items,t.walkDynamicTreeNodes(t.nodes),t.cdr.detectChanges()})}},{key:"walkDynamicTreeNodes",value:function(t){var n,r,o=this;(n=this.flatNodes).push.apply(n,e(t.map(function(e){return e.item}))),(r=this.itemNodes).push.apply(r,e(t)),t.forEach(function(e){return o.walkDynamicTreeNodes(e.children)})}},{key:"expandAllTreeNodes",value:function(){this.tree.expandTreeNodes()}},{key:"collapseAllTreeNodes",value:function(){this.tree.collapseTreeNodes()}},{key:"filterCallback",value:function(e,t){return!t||e.title.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}},{key:"getAllChildrenId",value:function(t){var n=this;return t.children.reduce(function(t,r){return[].concat(e(t),[[r.item.id],r.children.map(function(e){return n.getAllChildrenId(e)}).reduce(function(e,t){return e.concat(t)},[])])},[]).concat(t.item.id).reduce(function(e,t){return e.concat(t)},[])}},{key:"applyFilter",value:function(e){var t=this;this.dimmedNodeSetId=new Set(this.flatNodes.map(function(n){return t.filterCallback(n,e)?null:n.id})),this.hiddenNodeSetId=new Set(this.itemNodes.filter(function(e){return t.getAllChildrenId(e).every(function(e){return t.dimmedNodeSetId.has(e)})}).map(function(e){return e.item.id})),this.expandAllTreeNodes()}}])&&r(o.prototype,i),a&&r(o,a),t}()).\u0275fac=function(e){return new(e||a)(k["\u0275\u0275directiveInject"](l.a),k["\u0275\u0275directiveInject"](N.a),k["\u0275\u0275directiveInject"](C.a),k["\u0275\u0275directiveInject"](k.ChangeDetectorRef))},a.\u0275cmp=k["\u0275\u0275defineComponent"]({type:a,selectors:[["m-dashboard-overview"]],viewQuery:function(e,t){var n;1&e&&k["\u0275\u0275viewQuery"](g.a,!0),2&e&&k["\u0275\u0275queryRefresh"](n=k["\u0275\u0275loadQuery"]())&&(t.tree=n.first)},decls:1,vars:0,template:function(e,t){1&e&&k["\u0275\u0275text"](0,"Dashboard dummy content\n")},styles:["*[_ngcontent-%COMP%]{line-height:normal}.new-in-place[_ngcontent-%COMP%]{outline:none;padding:0 5px;border:1px solid transparent;border-radius:3px;transition:border 125ms linear,box-shadow 125ms linear,opacity 125ms linear;box-shadow:0 0 7px 0 transparent;background-color:transparent}.new-in-place[_ngcontent-%COMP%]:hover{border:1px solid hsla(0,0%,86.7%,.75);box-shadow:0 0 7px 0 hsla(0,0%,86.7%,.75);background-color:#fff}.new-in-place[_ngcontent-%COMP%]:focus{border:1px solid rgba(54,163,247,.75);box-shadow:0 0 7px 0 rgba(54,163,247,.5)!important;background-color:#fff}.new-in-place.monospace[_ngcontent-%COMP%]{font-family:Consolas,sans-serif}.new-in-place[_ngcontent-%COMP%]:-ms-input-placeholder, .new-in-place[_ngcontent-%COMP%]::-ms-input-placeholder, .new-in-place[_ngcontent-%COMP%]::placeholder{color:#aaa}"],changeDetection:0}),a),S=i("j1ZV"),j=i("bTqV"),O=i("Pj4I"),T=((c=function e(){n(this,e)}).\u0275mod=k["\u0275\u0275defineNgModule"]({type:c}),c.\u0275inj=k["\u0275\u0275defineInjector"]({factory:function(e){return new(e||c)},providers:[],imports:[[s.c,u.b,f.b,h.c,m.a,b.a,S.a,l.i.forChild([{path:"**",component:x,resolve:{activeProject:p.a},canActivate:[O.a]}]),j.b,d.c]]}),c)},N1IV:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e[e.Before=-1]="Before",e[e.Into=0]="Into",e[e.After=1]="After",e[e.Root=2]="Root",e[e.Null=null]="Null",e}({})}}])}();