(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{PEhK:function(e,t,n){"use strict";n.r(t),n.d(t,"PersonnelModule",function(){return Gt});var r=n("ofXK"),a=n("3Pt+"),o=n("bTqV"),l=n("bSwM"),i=n("f0Cb"),s=n("NFeN"),c=n("qFsG"),d=n("STbY"),m=n("M9IT"),p=n("Dh3D"),u=n("+0xr"),h=n("Qu3c"),f=n("bFKe"),g=n("QJFE"),b=n("PCNd"),v=n("j1ZV"),S=n("tyNb"),y=n("XNiG"),C=n("2Vo4"),x=n("itXk"),E=n("quSY"),w=n("/uUt"),_=n("Kj3r"),$=n("1G5W"),j=n("lJxs"),I=n("pLZG"),O=n("vkgz"),D=n("nYR2"),P=n("tk/3"),R=n("z6cu"),J=n("JIr8"),k=n("0bxZ"),A=n("UTw3"),B=function(e){return e[e.Id=1]="Id",e[e.Username=2]="Username",e[e.Name=3]="Name",e[e.Email=4]="Email",e[e.IsBlocked=5]="IsBlocked",e[e.IsDeleted=6]="IsDeleted",e[e.CreatedAt=7]="CreatedAt",e[e.UpdatedAt=8]="UpdatedAt",e}({});!function(e){function t(t){switch(t){case e.Id:return"id";case e.Username:return"username";case e.Name:return"name";case e.Email:return"email";case e.IsBlocked:return"is_blocked";case e.IsDeleted:return"is_deleted";case e.CreatedAt:return"created_at";case e.UpdatedAt:return"updated_at";default:throw new Error("Invalid PersonnelAccountOrderBy value: "+t)}}function n(t){switch(t){case"id":return e.Id;case"username":return e.Username;case"name":return e.Name;case"email":return e.Email;case"is_blocked":return e.IsBlocked;case"is_deleted":return e.IsDeleted;case"created_at":return e.CreatedAt;case"updated_at":return e.UpdatedAt;default:throw new Error("Invalid PersonnelAccountOrderBy value: "+t)}}e.toJson=function(e){return t(e)},e.fromJson=function(e){return n(e)},e.toJsonKey=t,e.fromJsonKey=n}(B||(B={}));var T=function(e){return e[e.PersonnelId=1]="PersonnelId",e[e.Username=2]="Username",e[e.ProjectId=3]="ProjectId",e[e.ProjectTitle=4]="ProjectTitle",e[e.UserRole=5]="UserRole",e}({});!function(e){function t(t){switch(t){case e.PersonnelId:return"personnel_id";case e.Username:return"username";case e.ProjectId:return"project_id";case e.ProjectTitle:return"project_title";case e.UserRole:return"user_role";default:throw new Error("Invalid PersonnelAccountRoleOrderBy value: "+t)}}function n(t){switch(t){case"personnel_id":return e.PersonnelId;case"username":return e.Username;case"project_id":return e.ProjectId;case"project_title":return e.ProjectTitle;case"user_role":return e.UserRole;default:throw new Error("Invalid PersonnelAccountRoleOrderBy value: "+t)}}e.toJson=function(e){return t(e)},e.fromJson=function(e){return n(e)},e.toJsonKey=t,e.fromJsonKey=n}(T||(T={}));var N=function(e){return e[e.Id=1]="Id",e[e.Name=2]="Name",e[e.IsDeleted=3]="IsDeleted",e[e.MemberCount=4]="MemberCount",e[e.CreatedAt=5]="CreatedAt",e[e.UpdatedAt=6]="UpdatedAt",e}({});!function(e){function t(t){switch(t){case e.Id:return"id";case e.Name:return"name";case e.IsDeleted:return"is_deleted";case e.MemberCount:return"member_count";case e.CreatedAt:return"created_at";case e.UpdatedAt:return"updated_at";default:throw new Error("Invalid PersonnelGroupOrderBy value: "+t)}}function n(t){switch(t){case"id":return e.Id;case"name":return e.Name;case"is_deleted":return e.IsDeleted;case"member_count":return e.MemberCount;case"created_at":return e.CreatedAt;case"updated_at":return e.UpdatedAt;default:throw new Error("Invalid PersonnelGroupOrderBy value: "+t)}}e.toJson=function(e){return t(e)},e.fromJson=function(e){return n(e)},e.toJsonKey=t,e.fromJsonKey=n}(N||(N={}));var M=function(e){return e[e.GroupId=1]="GroupId",e[e.GroupName=2]="GroupName",e[e.ProjectId=3]="ProjectId",e[e.ProjectTitle=4]="ProjectTitle",e[e.GroupRole=5]="GroupRole",e}({});!function(e){function t(t){switch(t){case e.GroupId:return"group_id";case e.GroupName:return"group_name";case e.ProjectId:return"project_id";case e.ProjectTitle:return"project_title";case e.GroupRole:return"group_role";default:throw new Error("Invalid PersonnelGroupRoleOrderBy value: "+t)}}function n(t){switch(t){case"group_id":return e.GroupId;case"group_name":return e.GroupName;case"project_id":return e.ProjectId;case"project_title":return e.ProjectTitle;case"group_role":return e.GroupRole;default:throw new Error("Invalid PersonnelGroupRoleOrderBy value: "+t)}}e.toJson=function(e){return t(e)},e.fromJson=function(e){return n(e)},e.toJsonKey=t,e.fromJsonKey=n}(M||(M={}));class z{static fromJson(e){const t=e,n=new z;return n.role=k.a.fromJson(t.role),n}static toJson(e){const t={};return t.role=k.a.toJson(e.role),t}toJson(){return z.toJson(this)}}var U=n("fXoL");let G=(()=>{class e{constructor(e){this.http=e,this.baseUrl=""}getPersonnelAccount(e){return this.http.get(`${this.baseUrl}/api/admin/personnel/${e}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>k.g.fromJson(e)))}getPersonnelAccountByUsername(e){return this.http.get(`${this.baseUrl}/api/admin/personnel/username/${e}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>k.g.fromJson(e)))}getPersonnelAccounts(e=null,t,n,r,a){const o=[];null!=e&&o.push("needle="+e),o.push("order_by="+B.toJson(t)),o.push("order_dir="+A.h.toJson(n)),o.push("offset="+r),o.push("limit="+a);const l=o.length>0?"?"+o.join("&"):"";return this.http.get(`${this.baseUrl}/api/admin/personnels${l}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>A.c.instanceJsonSerializer(k.g).fromJson(e)))}getPersonnelAccountRoles(e,t=null,n,r,a,o){const l=[];null!=t&&l.push("needle="+t),l.push("order_by="+T.toJson(n)),l.push("order_dir="+A.h.toJson(r)),l.push("offset="+a),l.push("limit="+o);const i=l.length>0?"?"+l.join("&"):"";return this.http.get(`${this.baseUrl}/api/admin/personnel/${e}/roles${i}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>A.c.instanceJsonSerializer(k.i).fromJson(e)))}getPersonnelAccountRolesForProject(e,t=null,n,r,a,o){const l=[];null!=t&&l.push("needle="+t),l.push("order_by="+T.toJson(n)),l.push("order_dir="+A.h.toJson(r)),l.push("offset="+a),l.push("limit="+o);const i=l.length>0?"?"+l.join("&"):"";return this.http.get(`${this.baseUrl}/api/projects/${e}/roles/account${i}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>A.c.instanceJsonSerializer(k.i).fromJson(e)))}setPersonnelAccountRole(e,t,n){const r={headers:new P.e({"Content-Type":"application/json"})};return this.http.put(`${this.baseUrl}/api/admin/personnel/${t}/roles/${n}`,e.toJson(),r).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>A.e.fromJson(e)))}resetPersonnelAccountRole(e,t){return this.http.delete(`${this.baseUrl}/api/admin/personnel/${e}/roles/${t}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>A.e.fromJson(e)))}getPersonnelGroup(e){return this.http.get(`${this.baseUrl}/api/admin/personnel-groups/${e}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>k.j.fromJson(e)))}getPersonnelGroupByName(e){return this.http.get(`${this.baseUrl}/api/admin/personnel-groups/name/${e}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>k.j.fromJson(e)))}getPersonnelGroups(e=null,t,n,r,a){const o=[];null!=e&&o.push("needle="+e),o.push("order_by="+N.toJson(t)),o.push("order_dir="+A.h.toJson(n)),o.push("offset="+r),o.push("limit="+a);const l=o.length>0?"?"+o.join("&"):"";return this.http.get(`${this.baseUrl}/api/admin/personnel-groups${l}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>A.c.instanceJsonSerializer(k.j).fromJson(e)))}getPersonnelGroupRoles(e,t=null,n,r,a,o){const l=[];null!=t&&l.push("needle="+t),l.push("order_by="+M.toJson(n)),l.push("order_dir="+A.h.toJson(r)),l.push("offset="+a),l.push("limit="+o);const i=l.length>0?"?"+l.join("&"):"";return this.http.get(`${this.baseUrl}/api/admin/personnel-groups/${e}/roles${i}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>A.c.instanceJsonSerializer(k.k).fromJson(e)))}getPersonnelGroupRolesForProject(e,t=null,n,r,a,o){const l=[];null!=t&&l.push("needle="+t),l.push("order_by="+M.toJson(n)),l.push("order_dir="+A.h.toJson(r)),l.push("offset="+a),l.push("limit="+o);const i=l.length>0?"?"+l.join("&"):"";return this.http.get(`${this.baseUrl}/api/admin/projects/${e}/roles/group${i}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>A.c.instanceJsonSerializer(k.k).fromJson(e)))}setPersonnelGroupRole(e,t,n){const r={headers:new P.e({"Content-Type":"application/json"})};return this.http.put(`${this.baseUrl}/api/admin/personnel-groups/${t}/roles/${n}`,e.toJson(),r).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>A.e.fromJson(e)))}resetPersonnelGroupRole(e,t){return this.http.delete(`${this.baseUrl}/api/admin/personnel-groups/${e}/roles/${t}`).pipe(Object(J.a)(e=>{if(e instanceof P.c)switch(e.status){case 403:return Object(R.a)(A.d.fromJson(e.error));case 404:return Object(R.a)(A.g.fromJson(e.error));case 500:return Object(R.a)(A.f.fromJson(e.error))}Object(R.a)(e)}),Object(j.a)(e=>A.e.fromJson(e)))}}return e.\u0275fac=function(t){return new(t||e)(U["\u0275\u0275inject"](P.a))},e.\u0275prov=U["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var L=n("kmnG"),F=n("kScs"),H=n("jhN1");let K=(()=>{class e{constructor(e){this.sanitizer=e,this.defaultSet="identicon",this.size=32,this.radius=4}gravatarUrl(e,t){const n=F.Md5.hashAsciiStr(e.toLowerCase().trim());return this.sanitizer.bypassSecurityTrustUrl(`https://www.gravatar.com/avatar/${n}?s=${t}&d=${this.defaultSet}`)}}return e.\u0275fac=function(t){return new(t||e)(U["\u0275\u0275directiveInject"](H.DomSanitizer))},e.\u0275cmp=U["\u0275\u0275defineComponent"]({type:e,selectors:[["m-gravatar"]],inputs:{email:"email",defaultSet:"defaultSet",size:"size",radius:"radius"},decls:1,vars:7,consts:[[3,"src"]],template:function(e,t){1&e&&U["\u0275\u0275element"](0,"img",0),2&e&&(U["\u0275\u0275styleProp"]("width",t.size,"px")("height",t.size,"px")("border-radius",t.radius,"px"),U["\u0275\u0275property"]("src",t.gravatarUrl(t.email,t.size),U["\u0275\u0275sanitizeUrl"]))},encapsulation:2,changeDetection:0}),e})();function V(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",29),U["\u0275\u0275text"](1," ID "),U["\u0275\u0275elementEnd"]())}function Y(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",30),U["\u0275\u0275elementStart"](1,"span",31),U["\u0275\u0275text"](2),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275classProp"]("deleted",e.isDeleted),U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate1"](" ",e.id," ")}}function q(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",32),U["\u0275\u0275text"](1," Username "),U["\u0275\u0275elementEnd"]())}function X(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"mat-icon",45),U["\u0275\u0275text"](1," star "),U["\u0275\u0275elementEnd"]()),2&e&&U["\u0275\u0275property"]("inline",!0)}const Z=function(e){return{dimmed:e}};function Q(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",33),U["\u0275\u0275elementStart"](1,"div",34),U["\u0275\u0275elementStart"](2,"div",35),U["\u0275\u0275elementStart"](3,"div",36),U["\u0275\u0275elementStart"](4,"span",37),U["\u0275\u0275element"](5,"m-gravatar",38),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](6,"div",39),U["\u0275\u0275elementStart"](7,"span",40),U["\u0275\u0275elementStart"](8,"a",41),U["\u0275\u0275elementStart"](9,"strong"),U["\u0275\u0275text"](10),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275template"](11,X,2,1,"mat-icon",42),U["\u0275\u0275elementEnd"](),U["\u0275\u0275element"](12,"br"),U["\u0275\u0275elementStart"](13,"span",43),U["\u0275\u0275elementStart"](14,"small",44),U["\u0275\u0275text"](15),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=U["\u0275\u0275nextContext"]();U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("ngClass",n.personnelAccountBadgeClass(e)),U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("email",e.username)("size",32)("radius",4),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("routerLink",e.username),U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate"](e.username),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngIf",e.isSuperadmin),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("ngClass",U["\u0275\u0275pureFunction1"](9,Z,!e.name)),U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",e.name||"Name not set"," ")}}function W(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",46),U["\u0275\u0275text"](1," Blocked "),U["\u0275\u0275elementEnd"]())}function ee(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",33),U["\u0275\u0275text"](1),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",e.isBlocked?"Yes":"No"," ")}}function te(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",46),U["\u0275\u0275text"](1," Deleted "),U["\u0275\u0275elementEnd"]())}function ne(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",33),U["\u0275\u0275text"](1),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",e.isDeleted?"Yes":"No"," ")}}function re(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",47),U["\u0275\u0275text"](1," Date Added "),U["\u0275\u0275elementEnd"]())}function ae(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",33),U["\u0275\u0275text"](1),U["\u0275\u0275pipe"](2,"date"),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",U["\u0275\u0275pipeBind2"](2,1,e.createdAt,"yyyy-MM-dd HH:mm")," ")}}function oe(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",47),U["\u0275\u0275text"](1," Date Updated "),U["\u0275\u0275elementEnd"]())}function le(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",33),U["\u0275\u0275text"](1),U["\u0275\u0275pipe"](2,"date"),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",e.updatedAt?U["\u0275\u0275pipeBind2"](2,1,e.updatedAt,"yyyy-MM-dd HH:mm"):"Never"," ")}}function ie(e,t){1&e&&U["\u0275\u0275element"](0,"tr",48)}function se(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"tr",49),U["\u0275\u0275pipe"](1,"async"),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=U["\u0275\u0275nextContext"]();U["\u0275\u0275classProp"]("dimmed",U["\u0275\u0275pipeBind1"](1,4,n.loading$))("deleted",e.isDeleted)}}function ce(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"div",50),U["\u0275\u0275elementStart"](1,"div",51),U["\u0275\u0275pipe"](2,"async"),U["\u0275\u0275text"](3),U["\u0275\u0275pipe"](4,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=U["\u0275\u0275nextContext"]();U["\u0275\u0275advance"](1),U["\u0275\u0275classProp"]("dimmed",!U["\u0275\u0275pipeBind1"](2,3,e.loading$)),U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate1"](" ",U["\u0275\u0275pipeBind1"](4,5,e.loading$)?"Loading data from server...":"No data to display"," ")}}var de=function(e){return e.Id="id",e.Username="username",e.IsBlocked="is_blocked",e.IsDeleted="is_deleted",e.CreatedAt="created_at",e.UpdatedAt="updated_at",e}({});const me=de.Id,pe=[de.Id,de.Username,de.IsBlocked,de.IsDeleted,de.CreatedAt,de.UpdatedAt];let ue=(()=>{class e{constructor(e,t){this.router=e,this.hyperionPersonnelService=t,this.destroy$=new y.b,this.loading$=new C.a(!1),this.reload$=new C.a(!0),this.needle$=new C.a(""),this.sort$=new C.a({active:me,direction:"asc"}),this.page$=new C.a({pageIndex:0,pageSize:10}),this.total$=new C.a(0),this.dataSource$=new C.a(new u.k),this.displayedColumns=[...pe],this.column=de,this.pageSizes=[10,25,50,100],Object(x.b)(this.reload$.asObservable(),this.needle$.asObservable().pipe(Object(w.a)(),Object(_.a)(450)),this.sort$.asObservable(),this.page$.asObservable()).pipe(Object($.a)(this.destroy$),Object(j.a)(([e,t,n,r])=>({needle:t,orderBy:B.fromJson(n.active||me),orderDir:A.h.fromJson(n.direction||"asc"),limit:r.pageSize,offset:r.pageIndex*r.pageSize})),Object(I.a)(e=>{const t=!(this.args&&this.args.needle===e.needle&&this.args.orderBy===e.orderBy&&this.args.orderDir===e.orderDir&&this.args.limit===e.limit);return this.args=e,t&&this.page$.next({pageSize:e.limit,pageIndex:0}),!t})).subscribe(e=>this.loadItems(e))}ngOnDestroy(){this.subData instanceof E.a&&(this.subData.unsubscribe(),this.subData=null),this.destroy$.next(),this.destroy$.complete()}getData(e){return this.hyperionPersonnelService.getPersonnelAccounts(e.needle,e.orderBy,e.orderDir,e.offset,e.limit).pipe(Object($.a)(this.destroy$),Object(O.a)(e=>this.total$.next(e.total)),Object(j.a)(e=>e.items))}loadItems(e){this.loading$.next(!0),this.subData instanceof E.a&&(this.subData.unsubscribe(),this.subData=null),this.subData=this.getData(e).pipe(Object($.a)(this.destroy$),Object(D.a)(()=>this.loading$.next(!1))).subscribe(e=>{const t=new u.k;t.data=e,this.dataSource$.next(t)})}personnelAccountStatus(e){return e.isDeleted?"deleted":e.isBlocked?"blocked":"active"}personnelAccountBadgeClass(e){switch(this.personnelAccountStatus(e)){case"deleted":return"m-timeline-3__item--danger";case"blocked":return"m-timeline-3__item--warning";case"active":return"m-timeline-3__item--success";default:return"m-timeline-3__item--metal"}}onNeedleChange(e){this.needle$.next((e||"").trim())}onSortChange(e){this.sort$.next(e)}onPageChange(e){this.page$.next(e)}onReload(){this.reload$.next(!0)}}return e.\u0275fac=function(t){return new(t||e)(U["\u0275\u0275directiveInject"](S.g),U["\u0275\u0275directiveInject"](G))},e.\u0275cmp=U["\u0275\u0275defineComponent"]({type:e,selectors:[["m-personnel-accounts"]],decls:49,vars:33,consts:[[1,"row"],[1,"col-xl-12"],[1,"m-portlet","m-portlet--ngviewer"],[1,"m-portlet__head","compact"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[1,"m-portlet__head-tools"],[1,"m-portlet__nav"],[1,"m-portlet__nav-item"],[1,"pr-2"],["floatLabel","never",2,"width","300px"],["matInput","","placeholder","Type to filter...",3,"value","keyup"],["href","javascript:void(null)","title","Refresh","matTooltip","Click to refresh","matTooltipPosition","above",1,"m-portlet__nav-link","m-portlet__nav-link--icon",3,"click"],[1,"la","la-refresh"],[1,"m-portlet__body","m-portlet__body--no-padding"],[1,"m-portlet__preview","p-0"],["mat-table","","matSort","","matSortDisableClear","",1,"table-hover",3,"dataSource","matSortActive","matSortDirection","matSortChange"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","","class","cell-id",4,"matHeaderCellDef"],["mat-cell","","class","cell-id",3,"deleted",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header","","class","cell-checkbox",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","","class","cell-datetime",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"dimmed","deleted",4,"matRowDef","matRowDefColumns"],["class","card card-body blank p-0 table-row",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["mat-header-cell","","mat-sort-header","",1,"cell-id"],["mat-cell","",1,"cell-id"],[1,"poppins","f-w-400"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"m-timeline-3","x-table","x-avatar"],[1,"m-timeline-3__items"],[1,"m-timeline-3__item","m-0",3,"ngClass"],[1,"m-timeline-3__item-time","text-left"],["defaultSet","identicon",3,"email","size","radius"],[1,"m-timeline-3__item-desc"],[1,"m-timeline-3__item-text","user-line"],["matTooltip","Click to edit","matTooltipPosition","above",3,"routerLink"],["class","v-a-middle ml-05 gold","matTooltip","Super\xa0Administrator: no restrictions applied ever","matTooltipPosition","above",3,"inline",4,"ngIf"],[1,"m-timeline-3__item-user-name"],[1,"m-timeline-3__item-text",3,"ngClass"],["matTooltip","Super\xa0Administrator: no restrictions applied ever","matTooltipPosition","above",1,"v-a-middle","ml-05","gold",3,"inline"],["mat-header-cell","","mat-sort-header","",1,"cell-checkbox"],["mat-header-cell","","mat-sort-header","",1,"cell-datetime"],["mat-header-row",""],["mat-row",""],[1,"card","card-body","blank","p-0","table-row"],[1,"inner-text","f-s-14","f-w-400"]],template:function(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"div",0),U["\u0275\u0275elementStart"](1,"div",1),U["\u0275\u0275elementStart"](2,"div",2),U["\u0275\u0275elementStart"](3,"div",3),U["\u0275\u0275elementStart"](4,"div",4),U["\u0275\u0275elementStart"](5,"div",5),U["\u0275\u0275element"](6,"h3",6),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](7,"div",7),U["\u0275\u0275elementStart"](8,"ul",8),U["\u0275\u0275elementStart"](9,"li",9),U["\u0275\u0275elementStart"](10,"div",10),U["\u0275\u0275elementStart"](11,"mat-form-field",11),U["\u0275\u0275elementStart"](12,"input",12),U["\u0275\u0275listener"]("keyup",function(e){return t.onNeedleChange(e.target.value)}),U["\u0275\u0275pipe"](13,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](14,"li",9),U["\u0275\u0275elementStart"](15,"a",13),U["\u0275\u0275listener"]("click",function(){return t.onReload()}),U["\u0275\u0275element"](16,"i",14),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](17,"div",15),U["\u0275\u0275elementStart"](18,"div",16),U["\u0275\u0275elementStart"](19,"table",17),U["\u0275\u0275listener"]("matSortChange",function(e){return t.onSortChange(e)}),U["\u0275\u0275pipe"](20,"async"),U["\u0275\u0275pipe"](21,"async"),U["\u0275\u0275pipe"](22,"async"),U["\u0275\u0275elementContainerStart"](23,18),U["\u0275\u0275template"](24,V,2,0,"th",19),U["\u0275\u0275template"](25,Y,3,3,"td",20),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](26,18),U["\u0275\u0275template"](27,q,2,0,"th",21),U["\u0275\u0275template"](28,Q,16,11,"td",22),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](29,18),U["\u0275\u0275template"](30,W,2,0,"th",23),U["\u0275\u0275template"](31,ee,2,1,"td",22),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](32,18),U["\u0275\u0275template"](33,te,2,0,"th",23),U["\u0275\u0275template"](34,ne,2,1,"td",22),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](35,18),U["\u0275\u0275template"](36,re,2,0,"th",24),U["\u0275\u0275template"](37,ae,3,4,"td",22),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](38,18),U["\u0275\u0275template"](39,oe,2,0,"th",24),U["\u0275\u0275template"](40,le,3,4,"td",22),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275template"](41,ie,1,0,"tr",25),U["\u0275\u0275template"](42,se,2,6,"tr",26),U["\u0275\u0275elementEnd"](),U["\u0275\u0275template"](43,ce,5,7,"div",27),U["\u0275\u0275pipe"](44,"async"),U["\u0275\u0275elementStart"](45,"mat-paginator",28),U["\u0275\u0275listener"]("page",function(e){return t.onPageChange(e)}),U["\u0275\u0275pipe"](46,"async"),U["\u0275\u0275pipe"](47,"async"),U["\u0275\u0275pipe"](48,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){let e=null;U["\u0275\u0275advance"](12),U["\u0275\u0275property"]("value",U["\u0275\u0275pipeBind1"](13,17,t.needle$)),U["\u0275\u0275advance"](7),U["\u0275\u0275property"]("dataSource",U["\u0275\u0275pipeBind1"](20,19,t.dataSource$))("matSortActive",U["\u0275\u0275pipeBind1"](21,21,t.sort$).active)("matSortDirection",U["\u0275\u0275pipeBind1"](22,23,t.sort$).direction),U["\u0275\u0275advance"](4),U["\u0275\u0275property"]("matColumnDef",t.column.Id),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.Username),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.IsBlocked),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.IsDeleted),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.CreatedAt),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.UpdatedAt),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngIf",0===(null==(e=U["\u0275\u0275pipeBind1"](44,25,t.dataSource$))||null==e.data?null:e.data.length)),U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("length",U["\u0275\u0275pipeBind1"](46,27,t.total$))("pageSize",U["\u0275\u0275pipeBind1"](47,29,t.page$).pageSize)("pageSizeOptions",t.pageSizes)("pageIndex",U["\u0275\u0275pipeBind1"](48,31,t.page$).pageIndex)}},directives:[L.b,c.b,h.a,u.j,p.a,u.c,u.e,u.b,u.g,u.i,r.m,m.a,u.d,p.b,u.a,r.k,K,S.h,s.a,u.f,u.h],pipes:[r.b,r.e],styles:[".user-line[_ngcontent-%COMP%]{line-height:17px}"],changeDetection:0}),e})();var he,fe,ge,be,ve,Se=n("eIep"),ye=n("4j9A"),Ce=n("/Xw5"),xe=n("Y4+Y");n("W4hA"),function(e){e[e.Consumer=1]="Consumer",e[e.Maintainer=2]="Maintainer",e[e.Admin=3]="Admin"}(he||(he={})),function(e){function t(t){switch(t){case e.Consumer:return"consumer";case e.Maintainer:return"maintainer";case e.Admin:return"admin";default:throw new Error("Invalid AccessRole value: "+t)}}function n(t){switch(t){case"consumer":return e.Consumer;case"maintainer":return e.Maintainer;case"admin":return e.Admin;default:throw new Error("Invalid AccessRole value: "+t)}}e.toJson=function(e){return t(e)},e.fromJson=function(e){return n(e)},e.toJsonKey=t,e.fromJsonKey=n,e.getDescription=function(t){switch(t){case e.Consumer:return"Consumer";case e.Maintainer:return"Maintainer";case e.Admin:return"Administrator";default:return""}}}(he||(he={})),function(e){e[e.Draft=1]="Draft",e[e.InProgress=2]="InProgress",e[e.Closed=3]="Closed"}(fe||(fe={})),function(e){function t(t){switch(t){case e.Draft:return"draft";case e.InProgress:return"in_progress";case e.Closed:return"closed";default:throw new Error("Invalid TestRunStatus value: "+t)}}function n(t){switch(t){case"draft":return e.Draft;case"in_progress":return e.InProgress;case"closed":return e.Closed;default:throw new Error("Invalid TestRunStatus value: "+t)}}e.toJson=function(e){return t(e)},e.fromJson=function(e){return n(e)},e.toJsonKey=t,e.fromJsonKey=n,e.getDescription=function(t){switch(t){case e.Draft:return"Draft";case e.InProgress:return"In progress";case e.Closed:return"Closed";default:return""}}}(fe||(fe={})),function(e){e[e.Pending=1]="Pending",e[e.InProgress=2]="InProgress",e[e.Passed=3]="Passed",e[e.Failed=4]="Failed",e[e.Blocked=5]="Blocked"}(ge||(ge={})),function(e){function t(t){switch(t){case e.Pending:return"pending";case e.InProgress:return"in_progress";case e.Passed:return"passed";case e.Failed:return"failed";case e.Blocked:return"blocked";default:throw new Error("Invalid TestStatus value: "+t)}}function n(t){switch(t){case"pending":return e.Pending;case"in_progress":return e.InProgress;case"passed":return e.Passed;case"failed":return e.Failed;case"blocked":return e.Blocked;default:throw new Error("Invalid TestStatus value: "+t)}}e.toJson=function(e){return t(e)},e.fromJson=function(e){return n(e)},e.toJsonKey=t,e.fromJsonKey=n,e.getDescription=function(t){switch(t){case e.Pending:return"Pending";case e.InProgress:return"In progress";case e.Passed:return"Passed";case e.Failed:return"Failed";case e.Blocked:return"Blocked";default:return""}}}(ge||(ge={})),function(e){e[e.SetupStep=1]="SetupStep",e[e.TestCase=2]="TestCase",e[e.TestRun=3]="TestRun",e[e.TestRunItem=4]="TestRunItem"}(be||(be={})),function(e){function t(t){switch(t){case e.SetupStep:return"setup_step";case e.TestCase:return"test_case";case e.TestRun:return"test_run";case e.TestRunItem:return"test_run_item";default:throw new Error("Invalid AttachmentOwner value: "+t)}}function n(t){switch(t){case"setup_step":return e.SetupStep;case"test_case":return e.TestCase;case"test_run":return e.TestRun;case"test_run_item":return e.TestRunItem;default:throw new Error("Invalid AttachmentOwner value: "+t)}}e.toJson=function(e){return t(e)},e.fromJson=function(e){return n(e)},e.toJsonKey=t,e.fromJsonKey=n,e.getDescription=function(t){switch(t){case e.SetupStep:case e.TestCase:case e.TestRun:case e.TestRunItem:default:return""}}}(be||(be={})),function(e){e[e.Value=1]="Value",e[e.Source=2]="Source",e[e.Any=3]="Any",e[e.Random=4]="Random"}(ve||(ve={})),function(e){function t(t){switch(t){case e.Value:return"value";case e.Source:return"source";case e.Any:return"any";case e.Random:return"random";default:throw new Error("Invalid SpecType value: "+t)}}function n(t){switch(t){case"value":return e.Value;case"source":return e.Source;case"any":return e.Any;case"random":return e.Random;default:throw new Error("Invalid SpecType value: "+t)}}e.toJson=function(e){return t(e)},e.fromJson=function(e){return n(e)},e.toJsonKey=t,e.fromJsonKey=n,e.getDescription=function(t){switch(t){case e.Value:case e.Source:case e.Any:case e.Random:default:return""}}}(ve||(ve={}));var Ee=n("9fBl");function we(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"div",33),U["\u0275\u0275elementStart"](1,"div",34),U["\u0275\u0275element"](2,"m-alert",35),U["\u0275\u0275pipe"](3,"async"),U["\u0275\u0275pipe"](4,"async"),U["\u0275\u0275pipe"](5,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=U["\u0275\u0275nextContext"]();let t=null,n=null,r=null;U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("message",null==(t=U["\u0275\u0275pipeBind1"](3,3,e.alert$))?null:t.message)("kind",null==(n=U["\u0275\u0275pipeBind1"](4,5,e.alert$))?null:n.kind)("dismissible",null==(r=U["\u0275\u0275pipeBind1"](5,7,e.alert$))?null:r.dismissable)}}function _e(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",36),U["\u0275\u0275text"](1," Project ID "),U["\u0275\u0275elementEnd"]())}function $e(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",37),U["\u0275\u0275elementStart"](1,"strong"),U["\u0275\u0275text"](2),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate"](e.projectId)}}function je(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",38),U["\u0275\u0275text"](1," Project Title "),U["\u0275\u0275elementEnd"]())}function Ie(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",39),U["\u0275\u0275elementStart"](1,"strong"),U["\u0275\u0275text"](2),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate"](e.projectTitle)}}function Oe(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",40),U["\u0275\u0275elementStart"](1,"span",41),U["\u0275\u0275text"](2," Group Roles "),U["\u0275\u0275element"](3,"i",42),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]())}function De(e,t){1&e&&(U["\u0275\u0275elementContainerStart"](0),U["\u0275\u0275elementStart"](1,"strong",46),U["\u0275\u0275text"](2,"None"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementContainerEnd"]())}function Pe(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"div",48),U["\u0275\u0275elementStart"](1,"strong",49),U["\u0275\u0275text"](2),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](3,"mat-icon",50),U["\u0275\u0275text"](4,"group"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](5,"a",51),U["\u0275\u0275elementStart"](6,"strong"),U["\u0275\u0275text"](7),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=U["\u0275\u0275nextContext"](3);U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate"](n.roleName(e.value)),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("inline",!0),U["\u0275\u0275advance"](2),U["\u0275\u0275propertyInterpolate1"]("routerLink","/personnel/groups/",e.key,""),U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate"](e.key)}}function Re(e,t){if(1&e&&(U["\u0275\u0275elementContainerStart"](0),U["\u0275\u0275template"](1,Pe,8,4,"div",47),U["\u0275\u0275pipe"](2,"keyvalue"),U["\u0275\u0275elementContainerEnd"]()),2&e){const e=U["\u0275\u0275nextContext"]().$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngForOf",U["\u0275\u0275pipeBind1"](2,1,e.groupRoles))}}function Je(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"td",43),U["\u0275\u0275template"](1,De,3,0,"ng-container",44),U["\u0275\u0275template"](2,Re,3,3,"ng-container",45),U["\u0275\u0275elementEnd"]()),2&e&&(U["\u0275\u0275property"]("ngSwitch",t.$implicit.groupRoles),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngSwitchCase",null))}function ke(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",52),U["\u0275\u0275elementStart"](1,"span",53),U["\u0275\u0275text"](2," User Role "),U["\u0275\u0275element"](3,"i",42),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]())}const Ae=function(e){return{role:e}};function Be(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",39),U["\u0275\u0275elementStart"](1,"div",54),U["\u0275\u0275elementStart"](2,"a",55),U["\u0275\u0275elementStart"](3,"strong"),U["\u0275\u0275text"](4),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](5,"mat-icon",56),U["\u0275\u0275text"](6,"keyboard_arrow_down"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=U["\u0275\u0275nextContext"](),r=U["\u0275\u0275reference"](50);U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("matMenuTriggerFor",r)("matMenuTriggerData",U["\u0275\u0275pureFunction1"](4,Ae,e)),U["\u0275\u0275advance"](3),U["\u0275\u0275textInterpolate"](n.roleName(e.userRole)||"None"),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("inline",!0)}}function Te(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",40),U["\u0275\u0275elementStart"](1,"span",57),U["\u0275\u0275text"](2," Effective Role "),U["\u0275\u0275element"](3,"i",42),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]())}function Ne(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"div",48),U["\u0275\u0275elementStart"](1,"span",59),U["\u0275\u0275text"](2,"inherited from"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](3,"mat-icon",50),U["\u0275\u0275text"](4,"group"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](5,"a",51),U["\u0275\u0275elementStart"](6,"strong"),U["\u0275\u0275text"](7),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=U["\u0275\u0275nextContext"]().$implicit;U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("inline",!0),U["\u0275\u0275advance"](2),U["\u0275\u0275propertyInterpolate1"]("routerLink","/personnel/groups/",e.effectiveGroup,""),U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate"](e.effectiveGroup)}}function Me(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",39),U["\u0275\u0275elementStart"](1,"div",48),U["\u0275\u0275elementStart"](2,"strong",46),U["\u0275\u0275text"](3),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275template"](4,Ne,8,3,"div",58),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=U["\u0275\u0275nextContext"]();U["\u0275\u0275advance"](3),U["\u0275\u0275textInterpolate"](n.roleName(e.effectiveRole)||"None"),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngIf",e.effectiveGroup)}}function ze(e,t){1&e&&U["\u0275\u0275element"](0,"tr",60)}function Ue(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"tr",61),U["\u0275\u0275pipe"](1,"async"),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=U["\u0275\u0275nextContext"]();U["\u0275\u0275classProp"]("dimmed",U["\u0275\u0275pipeBind1"](1,4,n.loading$))("deleted",e.isDeleted)}}function Ge(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"div",62),U["\u0275\u0275elementStart"](1,"div",63),U["\u0275\u0275pipe"](2,"async"),U["\u0275\u0275text"](3),U["\u0275\u0275pipe"](4,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=U["\u0275\u0275nextContext"]();U["\u0275\u0275advance"](1),U["\u0275\u0275classProp"]("dimmed",!U["\u0275\u0275pipeBind1"](2,3,e.loading$)),U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate1"](" ",U["\u0275\u0275pipeBind1"](4,5,e.loading$)?"Loading data from server...":"No data to display"," ")}}function Le(e,t){if(1&e){const e=U["\u0275\u0275getCurrentView"]();U["\u0275\u0275elementStart"](0,"button",64),U["\u0275\u0275listener"]("click",function(){U["\u0275\u0275restoreView"](e);const n=t.role;return U["\u0275\u0275nextContext"]().onRoleReset(n)}),U["\u0275\u0275text"](1," None "),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](2,"button",64),U["\u0275\u0275listener"]("click",function(){U["\u0275\u0275restoreView"](e);const n=t.role,r=U["\u0275\u0275nextContext"]();return r.onRoleChange(n,r.accessRole.Consumer)}),U["\u0275\u0275text"](3),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](4,"button",64),U["\u0275\u0275listener"]("click",function(){U["\u0275\u0275restoreView"](e);const n=t.role,r=U["\u0275\u0275nextContext"]();return r.onRoleChange(n,r.accessRole.Maintainer)}),U["\u0275\u0275text"](5),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](6,"button",64),U["\u0275\u0275listener"]("click",function(){U["\u0275\u0275restoreView"](e);const n=t.role,r=U["\u0275\u0275nextContext"]();return r.onRoleChange(n,r.accessRole.Admin)}),U["\u0275\u0275text"](7),U["\u0275\u0275elementEnd"]()}if(2&e){const e=t.role,n=U["\u0275\u0275nextContext"]();U["\u0275\u0275property"]("disabled",!e.userRole),U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("disabled",e.userRole===n.accessRole.Consumer),U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",n.roleName(n.accessRole.Consumer)," "),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("disabled",e.userRole===n.accessRole.Maintainer),U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",n.roleName(n.accessRole.Maintainer)," "),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("disabled",e.userRole===n.accessRole.Admin),U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",n.roleName(n.accessRole.Admin)," ")}}var Fe=function(e){return e.ProjectId="project_id",e.ProjectTitle="project_title",e.GroupRoles="group_roles",e.UserRole="user_role",e.EffectiveRole="effective_role",e}({});const He=Fe.ProjectId,Ke=[Fe.ProjectId,Fe.ProjectTitle,Fe.GroupRoles,Fe.UserRole,Fe.EffectiveRole];let Ve=(()=>{class e{constructor(e,t,n,r,a,o,l){this.activatedRoute=e,this.router=t,this.cdr=n,this.clipboardService=r,this.subheaderService=a,this.hyperionPersonnelService=o,this.notificationService=l,this.destroy$=new y.b,this.loading$=new C.a(!1),this.account$=new C.a(null),this.alert$=new C.a(null),this.reload$=new C.a(!0),this.needle$=new C.a(""),this.sort$=new C.a({active:He,direction:"asc"}),this.page$=new C.a({pageIndex:0,pageSize:10}),this.total$=new C.a(0),this.dataSource$=new C.a(new u.k),this.displayedColumns=[...Ke],this.column=Fe,this.accessRole=he,this.pageSizes=[10,25,50,100],Object(x.b)(this.activatedRoute.paramMap.pipe(Object(j.a)(e=>e.get("username")),Object(w.a)(),Object(Se.a)(e=>this.hyperionPersonnelService.getPersonnelAccountByUsername(e)),Object(O.a)(e=>this.onAccountChange(e))),this.reload$.asObservable(),this.needle$.asObservable().pipe(Object(w.a)(),Object(_.a)(450)),this.sort$.asObservable(),this.page$.asObservable()).pipe(Object($.a)(this.destroy$),Object(j.a)(([e,t,n,r,a])=>({accountId:e.id,needle:n,orderBy:T.fromJson(r.active||He),orderDir:A.h.fromJson(r.direction||"asc"),limit:a.pageSize,offset:a.pageIndex*a.pageSize})),Object(I.a)(e=>{const t=!(this.args&&this.args.accountId===e.accountId&&this.args.needle===e.needle&&this.args.orderBy===e.orderBy&&this.args.orderDir===e.orderDir&&this.args.limit===e.limit);return this.args=e,t&&this.page$.next({pageSize:e.limit,pageIndex:0}),!t})).subscribe(e=>this.loadItems(e))}ngOnDestroy(){this.subData instanceof E.a&&(this.subData.unsubscribe(),this.subData=null),this.destroy$.next(),this.destroy$.complete(),this.loading$.complete()}getData(e){return this.hyperionPersonnelService.getPersonnelAccountRoles(e.accountId,e.needle,e.orderBy,e.orderDir,e.offset,e.limit).pipe(Object($.a)(this.destroy$),Object(O.a)(e=>this.total$.next(e.total)),Object(j.a)(e=>e.items))}loadItems(e){this.loading$.next(!0),this.subData instanceof E.a&&(this.subData.unsubscribe(),this.subData=null),this.subData=this.getData(e).pipe(Object($.a)(this.destroy$),Object(j.a)(e=>e.map(e=>{const t=this.effectiveRole(e.userRole,e.groupRoles);return e.effectiveRole=t.role,e.effectiveGroup=t.groupName,e})),Object(D.a)(()=>this.loading$.next(!1))).subscribe(e=>{const t=new u.k;t.data=e,this.dataSource$.next(t)})}roleName(e){const t="string"==typeof e?he.fromJson(e):e;return he.getDescription(t)}mostPrivilegedGroup(e){const t=e||{},n=Object.keys(t);return n.length>0?n.sort((e,n)=>he.fromJson(t[e].role)>he.fromJson(t[n].role)?-1:1)[0]:null}effectiveRole(e,t){const n=this.mostPrivilegedGroup(t),r=n?he.fromJson(t[n].role):null,a=(r||0)>(e||0),o={role:null,groupName:null};return e||n?(o.role=a?r:e,o.groupName=a?n:null,o):o}updatePageStatus(e){this.subheaderService.setTitle(e.name),this.subheaderService.setBreadcrumbs([{title:"Personnel Accounts",page:"/personnel/accounts"},{title:e.name,page:"/personnel/accounts/"+e.username}]),this.alert$.next(null),this.cdr.detectChanges()}onNeedleChange(e){this.needle$.next((e||"").trim())}onSortChange(e){this.sort$.next(e)}onPageChange(e){this.page$.next(e)}onReload(){this.reload$.next(!0)}onAccountChange(e){this.account$.next(e),this.updatePageStatus(e)}onRoleChange(e,t){e.userRole!==t&&this.setPersonnelAccountRole(e.personnelId,e.projectId,t).subscribe(e=>{this.reload$.next(!0),this.notificationService.success("Role changed")})}onRoleReset(e){e.userRole&&this.resetPersonnelAccountRole(e.personnelId,e.projectId).subscribe(e=>{this.reload$.next(!0),this.notificationService.success("Role changed")})}setPersonnelAccountRole(e,t,n){const r=new z;return r.role=n,this.hyperionPersonnelService.setPersonnelAccountRole(r,e,t).pipe(Object($.a)(this.destroy$))}resetPersonnelAccountRole(e,t){return this.hyperionPersonnelService.resetPersonnelAccountRole(e,t).pipe(Object($.a)(this.destroy$))}}return e.\u0275fac=function(t){return new(t||e)(U["\u0275\u0275directiveInject"](S.a),U["\u0275\u0275directiveInject"](S.g),U["\u0275\u0275directiveInject"](U.ChangeDetectorRef),U["\u0275\u0275directiveInject"](Ce.a),U["\u0275\u0275directiveInject"](ye.a),U["\u0275\u0275directiveInject"](G),U["\u0275\u0275directiveInject"](xe.a))},e.\u0275cmp=U["\u0275\u0275defineComponent"]({type:e,selectors:[["m-personnel-account-manage"]],decls:52,vars:35,consts:[["class","row mb-2",4,"ngIf"],[1,"row"],[1,"col-xl-12"],[1,"m-portlet","m-portlet--ngviewer"],[1,"m-portlet__head","compact"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[1,"m-portlet__head-tools"],[1,"m-portlet__nav"],[1,"m-portlet__nav-item"],[1,"pr-2"],["floatLabel","never",2,"width","300px"],["matInput","","placeholder","Type to filter...",3,"value","keyup"],["href","javascript:void(null)","title","Refresh","matTooltip","Click to refresh","matTooltipPosition","above",1,"m-portlet__nav-link","m-portlet__nav-link--icon",3,"click"],[1,"la","la-refresh"],[1,"m-portlet__body","m-portlet__body--no-padding"],[1,"m-portlet__preview","p-0"],["mat-table","","matSort","","matSortDisableClear","",1,"table-hover",3,"dataSource","matSortActive","matSortDirection","matSortChange"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","","class","cell-uid",4,"matHeaderCellDef"],["mat-cell","","class","cell-uid",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header","","class","cell-role-list",4,"matHeaderCellDef"],["mat-cell","",3,"ngSwitch",4,"matCellDef"],["mat-header-cell","","mat-sort-header","","class","cell-role",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"dimmed","deleted",4,"matRowDef","matRowDefColumns"],["class","card card-body blank p-0 table-row",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["roleMenu","matMenu"],["matMenuContent",""],[1,"row","mb-2"],[1,"col-lg-12","mb-2","f-s-14"],[3,"message","kind","dismissible"],["mat-header-cell","","mat-sort-header","",1,"cell-uid"],["mat-cell","",1,"cell-uid"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"cell-role-list"],["matTooltip","Personnel groups are managed at corporate LDAP service","matTooltipPosition","above"],[1,"la","la-question-circle","hint-icon","dimmed"],["mat-cell","",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"light-gray"],["class","block group-role",4,"ngFor","ngForOf"],[1,"block","group-role"],[1,"v-a-middle","light-gray","mr-1"],[1,"v-a-middle","metal",3,"inline"],["matTooltip","Click to manage","matTooltipPosition","above",1,"v-a-middle","ml-05",3,"routerLink"],["mat-header-cell","","mat-sort-header","",1,"cell-role"],["matTooltip","Access role assigned to current user explicitly","matTooltipPosition","above"],[1,"clickable",3,"matMenuTriggerFor","matMenuTriggerData"],["href","javascript:void(null)","matTooltip","Click to change","matTooltipPosition","above"],[1,"metal","v-a-middle",3,"inline"],["matTooltip","The most privileged role: either inherited from group or assigned personally","matTooltipPosition","above"],["class","block group-role",4,"ngIf"],[1,"v-a-middle","light-gray","f-w-400","mr-1"],["mat-header-row",""],["mat-row",""],[1,"card","card-body","blank","p-0","table-row"],[1,"inner-text","f-s-14","f-w-400"],["mat-menu-item","",3,"disabled","click"]],template:function(e,t){if(1&e&&(U["\u0275\u0275template"](0,we,6,9,"div",0),U["\u0275\u0275pipe"](1,"async"),U["\u0275\u0275elementStart"](2,"div",1),U["\u0275\u0275elementStart"](3,"div",2),U["\u0275\u0275elementStart"](4,"div",3),U["\u0275\u0275elementStart"](5,"div",4),U["\u0275\u0275elementStart"](6,"div",5),U["\u0275\u0275elementStart"](7,"div",6),U["\u0275\u0275elementStart"](8,"h3",7),U["\u0275\u0275text"](9," User access roles "),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](10,"div",8),U["\u0275\u0275elementStart"](11,"ul",9),U["\u0275\u0275elementStart"](12,"li",10),U["\u0275\u0275elementStart"](13,"div",11),U["\u0275\u0275elementStart"](14,"mat-form-field",12),U["\u0275\u0275elementStart"](15,"input",13),U["\u0275\u0275listener"]("keyup",function(e){return t.onNeedleChange(e.target.value)}),U["\u0275\u0275pipe"](16,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](17,"li",10),U["\u0275\u0275elementStart"](18,"a",14),U["\u0275\u0275listener"]("click",function(){return t.onReload()}),U["\u0275\u0275element"](19,"i",15),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](20,"div",16),U["\u0275\u0275elementStart"](21,"div",17),U["\u0275\u0275elementStart"](22,"table",18),U["\u0275\u0275listener"]("matSortChange",function(e){return t.onSortChange(e)}),U["\u0275\u0275pipe"](23,"async"),U["\u0275\u0275pipe"](24,"async"),U["\u0275\u0275pipe"](25,"async"),U["\u0275\u0275elementContainerStart"](26,19),U["\u0275\u0275template"](27,_e,2,0,"th",20),U["\u0275\u0275template"](28,$e,3,1,"td",21),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](29,19),U["\u0275\u0275template"](30,je,2,0,"th",22),U["\u0275\u0275template"](31,Ie,3,1,"td",23),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](32,19),U["\u0275\u0275template"](33,Oe,4,0,"th",24),U["\u0275\u0275template"](34,Je,3,2,"td",25),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](35,19),U["\u0275\u0275template"](36,ke,4,0,"th",26),U["\u0275\u0275template"](37,Be,7,6,"td",23),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](38,19),U["\u0275\u0275template"](39,Te,4,0,"th",24),U["\u0275\u0275template"](40,Me,5,2,"td",23),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275template"](41,ze,1,0,"tr",27),U["\u0275\u0275template"](42,Ue,2,6,"tr",28),U["\u0275\u0275elementEnd"](),U["\u0275\u0275template"](43,Ge,5,7,"div",29),U["\u0275\u0275pipe"](44,"async"),U["\u0275\u0275elementStart"](45,"mat-paginator",30),U["\u0275\u0275listener"]("page",function(e){return t.onPageChange(e)}),U["\u0275\u0275pipe"](46,"async"),U["\u0275\u0275pipe"](47,"async"),U["\u0275\u0275pipe"](48,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](49,"mat-menu",null,31),U["\u0275\u0275template"](51,Le,8,7,"ng-template",32),U["\u0275\u0275elementEnd"]()),2&e){let e=null;U["\u0275\u0275property"]("ngIf",U["\u0275\u0275pipeBind1"](1,17,t.alert$)),U["\u0275\u0275advance"](15),U["\u0275\u0275property"]("value",U["\u0275\u0275pipeBind1"](16,19,t.needle$)),U["\u0275\u0275advance"](7),U["\u0275\u0275property"]("dataSource",U["\u0275\u0275pipeBind1"](23,21,t.dataSource$))("matSortActive",U["\u0275\u0275pipeBind1"](24,23,t.sort$).active)("matSortDirection",U["\u0275\u0275pipeBind1"](25,25,t.sort$).direction),U["\u0275\u0275advance"](4),U["\u0275\u0275property"]("matColumnDef",t.column.ProjectId),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.ProjectTitle),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.GroupRoles),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.UserRole),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.EffectiveRole),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngIf",0===(null==(e=U["\u0275\u0275pipeBind1"](44,27,t.dataSource$))||null==e.data?null:e.data.length)),U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("length",U["\u0275\u0275pipeBind1"](46,29,t.total$))("pageSize",U["\u0275\u0275pipeBind1"](47,31,t.page$).pageSize)("pageSizeOptions",t.pageSizes)("pageIndex",U["\u0275\u0275pipeBind1"](48,33,t.page$).pageIndex)}},directives:[r.m,L.b,c.b,h.a,u.j,p.a,u.c,u.e,u.b,u.g,u.i,m.a,d.a,d.b,Ee.a,u.d,p.b,u.a,r.o,r.p,r.q,r.l,s.a,S.h,d.e,u.f,u.h,d.c],pipes:[r.b,r.g],styles:[".group-role[_ngcontent-%COMP%]{line-height:20px}.checkbox-label[_ngcontent-%COMP%]{line-height:23px}"],changeDetection:0}),e})();function Ye(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",32),U["\u0275\u0275text"](1," ID "),U["\u0275\u0275elementEnd"]())}function qe(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",33),U["\u0275\u0275elementStart"](1,"span",34),U["\u0275\u0275text"](2),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275classProp"]("deleted",e.isDeleted),U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate1"](" ",e.id," ")}}function Xe(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",35),U["\u0275\u0275text"](1," Name "),U["\u0275\u0275elementEnd"]())}function Ze(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"mat-icon",39),U["\u0275\u0275text"](1," star "),U["\u0275\u0275elementEnd"]()),2&e&&U["\u0275\u0275property"]("inline",!0)}function Qe(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",36),U["\u0275\u0275elementStart"](1,"a",37),U["\u0275\u0275elementStart"](2,"strong"),U["\u0275\u0275text"](3),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275template"](4,Ze,2,1,"mat-icon",38),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275propertyInterpolate"]("routerLink",e.name),U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate"](e.name),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngIf",e.isSuperadmin)}}function We(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",40),U["\u0275\u0275text"](1," Members "),U["\u0275\u0275elementEnd"]())}function et(e,t){1&e&&(U["\u0275\u0275elementContainerStart"](0),U["\u0275\u0275elementStart"](1,"span",43),U["\u0275\u0275text"](2,"None"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementContainerEnd"]())}function tt(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"span",45),U["\u0275\u0275elementStart"](1,"mat-icon",46),U["\u0275\u0275text"](2,"person"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](3,"a",37),U["\u0275\u0275text"](4),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("inline",!0),U["\u0275\u0275advance"](2),U["\u0275\u0275propertyInterpolate1"]("routerLink","/personnel/accounts/",e,""),U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate"](e)}}function nt(e,t){if(1&e&&(U["\u0275\u0275elementContainerStart"](0),U["\u0275\u0275template"](1,tt,5,3,"span",44),U["\u0275\u0275elementContainerEnd"]()),2&e){const e=U["\u0275\u0275nextContext"]().$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngForOf",e.members)}}function rt(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"span",45),U["\u0275\u0275elementStart"](1,"mat-icon",46),U["\u0275\u0275text"](2,"person"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](3,"a",37),U["\u0275\u0275text"](4),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("inline",!0),U["\u0275\u0275advance"](2),U["\u0275\u0275propertyInterpolate1"]("routerLink","/personnel/accounts/",e,""),U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate"](e)}}function at(e,t){if(1&e&&(U["\u0275\u0275elementContainerStart"](0),U["\u0275\u0275elementStart"](1,"span"),U["\u0275\u0275template"](2,rt,5,3,"span",44),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](3,"span",47),U["\u0275\u0275text"](4," and "),U["\u0275\u0275elementStart"](5,"a",37),U["\u0275\u0275text"](6),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementContainerEnd"]()),2&e){const e=U["\u0275\u0275nextContext"]().$implicit;U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("ngForOf",e.members.slice(0,3)),U["\u0275\u0275advance"](3),U["\u0275\u0275propertyInterpolate"]("routerLink",e.name),U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",e.members.length-3," more ")}}function ot(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",41),U["\u0275\u0275template"](1,et,3,0,"ng-container",42),U["\u0275\u0275template"](2,nt,2,1,"ng-container",42),U["\u0275\u0275template"](3,at,7,3,"ng-container",42),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngIf",0===e.members.length),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngIf",e.members.length>0&&e.members.length<5),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngIf",e.members.length>=5)}}function lt(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",48),U["\u0275\u0275text"](1," Count "),U["\u0275\u0275elementEnd"]())}function it(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",36),U["\u0275\u0275text"](1),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",e.memberCount," ")}}function st(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",49),U["\u0275\u0275text"](1," Deleted "),U["\u0275\u0275elementEnd"]())}function ct(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",36),U["\u0275\u0275text"](1),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",e.isDeleted?"Yes":"No"," ")}}function dt(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",50),U["\u0275\u0275text"](1," Date Added "),U["\u0275\u0275elementEnd"]())}function mt(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",36),U["\u0275\u0275text"](1),U["\u0275\u0275pipe"](2,"date"),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",U["\u0275\u0275pipeBind2"](2,1,e.createdAt,"yyyy-MM-dd HH:mm")," ")}}function pt(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",50),U["\u0275\u0275text"](1," Date Updated "),U["\u0275\u0275elementEnd"]())}function ut(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",36),U["\u0275\u0275text"](1),U["\u0275\u0275pipe"](2,"date"),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",e.updatedAt?U["\u0275\u0275pipeBind2"](2,1,e.updatedAt,"yyyy-MM-dd HH:mm"):"Never"," ")}}function ht(e,t){1&e&&U["\u0275\u0275element"](0,"tr",51)}function ft(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"tr",52),U["\u0275\u0275pipe"](1,"async"),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=U["\u0275\u0275nextContext"]();U["\u0275\u0275classProp"]("dimmed",U["\u0275\u0275pipeBind1"](1,4,n.loading$))("deleted",e.isDeleted)}}function gt(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"div",53),U["\u0275\u0275elementStart"](1,"div",54),U["\u0275\u0275pipe"](2,"async"),U["\u0275\u0275text"](3),U["\u0275\u0275pipe"](4,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=U["\u0275\u0275nextContext"]();U["\u0275\u0275advance"](1),U["\u0275\u0275classProp"]("dimmed",!U["\u0275\u0275pipeBind1"](2,3,e.loading$)),U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate1"](" ",U["\u0275\u0275pipeBind1"](4,5,e.loading$)?"Loading data from server...":"No data to display"," ")}}var bt=function(e){return e.Id="id",e.Name="name",e.Members="members",e.MemberCount="member_count",e.IsDeleted="is_deleted",e.CreatedAt="created_at",e.UpdatedAt="updated_at",e}({});const vt=bt.Name,St=[bt.Id,bt.Name,bt.Members,bt.MemberCount,bt.IsDeleted,bt.CreatedAt,bt.UpdatedAt];let yt=(()=>{class e{constructor(e,t){this.router=e,this.hyperionPersonnelService=t,this.destroy$=new y.b,this.loading$=new C.a(!1),this.reload$=new C.a(!0),this.needle$=new C.a(""),this.sort$=new C.a({active:vt,direction:"asc"}),this.page$=new C.a({pageIndex:0,pageSize:10}),this.total$=new C.a(0),this.dataSource$=new C.a(new u.k),this.displayedColumns=[...St],this.column=bt,this.pageSizes=[10,25,50,100],Object(x.b)(this.reload$.asObservable(),this.needle$.asObservable().pipe(Object(w.a)(),Object(_.a)(450)),this.sort$.asObservable(),this.page$.asObservable()).pipe(Object($.a)(this.destroy$),Object(j.a)(([e,t,n,r])=>({needle:t,orderBy:N.fromJson(n.active),orderDir:A.h.fromJson(n.direction),limit:r.pageSize,offset:r.pageIndex*r.pageSize})),Object(I.a)(e=>{const t=!(this.args&&this.args.needle===e.needle&&this.args.orderBy===e.orderBy&&this.args.orderDir===e.orderDir&&this.args.limit===e.limit);return this.args=e,t&&this.page$.next({pageSize:e.limit,pageIndex:0}),!t})).subscribe(e=>this.loadItems(e))}ngOnDestroy(){this.subData instanceof E.a&&(this.subData.unsubscribe(),this.subData=null),this.destroy$.next(),this.destroy$.complete()}getData(e){return this.hyperionPersonnelService.getPersonnelGroups(e.needle,e.orderBy,e.orderDir,e.offset,e.limit).pipe(Object($.a)(this.destroy$),Object(O.a)(e=>this.total$.next(e.total)),Object(j.a)(e=>e.items))}loadItems(e){this.loading$.next(!0),this.subData instanceof E.a&&(this.subData.unsubscribe(),this.subData=null),this.subData=this.getData(e).pipe(Object($.a)(this.destroy$),Object(D.a)(()=>this.loading$.next(!1))).subscribe(e=>{const t=new u.k;t.data=e,this.dataSource$.next(t)})}onNeedleChange(e){this.needle$.next((e||"").trim())}onSortChange(e){this.sort$.next(e)}onPageChange(e){this.page$.next(e)}onReload(){this.reload$.next(!0)}}return e.\u0275fac=function(t){return new(t||e)(U["\u0275\u0275directiveInject"](S.g),U["\u0275\u0275directiveInject"](G))},e.\u0275cmp=U["\u0275\u0275defineComponent"]({type:e,selectors:[["m-personnel-groups"]],decls:52,vars:34,consts:[[1,"row"],[1,"col-xl-12"],[1,"m-portlet","m-portlet--ngviewer"],[1,"m-portlet__head","compact"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[1,"m-portlet__head-tools"],[1,"m-portlet__nav"],[1,"m-portlet__nav-item"],[1,"pr-2"],["floatLabel","never",2,"width","300px"],["matInput","","placeholder","Type to filter...",3,"value","keyup"],["href","javascript:void(null)","title","Refresh","matTooltip","Click to refresh","matTooltipPosition","above",1,"m-portlet__nav-link","m-portlet__nav-link--icon",3,"click"],[1,"la","la-refresh"],[1,"m-portlet__body","m-portlet__body--no-padding"],[1,"m-portlet__preview","p-0"],["mat-table","","matSort","","matSortDisableClear","",1,"table-hover",3,"dataSource","matSortActive","matSortDirection","matSortChange"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","","class","cell-id",4,"matHeaderCellDef"],["mat-cell","","class","cell-id",3,"deleted",4,"matCellDef"],["mat-header-cell","","mat-sort-header","","class","cell-long-name",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","f-w-500",4,"matCellDef"],["mat-header-cell","","mat-sort-header","","class","cell-number",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","","class","cell-checkbox",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","","class","cell-datetime",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"dimmed","deleted",4,"matRowDef","matRowDefColumns"],["class","card card-body blank p-0 table-row",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["mat-header-cell","","mat-sort-header","",1,"cell-id"],["mat-cell","",1,"cell-id"],[1,"poppins","f-w-400"],["mat-header-cell","","mat-sort-header","",1,"cell-long-name"],["mat-cell",""],["matTooltip","Click to manage","matTooltipPosition","above",3,"routerLink"],["class","v-a-middle ml-05 gold","matTooltip","Super\xa0Administrator group: no restrictions applied ever","matTooltipPosition","above",3,"inline",4,"ngIf"],["matTooltip","Super\xa0Administrator group: no restrictions applied ever","matTooltipPosition","above",1,"v-a-middle","ml-05","gold",3,"inline"],["mat-header-cell",""],["mat-cell","",1,"f-w-500"],[4,"ngIf"],[1,"dimmed"],["class","followed-by-comma",4,"ngFor","ngForOf"],[1,"followed-by-comma"],[1,"v-a-middle","metal",3,"inline"],[1,"v-a-middle"],["mat-header-cell","","mat-sort-header","",1,"cell-number"],["mat-header-cell","","mat-sort-header","",1,"cell-checkbox"],["mat-header-cell","","mat-sort-header","",1,"cell-datetime"],["mat-header-row",""],["mat-row",""],[1,"card","card-body","blank","p-0","table-row"],[1,"inner-text","f-s-14","f-w-400"]],template:function(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"div",0),U["\u0275\u0275elementStart"](1,"div",1),U["\u0275\u0275elementStart"](2,"div",2),U["\u0275\u0275elementStart"](3,"div",3),U["\u0275\u0275elementStart"](4,"div",4),U["\u0275\u0275elementStart"](5,"div",5),U["\u0275\u0275element"](6,"h3",6),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](7,"div",7),U["\u0275\u0275elementStart"](8,"ul",8),U["\u0275\u0275elementStart"](9,"li",9),U["\u0275\u0275elementStart"](10,"div",10),U["\u0275\u0275elementStart"](11,"mat-form-field",11),U["\u0275\u0275elementStart"](12,"input",12),U["\u0275\u0275listener"]("keyup",function(e){return t.onNeedleChange(e.target.value)}),U["\u0275\u0275pipe"](13,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](14,"li",9),U["\u0275\u0275elementStart"](15,"a",13),U["\u0275\u0275listener"]("click",function(){return t.onReload()}),U["\u0275\u0275element"](16,"i",14),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](17,"div",15),U["\u0275\u0275elementStart"](18,"div",16),U["\u0275\u0275elementStart"](19,"table",17),U["\u0275\u0275listener"]("matSortChange",function(e){return t.onSortChange(e)}),U["\u0275\u0275pipe"](20,"async"),U["\u0275\u0275pipe"](21,"async"),U["\u0275\u0275pipe"](22,"async"),U["\u0275\u0275elementContainerStart"](23,18),U["\u0275\u0275template"](24,Ye,2,0,"th",19),U["\u0275\u0275template"](25,qe,3,3,"td",20),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](26,18),U["\u0275\u0275template"](27,Xe,2,0,"th",21),U["\u0275\u0275template"](28,Qe,5,3,"td",22),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](29,18),U["\u0275\u0275template"](30,We,2,0,"th",23),U["\u0275\u0275template"](31,ot,4,3,"td",24),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](32,18),U["\u0275\u0275template"](33,lt,2,0,"th",25),U["\u0275\u0275template"](34,it,2,1,"td",22),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](35,18),U["\u0275\u0275template"](36,st,2,0,"th",26),U["\u0275\u0275template"](37,ct,2,1,"td",22),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](38,18),U["\u0275\u0275template"](39,dt,2,0,"th",27),U["\u0275\u0275template"](40,mt,3,4,"td",22),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](41,18),U["\u0275\u0275template"](42,pt,2,0,"th",27),U["\u0275\u0275template"](43,ut,3,4,"td",22),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275template"](44,ht,1,0,"tr",28),U["\u0275\u0275template"](45,ft,2,6,"tr",29),U["\u0275\u0275elementEnd"](),U["\u0275\u0275template"](46,gt,5,7,"div",30),U["\u0275\u0275pipe"](47,"async"),U["\u0275\u0275elementStart"](48,"mat-paginator",31),U["\u0275\u0275listener"]("page",function(e){return t.onPageChange(e)}),U["\u0275\u0275pipe"](49,"async"),U["\u0275\u0275pipe"](50,"async"),U["\u0275\u0275pipe"](51,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){let e=null;U["\u0275\u0275advance"](12),U["\u0275\u0275property"]("value",U["\u0275\u0275pipeBind1"](13,18,t.needle$)),U["\u0275\u0275advance"](7),U["\u0275\u0275property"]("dataSource",U["\u0275\u0275pipeBind1"](20,20,t.dataSource$))("matSortActive",U["\u0275\u0275pipeBind1"](21,22,t.sort$).active)("matSortDirection",U["\u0275\u0275pipeBind1"](22,24,t.sort$).direction),U["\u0275\u0275advance"](4),U["\u0275\u0275property"]("matColumnDef",t.column.Id),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.Name),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.Members),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.MemberCount),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.IsDeleted),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.CreatedAt),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.UpdatedAt),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngIf",0===(null==(e=U["\u0275\u0275pipeBind1"](47,26,t.dataSource$))||null==e.data?null:e.data.length)),U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("length",U["\u0275\u0275pipeBind1"](49,28,t.total$))("pageSize",U["\u0275\u0275pipeBind1"](50,30,t.page$).pageSize)("pageSizeOptions",t.pageSizes)("pageIndex",U["\u0275\u0275pipeBind1"](51,32,t.page$).pageIndex)}},directives:[L.b,c.b,h.a,u.j,p.a,u.c,u.e,u.b,u.g,u.i,r.m,m.a,u.d,p.b,u.a,S.h,s.a,r.l,u.f,u.h],pipes:[r.b,r.e],styles:[""],changeDetection:0}),e})();function Ct(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"div",36),U["\u0275\u0275elementStart"](1,"div",37),U["\u0275\u0275element"](2,"m-alert",38),U["\u0275\u0275pipe"](3,"async"),U["\u0275\u0275pipe"](4,"async"),U["\u0275\u0275pipe"](5,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=U["\u0275\u0275nextContext"]();let t=null,n=null,r=null;U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("message",null==(t=U["\u0275\u0275pipeBind1"](3,3,e.alert$))?null:t.message)("kind",null==(n=U["\u0275\u0275pipeBind1"](4,5,e.alert$))?null:n.kind)("dismissible",null==(r=U["\u0275\u0275pipeBind1"](5,7,e.alert$))?null:r.dismissable)}}function xt(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",39),U["\u0275\u0275text"](1," Project ID "),U["\u0275\u0275elementEnd"]())}function Et(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",40),U["\u0275\u0275elementStart"](1,"strong"),U["\u0275\u0275text"](2),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate"](e.projectId)}}function wt(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",41),U["\u0275\u0275text"](1," Project Title "),U["\u0275\u0275elementEnd"]())}function _t(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",42),U["\u0275\u0275elementStart"](1,"strong"),U["\u0275\u0275text"](2),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate"](e.projectTitle)}}function $t(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"th",43),U["\u0275\u0275elementStart"](1,"span",44),U["\u0275\u0275text"](2," Group Role "),U["\u0275\u0275element"](3,"i",45),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]())}const jt=function(e){return{role:e}};function It(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"td",42),U["\u0275\u0275elementStart"](1,"div",46),U["\u0275\u0275elementStart"](2,"a",47),U["\u0275\u0275elementStart"](3,"strong"),U["\u0275\u0275text"](4),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](5,"mat-icon",48),U["\u0275\u0275text"](6,"keyboard_arrow_down"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=U["\u0275\u0275nextContext"](),r=U["\u0275\u0275reference"](63);U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("matMenuTriggerFor",r)("matMenuTriggerData",U["\u0275\u0275pureFunction1"](4,jt,e)),U["\u0275\u0275advance"](3),U["\u0275\u0275textInterpolate"](n.roleName(e.groupRole)||"None"),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("inline",!0)}}function Ot(e,t){1&e&&U["\u0275\u0275element"](0,"tr",49)}function Dt(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"tr",50),U["\u0275\u0275pipe"](1,"async"),U["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=U["\u0275\u0275nextContext"]();U["\u0275\u0275classProp"]("dimmed",U["\u0275\u0275pipeBind1"](1,4,n.loading$))("deleted",e.isDeleted)}}function Pt(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"div",51),U["\u0275\u0275elementStart"](1,"div",52),U["\u0275\u0275pipe"](2,"async"),U["\u0275\u0275text"](3),U["\u0275\u0275pipe"](4,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]()),2&e){const e=U["\u0275\u0275nextContext"]();U["\u0275\u0275advance"](1),U["\u0275\u0275classProp"]("dimmed",!U["\u0275\u0275pipeBind1"](2,3,e.loading$)),U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate1"](" ",U["\u0275\u0275pipeBind1"](4,5,e.loading$)?"Loading data from server...":"No data to display"," ")}}function Rt(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"ul",53),U["\u0275\u0275elementStart"](1,"li",54),U["\u0275\u0275text"](2," Group does not have any members "),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"]())}function Jt(e,t){1&e&&(U["\u0275\u0275elementStart"](0,"li",54),U["\u0275\u0275text"](1," No users match search criteria "),U["\u0275\u0275elementEnd"]())}function kt(e,t){if(1&e&&(U["\u0275\u0275elementContainerStart"](0),U["\u0275\u0275elementStart"](1,"li",54),U["\u0275\u0275elementStart"](2,"mat-icon",57),U["\u0275\u0275text"](3,"person"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](4,"a",58),U["\u0275\u0275elementStart"](5,"span",59),U["\u0275\u0275text"](6),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("inline",!0),U["\u0275\u0275advance"](2),U["\u0275\u0275propertyInterpolate1"]("routerLink","/personnel/accounts/",e,""),U["\u0275\u0275advance"](2),U["\u0275\u0275textInterpolate"](e)}}function At(e,t){if(1&e&&(U["\u0275\u0275elementStart"](0,"ul",53),U["\u0275\u0275template"](1,Jt,2,0,"li",55),U["\u0275\u0275pipe"](2,"async"),U["\u0275\u0275template"](3,kt,7,3,"ng-container",56),U["\u0275\u0275pipe"](4,"async"),U["\u0275\u0275elementEnd"]()),2&e){const e=U["\u0275\u0275nextContext"]();let t=null;U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngIf",0===(null==(t=U["\u0275\u0275pipeBind1"](2,2,e.filteredMembers$))?null:t.length)),U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("ngForOf",U["\u0275\u0275pipeBind1"](4,4,e.filteredMembers$))}}function Bt(e,t){if(1&e){const e=U["\u0275\u0275getCurrentView"]();U["\u0275\u0275elementStart"](0,"button",60),U["\u0275\u0275listener"]("click",function(){U["\u0275\u0275restoreView"](e);const n=t.role;return U["\u0275\u0275nextContext"]().onRoleReset(n)}),U["\u0275\u0275text"](1," None "),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](2,"button",60),U["\u0275\u0275listener"]("click",function(){U["\u0275\u0275restoreView"](e);const n=t.role,r=U["\u0275\u0275nextContext"]();return r.onRoleChange(n,r.accessRole.Consumer)}),U["\u0275\u0275text"](3),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](4,"button",60),U["\u0275\u0275listener"]("click",function(){U["\u0275\u0275restoreView"](e);const n=t.role,r=U["\u0275\u0275nextContext"]();return r.onRoleChange(n,r.accessRole.Maintainer)}),U["\u0275\u0275text"](5),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](6,"button",60),U["\u0275\u0275listener"]("click",function(){U["\u0275\u0275restoreView"](e);const n=t.role,r=U["\u0275\u0275nextContext"]();return r.onRoleChange(n,r.accessRole.Admin)}),U["\u0275\u0275text"](7),U["\u0275\u0275elementEnd"]()}if(2&e){const e=t.role,n=U["\u0275\u0275nextContext"]();U["\u0275\u0275property"]("disabled",!e.groupRole),U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("disabled",e.groupRole===n.accessRole.Consumer),U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",n.roleName(n.accessRole.Consumer)," "),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("disabled",e.groupRole===n.accessRole.Maintainer),U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",n.roleName(n.accessRole.Maintainer)," "),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("disabled",e.groupRole===n.accessRole.Admin),U["\u0275\u0275advance"](1),U["\u0275\u0275textInterpolate1"](" ",n.roleName(n.accessRole.Admin)," ")}}var Tt=function(e){return e.ProjectId="project_id",e.ProjectTitle="project_title",e.GroupRole="group_role",e}({});const Nt=Tt.ProjectId,Mt=[Tt.ProjectId,Tt.ProjectTitle,Tt.GroupRole],zt=[{path:"",children:[{path:"accounts",component:ue},{path:"accounts/:username",component:Ve},{path:"groups",component:yt},{path:"groups/:name",component:(()=>{class e{constructor(e,t,n,r,a,o,l){this.activatedRoute=e,this.router=t,this.cdr=n,this.clipboardService=r,this.subheaderService=a,this.hyperionPersonnelService=o,this.notificationService=l,this.destroy$=new y.b,this.loading$=new C.a(!1),this.group$=new C.a(null),this.filteredMembers$=new C.a([]),this.alert$=new C.a(null),this.reload$=new C.a(!0),this.needle$=new C.a(""),this.memberNeedle$=new C.a(""),this.sort$=new C.a({active:Nt,direction:"asc"}),this.page$=new C.a({pageIndex:0,pageSize:10}),this.total$=new C.a(0),this.dataSource$=new C.a(new u.k),this.displayedColumns=[...Mt],this.column=Tt,this.accessRole=k.a,this.pageSizes=[10,25,50,100],Object(x.b)(this.activatedRoute.paramMap.pipe(Object(j.a)(e=>e.get("name")),Object(w.a)(),Object(Se.a)(e=>this.hyperionPersonnelService.getPersonnelGroupByName(e)),Object(O.a)(e=>this.onGroupChange(e))),this.reload$.asObservable(),this.needle$.asObservable().pipe(Object(w.a)(),Object(_.a)(450)),this.sort$.asObservable(),this.page$.asObservable()).pipe(Object($.a)(this.destroy$),Object(j.a)(([e,t,n,r,a])=>({groupId:e.id,needle:n,orderBy:M.fromJson(r.active||Nt),orderDir:A.h.fromJson(r.direction||"asc"),limit:a.pageSize,offset:a.pageIndex*a.pageSize})),Object(I.a)(e=>{const t=!(this.args&&this.args.groupId===e.groupId&&this.args.needle===e.needle&&this.args.orderBy===e.orderBy&&this.args.orderDir===e.orderDir&&this.args.limit===e.limit);return this.args=e,t&&this.page$.next({pageSize:e.limit,pageIndex:0}),!t})).subscribe(e=>this.loadItems(e)),Object(x.b)(this.group$.asObservable().pipe(Object(I.a)(e=>e instanceof k.j)),this.memberNeedle$.asObservable().pipe(Object(_.a)(50))).pipe(Object($.a)(this.destroy$)).subscribe(([e,t])=>{const n=(t||"").trim().toLocaleLowerCase(),r=e.members.filter(e=>!n||-1!==e.toLocaleLowerCase().indexOf(n)).sort((e,t)=>e<t?-1:1);this.filteredMembers$.next(r)})}ngOnDestroy(){this.subData instanceof E.a&&(this.subData.unsubscribe(),this.subData=null),this.destroy$.next(),this.destroy$.complete(),this.loading$.complete()}getData(e){return this.hyperionPersonnelService.getPersonnelGroupRoles(e.groupId,e.needle,e.orderBy,e.orderDir,e.offset,e.limit).pipe(Object($.a)(this.destroy$),Object(O.a)(e=>this.total$.next(e.total)),Object(j.a)(e=>e.items))}loadItems(e){this.loading$.next(!0),this.subData instanceof E.a&&(this.subData.unsubscribe(),this.subData=null),this.subData=this.getData(e).pipe(Object($.a)(this.destroy$),Object(D.a)(()=>this.loading$.next(!1))).subscribe(e=>{const t=new u.k;t.data=e,this.dataSource$.next(t)})}roleName(e){const t="string"==typeof e?k.a.fromJson(e):e;return k.a.getDescription(t)}updatePageStatus(e){this.subheaderService.setTitle(e.name),this.subheaderService.setBreadcrumbs([{title:"Personnel Groups",page:"/personnel/groups"},{title:e.name,page:"/personnel/groups/"+e.name}]),this.alert$.next(null),this.cdr.detectChanges()}onNeedleChange(e){this.needle$.next((e||"").trim())}onMemberNeedleChange(e){this.memberNeedle$.next((e||"").trim())}onSortChange(e){this.sort$.next(e)}onPageChange(e){this.page$.next(e)}onReload(){this.reload$.next(!0)}onGroupChange(e){this.group$.next(e),this.updatePageStatus(e)}onRoleChange(e,t){e.groupRole!==t&&this.setPersonnelGroupRole(e.groupId,e.projectId,t).subscribe(e=>{this.reload$.next(!0),this.notificationService.success("Role changed")})}onRoleReset(e){e.groupRole&&this.resetPersonnelGroupRole(e.groupId,e.projectId).subscribe(e=>{this.reload$.next(!0),this.notificationService.success("Role changed")})}setPersonnelGroupRole(e,t,n){const r=new z;return r.role=n,this.hyperionPersonnelService.setPersonnelGroupRole(r,e,t).pipe(Object($.a)(this.destroy$))}resetPersonnelGroupRole(e,t){return this.hyperionPersonnelService.resetPersonnelGroupRole(e,t).pipe(Object($.a)(this.destroy$))}}return e.\u0275fac=function(t){return new(t||e)(U["\u0275\u0275directiveInject"](S.a),U["\u0275\u0275directiveInject"](S.g),U["\u0275\u0275directiveInject"](U.ChangeDetectorRef),U["\u0275\u0275directiveInject"](Ce.a),U["\u0275\u0275directiveInject"](ye.a),U["\u0275\u0275directiveInject"](G),U["\u0275\u0275directiveInject"](xe.a))},e.\u0275cmp=U["\u0275\u0275defineComponent"]({type:e,selectors:[["m-personnel-group-manage"]],decls:65,vars:40,consts:[["class","row mb-2",4,"ngIf"],[1,"row"],[1,"col-xl-9"],[1,"m-portlet","m-portlet--ngviewer"],[1,"m-portlet__head","compact"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text"],[1,"m-portlet__head-tools"],[1,"m-portlet__nav"],[1,"m-portlet__nav-item"],[1,"pr-2"],["floatLabel","never",2,"width","300px"],["matInput","","placeholder","Type to filter...",3,"value","keyup"],["href","javascript:void(null)","title","Refresh","matTooltip","Click to refresh","matTooltipPosition","above",1,"m-portlet__nav-link","m-portlet__nav-link--icon",3,"click"],[1,"la","la-refresh"],[1,"m-portlet__body","m-portlet__body--no-padding"],[1,"m-portlet__preview","p-0"],["mat-table","","matSort","","matSortDisableClear","",1,"table-hover",3,"dataSource","matSortActive","matSortDirection","matSortChange"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","","class","cell-uid",4,"matHeaderCellDef"],["mat-cell","","class","cell-uid",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header","","class","cell-role",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"dimmed","deleted",4,"matRowDef","matRowDefColumns"],["class","card card-body blank p-0 table-row",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,"col-xl-3"],["floatLabel","never",2,"width","125px"],[1,"m-portlet__preview","p-0",3,"ngSwitch"],["class","members",4,"ngSwitchCase"],["class","members",4,"ngSwitchDefault"],["roleMenu","matMenu"],["matMenuContent",""],[1,"row","mb-2"],[1,"col-lg-12","mb-2","f-s-14"],[3,"message","kind","dismissible"],["mat-header-cell","","mat-sort-header","",1,"cell-uid"],["mat-cell","",1,"cell-uid"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"cell-role"],["matTooltip","Access role assigned to current group explicitly","matTooltipPosition","above"],[1,"la","la-question-circle","hint-icon","dimmed"],[1,"clickable",3,"matMenuTriggerFor","matMenuTriggerData"],["href","javascript:void(null)","matTooltip","Click to change","matTooltipPosition","above"],[1,"metal","v-a-middle",3,"inline"],["mat-header-row",""],["mat-row",""],[1,"card","card-body","blank","p-0","table-row"],[1,"inner-text","f-s-14","f-w-400"],[1,"members"],[1,"member"],["class","member",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"v-a-middle","metal",3,"inline"],["matTooltip","Click to manage","matTooltipPosition","above",3,"routerLink"],[1,"f-w-600"],["mat-menu-item","",3,"disabled","click"]],template:function(e,t){if(1&e&&(U["\u0275\u0275template"](0,Ct,6,9,"div",0),U["\u0275\u0275pipe"](1,"async"),U["\u0275\u0275elementStart"](2,"div",1),U["\u0275\u0275elementStart"](3,"div",2),U["\u0275\u0275elementStart"](4,"div",3),U["\u0275\u0275elementStart"](5,"div",4),U["\u0275\u0275elementStart"](6,"div",5),U["\u0275\u0275elementStart"](7,"div",6),U["\u0275\u0275elementStart"](8,"h3",7),U["\u0275\u0275text"](9," Group access roles "),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](10,"div",8),U["\u0275\u0275elementStart"](11,"ul",9),U["\u0275\u0275elementStart"](12,"li",10),U["\u0275\u0275elementStart"](13,"div",11),U["\u0275\u0275elementStart"](14,"mat-form-field",12),U["\u0275\u0275elementStart"](15,"input",13),U["\u0275\u0275listener"]("keyup",function(e){return t.onNeedleChange(e.target.value)}),U["\u0275\u0275pipe"](16,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](17,"li",10),U["\u0275\u0275elementStart"](18,"a",14),U["\u0275\u0275listener"]("click",function(){return t.onReload()}),U["\u0275\u0275element"](19,"i",15),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](20,"div",16),U["\u0275\u0275elementStart"](21,"div",17),U["\u0275\u0275elementStart"](22,"table",18),U["\u0275\u0275listener"]("matSortChange",function(e){return t.onSortChange(e)}),U["\u0275\u0275pipe"](23,"async"),U["\u0275\u0275pipe"](24,"async"),U["\u0275\u0275pipe"](25,"async"),U["\u0275\u0275elementContainerStart"](26,19),U["\u0275\u0275template"](27,xt,2,0,"th",20),U["\u0275\u0275template"](28,Et,3,1,"td",21),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](29,19),U["\u0275\u0275template"](30,wt,2,0,"th",22),U["\u0275\u0275template"](31,_t,3,1,"td",23),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275elementContainerStart"](32,19),U["\u0275\u0275template"](33,$t,4,0,"th",24),U["\u0275\u0275template"](34,It,7,6,"td",23),U["\u0275\u0275elementContainerEnd"](),U["\u0275\u0275template"](35,Ot,1,0,"tr",25),U["\u0275\u0275template"](36,Dt,2,6,"tr",26),U["\u0275\u0275elementEnd"](),U["\u0275\u0275template"](37,Pt,5,7,"div",27),U["\u0275\u0275pipe"](38,"async"),U["\u0275\u0275elementStart"](39,"mat-paginator",28),U["\u0275\u0275listener"]("page",function(e){return t.onPageChange(e)}),U["\u0275\u0275pipe"](40,"async"),U["\u0275\u0275pipe"](41,"async"),U["\u0275\u0275pipe"](42,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](43,"div",29),U["\u0275\u0275elementStart"](44,"div",3),U["\u0275\u0275elementStart"](45,"div",4),U["\u0275\u0275elementStart"](46,"div",5),U["\u0275\u0275elementStart"](47,"div",6),U["\u0275\u0275elementStart"](48,"h3",7),U["\u0275\u0275text"](49," Group members "),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](50,"div",8),U["\u0275\u0275elementStart"](51,"ul",9),U["\u0275\u0275elementStart"](52,"li",10),U["\u0275\u0275elementStart"](53,"div",11),U["\u0275\u0275elementStart"](54,"mat-form-field",30),U["\u0275\u0275elementStart"](55,"input",13),U["\u0275\u0275listener"]("keyup",function(e){return t.onMemberNeedleChange(e.target.value)}),U["\u0275\u0275pipe"](56,"async"),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](57,"div",16),U["\u0275\u0275elementStart"](58,"div",31),U["\u0275\u0275pipe"](59,"async"),U["\u0275\u0275template"](60,Rt,3,0,"ul",32),U["\u0275\u0275template"](61,At,5,6,"ul",33),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementEnd"](),U["\u0275\u0275elementStart"](62,"mat-menu",null,34),U["\u0275\u0275template"](64,Bt,8,7,"ng-template",35),U["\u0275\u0275elementEnd"]()),2&e){let e=null,n=null;U["\u0275\u0275property"]("ngIf",U["\u0275\u0275pipeBind1"](1,18,t.alert$)),U["\u0275\u0275advance"](15),U["\u0275\u0275property"]("value",U["\u0275\u0275pipeBind1"](16,20,t.needle$)),U["\u0275\u0275advance"](7),U["\u0275\u0275property"]("dataSource",U["\u0275\u0275pipeBind1"](23,22,t.dataSource$))("matSortActive",U["\u0275\u0275pipeBind1"](24,24,t.sort$).active)("matSortDirection",U["\u0275\u0275pipeBind1"](25,26,t.sort$).direction),U["\u0275\u0275advance"](4),U["\u0275\u0275property"]("matColumnDef",t.column.ProjectId),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.ProjectTitle),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matColumnDef",t.column.GroupRole),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),U["\u0275\u0275advance"](1),U["\u0275\u0275property"]("ngIf",0===(null==(e=U["\u0275\u0275pipeBind1"](38,28,t.dataSource$))||null==e.data?null:e.data.length)),U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("length",U["\u0275\u0275pipeBind1"](40,30,t.total$))("pageSize",U["\u0275\u0275pipeBind1"](41,32,t.page$).pageSize)("pageSizeOptions",t.pageSizes)("pageIndex",U["\u0275\u0275pipeBind1"](42,34,t.page$).pageIndex),U["\u0275\u0275advance"](16),U["\u0275\u0275property"]("value",U["\u0275\u0275pipeBind1"](56,36,t.memberNeedle$)),U["\u0275\u0275advance"](3),U["\u0275\u0275property"]("ngSwitch",null==(n=U["\u0275\u0275pipeBind1"](59,38,t.group$))?null:n.memberCount),U["\u0275\u0275advance"](2),U["\u0275\u0275property"]("ngSwitchCase",0)}},directives:[r.m,L.b,c.b,h.a,u.j,p.a,u.c,u.e,u.b,u.g,u.i,m.a,r.o,r.p,r.q,d.a,d.b,Ee.a,u.d,p.b,u.a,d.e,s.a,u.f,u.h,r.l,S.h,d.c],pipes:[r.b],styles:[".group-role[_ngcontent-%COMP%]{line-height:20px}ul.members[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;-webkit-padding-start:0;padding-inline-start:0}li.member[_ngcontent-%COMP%]{list-style-type:none;padding:0 15px;font-weight:400;font-family:Roboto,Helvetica Neue,sans-serif}.checkbox-label[_ngcontent-%COMP%]{line-height:23px}"],changeDetection:0}),e})()},{path:"*",redirectTo:"accounts"}]}];let Ut=(()=>{class e{}return e.\u0275mod=U["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=U["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[S.i.forChild(zt)],S.i]}),e})(),Gt=(()=>{class e{}return e.\u0275mod=U["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=U["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[r.c,a.e,o.b,l.b,i.b,s.b,c.c,d.d,m.b,p.c,u.l,h.b,f.c,g.c,b.a,v.a,Ut]]}),e})()},kScs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return e.hashStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendStr(e).end(t)},e.hashAsciiStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendAsciiStr(e).end(t)},e._hex=function(t){var n,r,a,o,l=e.hexChars,i=e.hexOut;for(o=0;o<4;o+=1)for(r=8*o,n=t[o],a=0;a<8;a+=2)i[r+1+a]=l.charAt(15&n),i[r+0+a]=l.charAt(15&(n>>>=4)),n>>>=4;return i.join("")},e._md5cycle=function(e,t){var n=e[0],r=e[1],a=e[2],o=e[3];r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&a)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|a>>>15)+o|0)&o|~a&n)+t[3]-1044525330|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&a)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|a>>>15)+o|0)&o|~a&n)+t[7]-45705983|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&a)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|a>>>15)+o|0)&o|~a&n)+t[11]-1990404162|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&a|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&a)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|a>>>15)+o|0)&o|~a&n)+t[15]+1236535329|0)<<22|r>>>10)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&a|r&~a)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|a>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&a|r&~a)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|a>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&a|r&~a)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|a>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r&o|a&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&a|r&~a)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|a>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^a)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|a>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^a)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|a>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^a)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|a>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+a|0,r=((r+=((a=((a+=((o=((o+=((n=((n+=(r^a^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^a)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|a>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~a))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[14]-1416354905|0)<<15|a>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~a))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[10]-1051523|0)<<15|a>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~a))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[6]-1560198380|0)<<15|a>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+a|0,r=((r+=((o=((o+=(r^((n=((n+=(a^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~a))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((a=((a+=(n^(o|~r))+t[2]+718787259|0)<<15|a>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+a|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=a+e[2]|0,e[3]=o+e[3]|0},e.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this},e.prototype.appendStr=function(t){var n,r,a=this._buffer8,o=this._buffer32,l=this._bufferLength;for(r=0;r<t.length;r+=1){if((n=t.charCodeAt(r))<128)a[l++]=n;else if(n<2048)a[l++]=192+(n>>>6),a[l++]=63&n|128;else if(n<55296||n>56319)a[l++]=224+(n>>>12),a[l++]=n>>>6&63|128,a[l++]=63&n|128;else{if((n=1024*(n-55296)+(t.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");a[l++]=240+(n>>>18),a[l++]=n>>>12&63|128,a[l++]=n>>>6&63|128,a[l++]=63&n|128}l>=64&&(this._dataLength+=64,e._md5cycle(this._state,o),l-=64,o[0]=o[16])}return this._bufferLength=l,this},e.prototype.appendAsciiStr=function(t){for(var n,r=this._buffer8,a=this._buffer32,o=this._bufferLength,l=0;;){for(n=Math.min(t.length-l,64-o);n--;)r[o++]=t.charCodeAt(l++);if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,a),o=0}return this._bufferLength=o,this},e.prototype.appendByteArray=function(t){for(var n,r=this._buffer8,a=this._buffer32,o=this._bufferLength,l=0;;){for(n=Math.min(t.length-l,64-o);n--;)r[o++]=t[l++];if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,a),o=0}return this._bufferLength=o,this},e.prototype.getState=function(){var e=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}},e.prototype.setState=function(e){var t,n=e.buffer,r=e.state,a=this._state;for(this._dataLength=e.length,this._bufferLength=e.buflen,a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],t=0;t<n.length;t+=1)this._buffer8[t]=n.charCodeAt(t)},e.prototype.end=function(t){void 0===t&&(t=!1);var n,r=this._bufferLength,a=this._buffer8,o=this._buffer32,l=1+(r>>2);if(this._dataLength+=r,a[r]=128,a[r+1]=a[r+2]=a[r+3]=0,o.set(e.buffer32Identity.subarray(l),l),r>55&&(e._md5cycle(this._state,o),o.set(e.buffer32Identity)),(n=8*this._dataLength)<=4294967295)o[14]=n;else{var i=n.toString(16).match(/(.*?)(.{0,8})$/);if(null===i)return;var s=parseInt(i[2],16),c=parseInt(i[1],16)||0;o[14]=s,o[15]=c}return e._md5cycle(this._state,o),t?this._state:e._hex(this._state)},e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,e}();t.Md5=r,"5d41402abc4b2a76b9719d911017c592"!==r.hashStr("hello")&&console.error("Md5 self test failed.")}}]);