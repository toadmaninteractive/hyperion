(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{jRf0:function(e,t,i){"use strict";i.r(t),i.d(t,"ParametersModule",function(){return he});var n=i("ofXK"),a=i("3Pt+"),r=i("tyNb"),d=i("bTqV"),l=i("bSwM"),s=i("0IaG"),o=i("kmnG"),c=i("NFeN"),m=i("qFsG"),p=i("STbY"),u=i("Xa2L"),h=i("Qu3c"),v=i("8yBR"),f=i("QJFE"),x=i("bFKe"),g=i("gfTr"),b=i("m3o8"),N=i("PCNd"),I=i("j1ZV"),S=i("0Y/I"),y=i("sUzd"),k=i("XNiG"),w=i("2Vo4"),P=i("itXk"),E=i("VRyK"),C=i("1G5W"),V=i("pLZG"),O=i("Y4+Y"),T=i("Sw3e"),M=i("Ehhc"),L=i("TufI"),D=i("PSD3"),A=i.n(D),j=i("SThD"),_=i("UTw3"),$=i("0bxZ"),z=i("xmDL"),R=i("QyQT"),F=i("65F8"),B=i("9pgZ"),q=i("N1IV"),Q=i("fXoL"),H=i("cdP3");function U(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"input",25),Q["\u0275\u0275listener"]("ngModelChange",function(e){return t.node.item.title=e})("click",function(){Q["\u0275\u0275restoreView"](e);const i=t.node,n=Q["\u0275\u0275nextContext"]();return i.item.id>0?n.setActiveTreeNode(i):null})("keyup.escape",function(i){Q["\u0275\u0275restoreView"](e);const n=t.node;return Q["\u0275\u0275nextContext"]().revertTreeNode(n),i.target.blur()})("keyup.enter",function(e){return e.target.blur()})("blur",function(i){Q["\u0275\u0275restoreView"](e);const n=t.node;return Q["\u0275\u0275nextContext"]().invalidateTreeNode(n,0===n.item.id?null:"title",i.target.value)}),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=t.node,i=Q["\u0275\u0275nextContext"]();Q["\u0275\u0275styleProp"]("width",e.item.title.length?e.item.title.length+2:15,"ch"),Q["\u0275\u0275classProp"]("changed",0===e.item.id||i.pristineItemMap.get(e.item.id)&&e.item.title!==i.pristineItemMap.get(e.item.id).title)("draft",e.item.isDraft)("m-selected",i.activeNode&&e.item.id===i.activeNode.item.id),Q["\u0275\u0275propertyInterpolate1"]("id","input-parameter-",e.item.id,""),Q["\u0275\u0275property"]("placeholder",0===e.item.title.length?"Setup step title":null)("ngModel",e.item.title)}}function G(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"button",27),Q["\u0275\u0275listener"]("click",function(){Q["\u0275\u0275restoreView"](e);const t=Q["\u0275\u0275nextContext"]().node,i=Q["\u0275\u0275nextContext"]();return t.expanded=!0,i.parentNodeId=t.item.id}),Q["\u0275\u0275element"](1,"i",28),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=Q["\u0275\u0275nextContext"]().node,t=Q["\u0275\u0275nextContext"](),i=Q["\u0275\u0275reference"](1);Q["\u0275\u0275property"]("matMenuTriggerFor",i)("disabled",t.treeNodeHasDraftChildren(e))}}function Y(e,t){1&e&&Q["\u0275\u0275template"](0,G,2,2,"button",26),2&e&&Q["\u0275\u0275property"]("ngIf",t.node.item.id>0)}function J(e,t){if(1&e&&(Q["\u0275\u0275elementStart"](0,"div",39),Q["\u0275\u0275elementStart"](1,"span",40),Q["\u0275\u0275text"](2),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"]()),2&e){const e=Q["\u0275\u0275nextContext"](2);Q["\u0275\u0275advance"](2),Q["\u0275\u0275textInterpolate1"](" #",e.activeNode.item.id," ")}}function W(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"div"),Q["\u0275\u0275elementStart"](1,"div",47),Q["\u0275\u0275elementStart"](2,"div",48),Q["\u0275\u0275elementStart"](3,"input",49),Q["\u0275\u0275listener"]("blur",function(i){Q["\u0275\u0275restoreView"](e);const n=t.index;return Q["\u0275\u0275nextContext"](3).saveListValues(i,n)})("keyup.enter",function(i){Q["\u0275\u0275restoreView"](e);const n=t.index;return Q["\u0275\u0275nextContext"](3).saveListValues(i,n)}),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275element"](4,"div",50),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](5,"button",51),Q["\u0275\u0275listener"]("keydown.enter",function(){return Q["\u0275\u0275restoreView"](e),Q["\u0275\u0275nextContext"](3).addListValue()})("click",function(){Q["\u0275\u0275restoreView"](e);const i=t.index;return Q["\u0275\u0275nextContext"](3).deleteValue(i)}),Q["\u0275\u0275elementStart"](6,"mat-icon",52),Q["\u0275\u0275text"](7," delete "),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,i=t.index;Q["\u0275\u0275advance"](3),Q["\u0275\u0275propertyInterpolate1"]("id","lov",i,""),Q["\u0275\u0275property"]("ngModel",e.value?e.value:null)}}function X(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"li"),Q["\u0275\u0275elementStart"](1,"label",41),Q["\u0275\u0275text"](2,"Values"),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275template"](3,W,8,2,"div",42),Q["\u0275\u0275elementStart"](4,"div",43),Q["\u0275\u0275elementStart"](5,"div",44),Q["\u0275\u0275elementStart"](6,"mat-icon",45),Q["\u0275\u0275text"](7," add "),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](8,"a",46),Q["\u0275\u0275listener"]("keyup.enter",function(e){return e.target.blur()})("keydown.enter",function(){return Q["\u0275\u0275restoreView"](e),Q["\u0275\u0275nextContext"](2).addListValue()})("click",function(){return Q["\u0275\u0275restoreView"](e),Q["\u0275\u0275nextContext"](2).addListValue()}),Q["\u0275\u0275text"](9," Add value "),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=Q["\u0275\u0275nextContext"](2);Q["\u0275\u0275advance"](3),Q["\u0275\u0275property"]("ngForOf",e.activeNode.item.values)}}function K(e,t){if(1&e&&(Q["\u0275\u0275elementStart"](0,"span",59),Q["\u0275\u0275text"](1),Q["\u0275\u0275elementEnd"]()),2&e){const e=Q["\u0275\u0275nextContext"](3);Q["\u0275\u0275advance"](1),Q["\u0275\u0275textInterpolate1"](" ",e.pristineItemMap.get(e.activeNode.item.dependentId).title," ")}}function Z(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"span",60),Q["\u0275\u0275listener"]("click",function(){return Q["\u0275\u0275restoreView"](e),Q["\u0275\u0275nextContext"](3).filterDepValuesCollapse()}),Q["\u0275\u0275text"](1),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=Q["\u0275\u0275nextContext"](3);Q["\u0275\u0275advance"](1),Q["\u0275\u0275textInterpolate1"](" ",0!==e.filterDepParameter.size?"Expand all":"Collapse all"," ")}}function ee(e,t){if(1&e&&(Q["\u0275\u0275elementStart"](0,"mat-icon",61),Q["\u0275\u0275text"](1),Q["\u0275\u0275elementEnd"]()),2&e){const e=Q["\u0275\u0275nextContext"](3);Q["\u0275\u0275advance"](1),Q["\u0275\u0275textInterpolate1"](" ",0!==e.filterDepParameter.size?"expand_more":"expand_less"," ")}}function te(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"div"),Q["\u0275\u0275elementStart"](1,"div",63),Q["\u0275\u0275elementStart"](2,"mat-checkbox",64),Q["\u0275\u0275listener"]("change",function(){Q["\u0275\u0275restoreView"](e);const i=t.$implicit;return Q["\u0275\u0275nextContext"](4).checkUncheckParameterValue(i)}),Q["\u0275\u0275element"](3,"input",65),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,i=Q["\u0275\u0275nextContext"](4);Q["\u0275\u0275advance"](2),Q["\u0275\u0275property"]("checked",i.checkedListOfValue(e)),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngModel",e)}}function ie(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"div",62),Q["\u0275\u0275elementStart"](1,"label",41),Q["\u0275\u0275text"](2,"Values "),Q["\u0275\u0275elementStart"](3,"button",55),Q["\u0275\u0275listener"]("click",function(){return Q["\u0275\u0275restoreView"](e),Q["\u0275\u0275nextContext"](3).filterValueChecked()}),Q["\u0275\u0275elementStart"](4,"mat-icon",61),Q["\u0275\u0275text"](5),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275template"](6,te,4,2,"div",42),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=Q["\u0275\u0275nextContext"](3);Q["\u0275\u0275advance"](5),Q["\u0275\u0275textInterpolate1"]("",e.filterParameter?"expand_less":"expand_more"," "),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngForOf",e.filteredListOfValues)}}function ne(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"div"),Q["\u0275\u0275elementStart"](1,"div",63),Q["\u0275\u0275elementStart"](2,"mat-checkbox",64),Q["\u0275\u0275listener"]("change",function(){Q["\u0275\u0275restoreView"](e);const i=t.$implicit,n=Q["\u0275\u0275nextContext"]().$implicit;return Q["\u0275\u0275nextContext"](4).checkUncheckDepParameterValue(i,n)}),Q["\u0275\u0275element"](3,"input",65),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,i=Q["\u0275\u0275nextContext"]().$implicit,n=Q["\u0275\u0275nextContext"](4);Q["\u0275\u0275advance"](2),Q["\u0275\u0275property"]("checked",n.checkedDepListValues(e,i)),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngModel",e)}}function ae(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"div"),Q["\u0275\u0275elementStart"](1,"div",63),Q["\u0275\u0275elementStart"](2,"div",63),Q["\u0275\u0275elementStart"](3,"span",67),Q["\u0275\u0275listener"]("click",function(){Q["\u0275\u0275restoreView"](e);const i=t.$implicit;return Q["\u0275\u0275nextContext"](4).filterDepValuesChecked(i)}),Q["\u0275\u0275text"](4),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](5,"button",55),Q["\u0275\u0275listener"]("click",function(){Q["\u0275\u0275restoreView"](e);const i=t.$implicit;return Q["\u0275\u0275nextContext"](4).filterDepValuesChecked(i)}),Q["\u0275\u0275elementStart"](6,"mat-icon",68),Q["\u0275\u0275text"](7),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275template"](8,ne,4,2,"div",42),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,i=Q["\u0275\u0275nextContext"](4);Q["\u0275\u0275advance"](4),Q["\u0275\u0275textInterpolate1"](" ",e," "),Q["\u0275\u0275advance"](3),Q["\u0275\u0275textInterpolate1"]("",i.filterDepParameter.has(e)?"expand_more":"expand_less"," "),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngForOf",i.filteredDepListOfValues.get(e))}}function re(e,t){if(1&e&&(Q["\u0275\u0275elementStart"](0,"div",66),Q["\u0275\u0275template"](1,ae,9,3,"div",42),Q["\u0275\u0275elementEnd"]()),2&e){const e=Q["\u0275\u0275nextContext"](3);Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngForOf",e.dependentListOfValues)}}function de(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"li"),Q["\u0275\u0275elementStart"](1,"label",41),Q["\u0275\u0275text"](2," Dependent parameter: "),Q["\u0275\u0275template"](3,K,2,1,"span",53),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275template"](4,Z,2,1,"span",54),Q["\u0275\u0275elementStart"](5,"button",55),Q["\u0275\u0275listener"]("click",function(){return Q["\u0275\u0275restoreView"](e),Q["\u0275\u0275nextContext"](2).filterDepValuesCollapse()}),Q["\u0275\u0275template"](6,ee,2,1,"mat-icon",56),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275template"](7,ie,7,2,"div",57),Q["\u0275\u0275template"](8,re,2,1,"div",58),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=Q["\u0275\u0275nextContext"](2);Q["\u0275\u0275advance"](3),Q["\u0275\u0275property"]("ngIf",!e.parameterized),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngIf",!e.createdState),Q["\u0275\u0275advance"](2),Q["\u0275\u0275property"]("ngIf",!e.createdState),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngIf",e.activeNode.item.parentId&&null===e.activeNode.item.dependentId&&!e.createdState),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngIf",e.activeNode.item.parentId&&e.activeNode.item.dependentId)}}function le(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"div"),Q["\u0275\u0275elementStart"](1,"div",63),Q["\u0275\u0275elementStart"](2,"mat-checkbox",64),Q["\u0275\u0275listener"]("change",function(){Q["\u0275\u0275restoreView"](e);const i=t.$implicit;return Q["\u0275\u0275nextContext"](4).checkUncheckParameterValue(i)}),Q["\u0275\u0275element"](3,"input",65),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,i=Q["\u0275\u0275nextContext"](4);Q["\u0275\u0275advance"](2),Q["\u0275\u0275property"]("checked",i.checkedListOfValue(e)),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngModel",e)}}function se(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"div",62),Q["\u0275\u0275elementStart"](1,"label",41),Q["\u0275\u0275text"](2,"Values "),Q["\u0275\u0275elementStart"](3,"button",55),Q["\u0275\u0275listener"]("click",function(){return Q["\u0275\u0275restoreView"](e),Q["\u0275\u0275nextContext"](3).filterValueChecked()}),Q["\u0275\u0275elementStart"](4,"mat-icon",61),Q["\u0275\u0275text"](5),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275template"](6,le,4,2,"div",42),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=Q["\u0275\u0275nextContext"](3);Q["\u0275\u0275advance"](5),Q["\u0275\u0275textInterpolate1"]("",e.filterParameter?"expand_less":"expand_more"," "),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngForOf",e.filteredListOfValues)}}function oe(e,t){if(1&e&&(Q["\u0275\u0275elementStart"](0,"li"),Q["\u0275\u0275template"](1,se,7,2,"div",57),Q["\u0275\u0275elementEnd"]()),2&e){const e=Q["\u0275\u0275nextContext"](2);Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngIf",e.activeNode.item.parentId&&null===e.activeNode.item.dependentId&&!e.createdState)}}function ce(e,t){if(1&e&&(Q["\u0275\u0275elementStart"](0,"li"),Q["\u0275\u0275elementStart"](1,"div",47),Q["\u0275\u0275elementStart"](2,"div",48),Q["\u0275\u0275elementStart"](3,"label",41),Q["\u0275\u0275text"](4,"Created At"),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275element"](5,"input",69),Q["\u0275\u0275pipe"](6,"date"),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](7,"div",48),Q["\u0275\u0275elementStart"](8,"label",41),Q["\u0275\u0275text"](9,"Updated At"),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275element"](10,"input",69),Q["\u0275\u0275pipe"](11,"date"),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"]()),2&e){const e=Q["\u0275\u0275nextContext"](2);Q["\u0275\u0275advance"](5),Q["\u0275\u0275propertyInterpolate"]("value",Q["\u0275\u0275pipeBind2"](6,2,e.activeNode.item.createdAt,"yyyy-MM-dd HH:mm")),Q["\u0275\u0275advance"](5),Q["\u0275\u0275propertyInterpolate"]("value",Q["\u0275\u0275pipeBind2"](11,5,e.activeNode.item.updatedAt,"yyyy-MM-dd HH:mm"))}}function me(e,t){if(1&e){const e=Q["\u0275\u0275getCurrentView"]();Q["\u0275\u0275elementStart"](0,"as-split-area",18),Q["\u0275\u0275elementStart"](1,"div",29),Q["\u0275\u0275elementStart"](2,"perfect-scrollbar",20),Q["\u0275\u0275elementStart"](3,"div",30),Q["\u0275\u0275elementStart"](4,"div",31),Q["\u0275\u0275elementStart"](5,"input",32),Q["\u0275\u0275listener"]("ngModelChange",function(t){return Q["\u0275\u0275restoreView"](e),Q["\u0275\u0275nextContext"]().activeNode.item.title=t})("keyup.escape",function(t){Q["\u0275\u0275restoreView"](e);const i=Q["\u0275\u0275nextContext"]();return i.revertTreeNodeTitle(i.activeNode),t.target.blur()})("keyup.enter",function(e){return e.target.blur()})("blur",function(){Q["\u0275\u0275restoreView"](e);const t=Q["\u0275\u0275nextContext"]();return t.invalidateTreeNode(t.activeNode,"title")}),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](6,"div",33),Q["\u0275\u0275elementStart"](7,"div",34),Q["\u0275\u0275listener"]("click",function(){return Q["\u0275\u0275restoreView"](e),Q["\u0275\u0275nextContext"]().resetActiveTreeNode()}),Q["\u0275\u0275element"](8,"i",35),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275template"](9,J,3,1,"div",36),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](10,"ul",37),Q["\u0275\u0275template"](11,X,10,1,"li",38),Q["\u0275\u0275template"](12,de,9,5,"li",38),Q["\u0275\u0275template"](13,oe,2,1,"li",38),Q["\u0275\u0275template"](14,ce,12,8,"li",38),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"]()}if(2&e){const e=Q["\u0275\u0275nextContext"]();Q["\u0275\u0275property"]("size",e.activeNode?30:0),Q["\u0275\u0275advance"](5),Q["\u0275\u0275classProp"]("changed",e.treeNodeChanged(e.activeNode,"title")),Q["\u0275\u0275property"]("placeholder",0===e.activeNode.item.title.length?"Parameter title":null)("ngModel",e.activeNode.item.title),Q["\u0275\u0275advance"](4),Q["\u0275\u0275property"]("ngIf",e.activeNode.item.id),Q["\u0275\u0275advance"](2),Q["\u0275\u0275property"]("ngIf",!e.activeNode.item.parentId&&!e.createdState),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngIf",null!==e.activeNode.item.parentId&&e.parameterized||e.activeNode.item.dependentId),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngIf",null===e.activeNode.item.dependentId&&!e.createdState),Q["\u0275\u0275advance"](1),Q["\u0275\u0275property"]("ngIf",!e.createdState)}}let pe=(()=>{class e{constructor(e,t,i,n,a,r,d,l,s,o){this.route=e,this.router=t,this.render=i,this.cdr=n,this.accountService=a,this.hyperionParameterService=r,this.notificationService=d,this.websocketService=l,this.windowRefService=s,this.parameterService=o,this.destroy$=new k.b,this.collectionParameter$=new w.a(null),this.hiddenNodeSet=new Set,this.filteredDepListOfValues=new Map,this.filterDepParameter=new Set,this.activeNodeId=-1,this.parentNodeId=0,this.filteredListOfValues=[],this.dependentListOfValues=[],this.initialized=!1,this.createdState=!1,this.filterParameter=!1,this.parameterized=!1,this.dimmedNodeSetId=new Set,this.hiddenNodeSetId=new Set,this.pristineItemMap=new Map,this.parameterList=new Map,this.rootLevelParameters=new Map}ngOnInit(){this.accountService.profile$.asObservable().pipe(Object(C.a)(this.destroy$)).subscribe(e=>this.profile=e),this.route.data.pipe(Object(C.a)(this.destroy$)).subscribe(e=>this.initialize(e.activeProject)),Object(P.b)(this.route.data,this.route.queryParamMap).pipe(Object(C.a)(this.destroy$)).subscribe(([e,t])=>{this.activeQueryId=parseInt(t.get("id"),10)}),Object(E.a)(this.websocketService.parameterUpdated,this.websocketService.parameterDeleted).pipe(Object(C.a)(this.destroy$),Object(V.a)(e=>e.data.projectId===this.project.id)).subscribe(e=>{const t=new _.i;t.item=e.data,e instanceof F.h?-1!==this.activeNodeId&&t.item.id===this.activeNodeId&&this.profile.username!==e.actorName&&A.a.fire({type:"information",title:"Your active node has been changed by "+e.actorName,confirmButtonText:"ok"}).then(e=>{void 0!==e.value&&this.setActiveTreeNode(t)}):e instanceof F.g&&this.activeNode&&t.item.id===this.activeNode.item.id&&this.profile.username!==e.actorName&&A.a.fire({type:"warning",title:"Your active node has been deleted by "+e.actorName,confirmButtonText:"ok"}).then(e=>{void 0!==e.value&&this.resetActiveTreeNode()})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.collectionParameter$.complete()}afterTreeRendered(e){e&&this.focusParameter()}initialize(e){this.project=e,this.refresh(),this.parameterService.parameterTree$.asObservable().pipe(Object(V.a)(e=>!!e),Object(C.a)(this.destroy$)).subscribe(e=>{this.rootLevelParameters.clear(),e.forEach(e=>this.rootLevelParameters.set(e.item.id,e.item))}),this.parameterService.flatParameter$.asObservable().pipe(Object(V.a)(e=>!!e),Object(C.a)(this.destroy$)).subscribe(e=>{this.pristineItemMap.clear(),e.forEach(e=>{this.pristineItemMap.set(e.id,$.f.fromJson(e.toJson()))})}),this.parameterService.parameterList$.asObservable().pipe(Object(V.a)(e=>!!e),Object(C.a)(this.destroy$)).subscribe(e=>{this.parameterList=e,this.focusParameter()})}refresh(){this.activeNode=null,this.activeNodeId=-1,this.cdr.detectChanges()}applyFilter(e){this.dimmedNodeSetId=new Set(Array.from(this.pristineItemMap).map(t=>this.filterCallback(t[1],e)?null:t[1].id)),this.hiddenNodeSetId=new Set(Array.from(this.parameterList).filter(e=>this.getAllChildrenId(e[1]).every(e=>this.dimmedNodeSetId.has(e))).map(e=>e[1].item.id)),this.expandAllTreeNodes()}getAllChildrenId(e){return e.children.reduce((e,t)=>[...e,[t.item.id],t.children.map(e=>this.getAllChildrenId(e)).reduce((e,t)=>e.concat(t),[])],[]).concat(e.item.id).reduce((e,t)=>e.concat(t),[])}getAllParentId(e){const t=[];for(;e&&0!==e.item.parentId;){const i=this.parameterList.get(e.item.parentId);t.push(i?i.item.id:null),e=i}return t.filter(e=>!!e)}revertTreeNode(e){const t=this.pristineItemMap.get(e.item.id);e.item.title=t?t.title:"",this.activeNode=null,this.activeNodeId=-1,this.cdr.detectChanges()}initializeTreeNode(e,t){const i=new _.i,n=new $.f;return n.id=0,n.parentId=e?e.item.id:null,n.projectId=this.project.id,n.dependentId=t?0:null,n.values=e?e.item.values:[],n.title="",i.item=n,i.children=[],i}treeNodeHasDraftChildren(e){return e?e.children.filter(e=>0===e.item.id).length>0:this.rootLevelParameters.has(0)}treeNodeChanged(e,t){const i=this.pristineItemMap.get(e.item.id);let n=!1;switch(t){case"rev":case"projectId":case"parentId":case"dependentId":case"title":case"values":case"createdAt":case"updatedAt":case null:n=!0}if(!n)return!1;if(!i)return!0;switch(t){case"rev":return i.rev!==e.item.rev;case"parentId":return i.parentId!==e.item.parentId;case"dependentId":return i.dependentId!==e.item.dependentId;case"title":return(i.title||"").trim()!==(e.item.title||"").trim();default:return i.rev!==e.item.rev||i.parentId!==e.item.parentId||i.dependentId!==e.item.dependentId||(i.title||"").trim()!==(e.item.title||"").trim()}}canSubmitTreeNode(e,t){let i=!1;switch(t){case"rev":case"projectId":case"parentId":case"dependentId":case"title":case"values":case"createdAt":case"updatedAt":case null:i=!0}if(!i)return!1;switch(t){case"rev":case"projectId":case"parentId":case"dependentId":case"title":case"values":case"createdAt":case"updatedAt":default:return(e.item.title||"").trim().length>0}}addDraftTreeNode(e){this.parentNode=this.parameterList.get(this.parentNodeId),this.resetActiveTreeNode(),this.parameterized=e,this.createdState=!0;const t=this.initializeTreeNode(this.parentNode,e);if(this.activeNode=t,this.activeNodeId=t.item.id,null===e&&(this.parentNode=null),this.parentNode?this.parameterService.addDraftParameter(t,this.parentNode):this.parameterService.addDraftParameter(t),this.activeNode=t,this.activeNodeId=t.item.id,this.parameterized){const e=[...this.getMapAsIterable(this.rootLevelParameters)],t=new Map;e.forEach(e=>{t.set(String(e.id),e.title)});let i='<input id="swal-title" required="required" class="swal2-input m-1" placeholder="Start typing title..."/><select id="swal-dependent" required="required" class="swal2-input swal2-select m-1"><option value="" disabled selected>Select parameter...</option>';t.forEach((e,t)=>i+='<option value="'+t+'">'+e+"</option>"),i+="</select>",A.a.fire({html:i,showCancelButton:!0,preConfirm:()=>""===this.windowRefService.nativeWindow.document.getElementById("swal-title").value?(A.a.showValidationMessage("Please fill title"),!1):""===this.windowRefService.nativeWindow.document.getElementById("swal-dependent").value?(A.a.showValidationMessage("Please select dependent parameter"),!1):{title:this.windowRefService.nativeWindow.document.getElementById("swal-title").value,dependentId:this.windowRefService.nativeWindow.document.getElementById("swal-dependent").value}}).then(e=>{e.value&&(this.idParameterDependent=parseInt(e.value.dependentId,10),this.activeNode.item.dependentId=parseInt(e.value.dependentId,10),this.activeNode.item.title=e.value.title,this.invalidateTreeNode(this.activeNode,null)),"cancel"!==e.dismiss&&"backdrop"!==e.dismiss||this.resetActiveTreeNode()})}this.cdr.detectChanges()}revertTreeNodeTitle(e){const t=this.pristineItemMap.get(e.item.id);e.item.title=t?t.title:"",this.cdr.detectChanges()}invalidateTreeNode(e,t,i){const n=this.pristineItemMap.get(e.item.id);let a=!1;if(null!==t&&"title"!==t||!i||(e.item.title=i.trim(),0!==(e.item.title||"").trim().length)){switch(t){case"rev":case"projectId":case"parentId":case"dependentId":case"title":case"values":case"createdAt":case"updatedAt":case null:a=!0}""===e.item.title||this.parameterized&&0===e.item.dependentId||this.parameterized&&null===e.item.dependentId?this.notificationService.error("Fill in title and dependent parameter"):(this.createdState&&""===e.item.title&&!this.parameterized&&this.resetActiveTreeNode(),this.createdState&&this.parameterized&&e.item.dependentId>0&&0===e.item.id&&(this.resetActiveTreeNode(),this.parameterized=!1),t&&"title"!==t||!i||(e.item.title=i.trim(),0!==(e.item.title||"").trim().length)?this.treeNodeChanged(e,t)&&this.canSubmitTreeNode(e,t)&&(0!==e.item.id?this.updateParameter(e):this.createParameter(e)):e.item.title=n?n.title:"")}else e.item.title=n?n.title:""}setActiveTreeNode(e){if(e.item.id&&this.router.navigate([],{queryParams:{id:e.item.id},replaceUrl:!0,queryParamsHandling:"merge"}),this.createdState=!1,this.parameterized=!1,e.item.values.sort(this.compareValues),this.activeNode=e,this.activeNodeId=e.item.id,this.filteredListOfValues=[],this.dependentListOfValues=[],this.filteredDepListOfValues=new Map,e.item.dependentId&&(this.filteredDepListOfValues=new Map,this.parameterList.get(e.item.dependentId).item.values.forEach(t=>{const i=[];this.parameterList.get(e.item.parentId).item.values.forEach(e=>{i.push(e.value)}),this.filteredDepListOfValues.set(t.value,i)})),this.filterParameter||e.item.values.forEach(e=>{this.filteredListOfValues.push(e.value)}),0===this.filteredListOfValues.length?(this.filterParameter=!0,e.item.parentId&&this.parameterList.get(e.item.parentId).item.values.forEach(e=>{this.filteredListOfValues.push(e.value)})):this.filterParameter=!1,e.item.dependentId){const t=this.parameterList.get(e.item.dependentId);t.item.values.sort(this.compareValues),t.item.values.forEach(e=>{this.dependentListOfValues.push(e.value)})}this.cdr.detectChanges()}resetActiveTreeNode(){this.activeNode=null,this.activeNodeId=-1,this.createdState&&(this.createdState=!1),this.activeQueryId=null,this.cdr.detectChanges()}expandAllTreeNodes(){this.dynamicTree.expandTreeNodes()}collapseAllTreeNodes(){this.dynamicTree.collapseTreeNodes()}filterCallback(e,t){return!t||e.title.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}createParameter(e){const t=new j.b;t.parentId=e.item.parentId,t.dependentId=e.item.dependentId,t.title=e.item.title,this.hyperionParameterService.createParameter(t,this.project.id).pipe(Object(C.a)(this.destroy$)).subscribe(e=>{this.activeQueryId=e.id,this.setActiveTreeNode({children:[],item:{dependentId:e.dependentId,id:e.id,parentId:e.parentId,projectId:e.projectId,title:e.title,values:e.values,createdAt:e.createdAt,updatedAt:e.updatedAt}}),this.parameterized=!1,this.createdState=!1,this.parameterService.clearDraftNode(e.parentId),this.notificationService.success("Parameter created")},e=>{if(e instanceof _.a){let t=null;switch(e.error){case j.c.ProjectNotExists:t="Project does not exist";break;case j.c.ParameterAlreadyExists:t="Parameter already exists";break;case j.c.ParentNotExists:t="Parent parameter does not exist";break;case j.c.ParentIsIndependent:t="Parent parameter is independent";break;case j.c.ParameterSourceAlreadyExists:t="Parameter source already exists"}this.notificationService.error(t||e)}else this.notificationService.error(e)})}updateParameter(e,t){const i=new j.j,n=this.pristineItemMap.get(e.item.id);e.item.title!==n.title&&(i.newTitle=e.item.title),this.hyperionParameterService.renameParameter(i,e.item.id).pipe(Object(C.a)(this.destroy$)).subscribe(e=>{this.notificationService.success("Parameter updated"),this.cdr.detectChanges()},e=>{if(e instanceof _.a){let t=null;switch(e.error){case j.e.ParameterNotExists:t="Parent parameter does not exist";break;case j.e.TitleAlreadyExists:t="Parameter title already exists"}this.notificationService.error(t||e)}else this.notificationService.error(e)})}deleteParameter(e){if(0===e.item.id)return this.parameterService.clearDraftNode(e.item.parentId?e.item.parentId:null),this.resetActiveTreeNode(),void this.cdr.detectChanges();this.hyperionParameterService.deleteParameter(e.item.id).pipe(Object(C.a)(this.destroy$)).subscribe(t=>{this.notificationService.success(`Parameter ${e.item.title} deleted`)},t=>{if(t instanceof _.a){let i=null;switch(t.error){case j.d.ParameterNotExists:i="Parent parameter does not exist";break;case j.d.HasChildren:i="Parameter has children";break;case j.d.HasDependants:i="Parameter has dependants"}this.notificationService.error(i||t),this.activeNode&&e.item.id===this.activeNode.item.id&&(this.activeNode=null,this.activeNodeId=-1),this.cdr.detectChanges()}else this.notificationService.error(t)})}addValue(e,t){const i=new j.a;i.value=e,i.dependentValue=t,this.hyperionParameterService.addParameterValue(i,this.activeNode.item.id).pipe(Object(C.a)(this.destroy$)).subscribe(e=>{this.activeNode.item.values=e.values.sort(this.compareValues),this.notificationService.success("Parameter added"),this.cdr.detectChanges()},e=>{if(e instanceof _.a){let t=null;switch(e.error){case j.f.ParameterNotExists:t="Parent parameter does not exist";break;case j.f.ParameterSourceNotExists:t="Parameter source not exists";break;case j.f.ValueAlreadyExists:t="Parameter value already exists";break;case j.f.ValueNotExists:t="Parameter value not exists";break;case j.f.DependentParameterNotExists:t="Dependent parameter not exists";break;case j.f.DependentSourceNotExists:t="Dependent source not exists";break;case j.f.DependentValueNotExists:t="Dependent value not exists"}this.notificationService.error(t||e)}else this.notificationService.error(e)})}renameValue(e,t,i){const n=new j.k;n.newValue=e,n.oldValue=t,this.hyperionParameterService.renameParameterValue(n,i).pipe(Object(C.a)(this.destroy$)).subscribe(e=>{this.notificationService.success("Parameter renamed"),this.cdr.detectChanges()},e=>{if(e instanceof _.a){let t=null;switch(e.error){case j.h.ParameterNotExists:t="Parameter does not exist";break;case j.h.InvalidParameter:t="Parameter invalid";break;case j.h.ValueNotExists:t="Parameter value not exists";break;case j.h.ValueAlreadyExists:t="Parameter value already exists"}this.notificationService.error(t||e)}else this.notificationService.error(e)})}deleteValue(e){const t=new j.i;t.dependentValue=this.activeNode.item.values[e].dependentValue,t.value=this.activeNode.item.values[e].value,this.hyperionParameterService.removeParameterValue(t,this.activeNode.item.id).pipe(Object(C.a)(this.destroy$)).subscribe(t=>{this.activeNode.item.values.splice(e,1),this.notificationService.success("Parameter updated"),this.cdr.detectChanges()},e=>{if(e instanceof _.a){let t=null;switch(e.error){case j.g.ParameterNotExists:t="Parameter not exists";break;case j.g.ValueNotExists:t="Value not exists";break;case j.g.LinkedToChildren:t="Linked to children";break;case j.g.LinkedToDependants:t="Linked to dependants";break;case j.g.DependentParameterNotExists:t="Dependent parameter not exists";break;case j.g.DependentSourceNotExists:t="Dependent source not exists";break;case j.g.DependentValueNotExists:t="Dependent value not exists"}this.notificationService.error(t||e)}else this.notificationService.error(e)})}addListValue(){-1===this.activeNode.item.values.indexOf(null)&&this.activeNode.item.values.push({value:null,dependentValue:null}),setTimeout(()=>{this.windowRefService.focusElementById("lov"+(this.activeNode.item.values.length-1),20)},100)}createParameterDependent(e){""===e.item.title||this.parameterized&&0===e.item.dependentId||this.parameterized&&null===e.item.dependentId?this.notificationService.error("Fill in title and dependent parameter"):this.createParameter(this.activeNode),this.cdr.detectChanges()}compareValues(e,t){let i=0;return i=e.value>t.value?1:-1,i}checkUncheckParameterValue(e){let t=!1;this.activeNode.item.values.forEach((i,n)=>{i.value===e&&(this.deleteValue(n),t=!0)}),t||(this.activeNode.item.values.push({value:e,dependentValue:null}),this.addValue(e,null))}checkUncheckDepParameterValue(e,t){let i=!1;this.activeNode.item.values.forEach((n,a)=>{n.value===e&&n.dependentValue===t&&(this.deleteValue(a),i=!0)}),i||(this.activeNode.item.values.push({value:e,dependentValue:t}),this.addValue(e,t))}checkedDepListValues(e,t){let i=!1;return this.activeNode.item.values.forEach((n,a)=>{n.value===e&&n.dependentValue===t&&(i=!0)}),i}checkedListOfValue(e){let t=!1;return this.activeNode.item.values.forEach((i,n)=>{i.value===e&&(t=!0)}),t}filterValueChecked(){this.filterParameter?(this.filteredListOfValues=[],this.parameterList.get(this.activeNode.item.parentId).item.values.filter(e=>this.activeNode.item.values.some(t=>e.value===t.value)).forEach(e=>{this.filteredListOfValues.push(e.value)}),this.filterParameter=!1):(this.filteredListOfValues=[],this.parameterList.get(this.activeNode.item.parentId).item.values.forEach(e=>this.filteredListOfValues.push(e.value)),this.filterParameter=!0),this.cdr.detectChanges()}filterDepValuesCollapse(){0===this.filterDepParameter.size||this.dependentListOfValues.forEach(e=>{this.filterDepParameter.add(e)}),this.dependentListOfValues.forEach(e=>{this.filterDepValuesChecked(e)})}filterDepValuesChecked(e){this.filteredDepListOfValues=new Map,this.filterDepParameter.has(e)?this.filterDepParameter.delete(e):this.filterDepParameter.add(e),this.activeNode.item.dependentId&&this.parameterList.get(this.activeNode.item.dependentId).item.values.forEach(e=>{const t=[];this.filterDepParameter.has(e.value)?this.parameterList.get(this.activeNode.item.parentId).item.values.filter(t=>this.activeNode.item.values.some(i=>t.value===i.value&&i.dependentValue===e.value)).forEach(e=>{t.push(e.value)}):this.parameterList.get(this.activeNode.item.parentId).item.values.forEach(e=>{t.push(e.value)}),this.filteredDepListOfValues.set(e.value,t)}),this.cdr.detectChanges()}saveListValues(e,t){e.target.value?null===this.activeNode.item.values[t].value&&0===this.activeNode.item.values.filter(t=>t.value===e.target.value).length?(this.activeNode.item.values[t].value=e.target.value,this.addValue(e.target.value,null)):this.activeNode.item.values[t].value!==e.target.value&&(this.renameValue(e.target.value,this.activeNode.item.values[t].value,this.activeNode.item.id),this.activeNode.item.values[t].value=e.target.value):this.activeNode.item.values.forEach((e,t)=>{null===e.value&&this.activeNode.item.values.splice(t,1)}),e instanceof KeyboardEvent&&"Enter"===e.key&&this.addListValue()}focusParameter(){if(this.activeQueryId){const e=this.parameterList.get(this.activeQueryId);if(e){const t=this.getAllParentId(e);setTimeout(()=>{this.dynamicTree.expandTreeNodesById(t);const i=this.render.selectRootElement("#input-parameter-"+e.item.id);setTimeout(()=>i.focus(),10),this.setActiveTreeNode(e)},20)}else this.router.navigate([],{queryParams:{id:null},replaceUrl:!0,queryParamsHandling:"merge"})}}getMapAsIterable(e){const t=[],i=this.rootParentNode(this.activeNode);return e.forEach(e=>{e.id!==i&&t.push(e)}),t.sort((e,t)=>e.id-t.id),t}rootParentNode(e){return e.item.parentId?this.rootParentNode(this.parameterList.get(e.item.parentId)):e.item.id}updateAfterDrop(e){const t=e.draggedNode,i=e.targetNode;let n=null;switch(e.dropType){case q.a.Before:case q.a.After:n=i.item.parentId;break;case q.a.Into:n=i.item.id;break;case q.a.Root:t.item.parentId=null}this.updateParameter(t,n)}}return e.\u0275fac=function(t){return new(t||e)(Q["\u0275\u0275directiveInject"](r.a),Q["\u0275\u0275directiveInject"](r.g),Q["\u0275\u0275directiveInject"](Q.Renderer2),Q["\u0275\u0275directiveInject"](Q.ChangeDetectorRef),Q["\u0275\u0275directiveInject"](B.a),Q["\u0275\u0275directiveInject"](L.a),Q["\u0275\u0275directiveInject"](O.a),Q["\u0275\u0275directiveInject"](T.a),Q["\u0275\u0275directiveInject"](M.a),Q["\u0275\u0275directiveInject"](z.a))},e.\u0275cmp=Q["\u0275\u0275defineComponent"]({type:e,selectors:[["m-parameter-page"]],viewQuery:function(e,t){if(1&e&&Q["\u0275\u0275viewQuery"](R.a,!0),2&e){let e;Q["\u0275\u0275queryRefresh"](e=Q["\u0275\u0275loadQuery"]())&&(t.dynamicTree=e.first)}},decls:44,vars:12,consts:[["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"m-portlet","mb-0"],[1,"m-portlet__head","compact","align-items-center"],[1,"d-inline-flex"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"ml-2","m-button-group"],["mat-raised-button","",3,"click"],[1,"m-portlet__head-tools"],[1,"m-portlet__nav"],[1,"pr-2"],["floatLabel","never",2,"width","300px"],["matInput","","placeholder","Type to filter...",3,"keyup"],[1,"m-portlet__nav-item"],["href","javascript:void(null);","title","Refresh","matTooltip","Click to refresh","matTooltipPosition","above",1,"m-portlet__nav-link","m-portlet__nav-link--icon",3,"click"],[1,"las","la-sync-alt"],[1,"d-flex"],["unit","percent","direction","horizontal"],[3,"size"],[1,"pt-2","col-12","left-split-content"],[2,"height","70vh"],[3,"inputNodes$","flatNodes","hiddenNodeSet","dimmedNodeSet","canDrag","nodeAdded","nodeRemoved","treeRendered","nodeModified"],["nodeTitleTemplate",""],["addButtonTemplate",""],[3,"size",4,"ngIf"],["type","text",1,"monospace","new-in-place",2,"max-width","100ch !important","padding-left","5px !important",3,"id","placeholder","ngModel","ngModelChange","click","keyup.escape","keyup.enter","blur"],["class","icon-button","color","primary","matTooltip","Click to add a child","matTooltipPosition","above",3,"matMenuTriggerFor","disabled","click",4,"ngIf"],["color","primary","matTooltip","Click to add a child","matTooltipPosition","above",1,"icon-button",3,"matMenuTriggerFor","disabled","click"],[1,"las","la-plus","cursor-pointer","blue","f-s-20"],[1,"col","right-split-content",2,"margin-top","15px"],[1,"sticky-block"],[1,"title-container"],["matInput","","type","text",1,"inline-block","f-w-600",2,"max-width","65%",3,"placeholder","ngModel","ngModelChange","keyup.escape","keyup.enter","blur"],[1,"block","text-right",2,"width","35%"],[1,"",3,"click"],[1,"las","la-times","cursor-pointer"],["class","block text-left",4,"ngIf"],[1,"basic-tree","pl-0"],[4,"ngIf"],[1,"block","text-left"],[1,"sticky-id","dimmed"],[1,"f-w-600","block"],[4,"ngFor","ngForOf"],[1,"param-select-wrapper"],[1,"param-select"],[1,"param-add-icon","c-success","f-w-600"],["href","javascript:void(null)",1,"f-w-400",3,"keyup.enter","keydown.enter","click"],[1,"row"],[1,"col-md-6"],["type","text",1,"param-value-input",3,"id","ngModel","blur","keyup.enter"],[1,"input-border"],["color","warn","matTooltip","Click to delete","matTooltipPosition","above",1,"param-val-del-btn","mat-icon-button",2,"height","20px","width","20px",3,"keydown.enter","click"],[1,"c-error","c-f-s-24"],["class","button-link-add-dis",4,"ngIf"],["class","f-s-16",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"click"],["class","f-s-16",4,"ngIf"],["class","mt-3",4,"ngIf"],["class","mt-1",4,"ngIf"],[1,"button-link-add-dis"],[1,"f-s-16",3,"click"],[1,"f-s-16"],[1,"mt-3"],[1,"inline-block"],["color","primary",3,"checked","change"],["matInput","","type","text",1,"input-check-box",3,"ngModel"],[1,"mt-1"],[1,"f-w-400","f-s-16","button-link-add",3,"click"],[1,"f-s-14"],["matInput","","type","text","readonly","",1,"form-control","pl-0",3,"value"]],template:function(e,t){1&e&&(Q["\u0275\u0275elementStart"](0,"mat-menu",null,0),Q["\u0275\u0275elementStart"](2,"button",1),Q["\u0275\u0275listener"]("click",function(){return t.addDraftTreeNode(!0)}),Q["\u0275\u0275elementStart"](3,"mat-icon"),Q["\u0275\u0275text"](4,"perm_data_setting"),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](5,"span"),Q["\u0275\u0275text"](6,"Add dependent parameter"),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](7,"button",1),Q["\u0275\u0275listener"]("click",function(){return t.addDraftTreeNode(!1)}),Q["\u0275\u0275elementStart"](8,"mat-icon"),Q["\u0275\u0275text"](9,"settings_applications"),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](10,"span"),Q["\u0275\u0275text"](11,"Add parameter"),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](12,"div",2),Q["\u0275\u0275elementStart"](13,"div",3),Q["\u0275\u0275elementStart"](14,"div",4),Q["\u0275\u0275elementStart"](15,"div"),Q["\u0275\u0275elementStart"](16,"button",5),Q["\u0275\u0275listener"]("click",function(){return t.addDraftTreeNode(null)}),Q["\u0275\u0275text"](17," Add parameter "),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](18,"div",6),Q["\u0275\u0275elementStart"](19,"button",7),Q["\u0275\u0275listener"]("click",function(){return t.collapseAllTreeNodes()}),Q["\u0275\u0275text"](20,"Collapse"),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](21,"button",7),Q["\u0275\u0275listener"]("click",function(){return t.expandAllTreeNodes()}),Q["\u0275\u0275text"](22,"Expand"),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](23,"div",8),Q["\u0275\u0275elementStart"](24,"ul",9),Q["\u0275\u0275elementStart"](25,"li"),Q["\u0275\u0275elementStart"](26,"div",10),Q["\u0275\u0275elementStart"](27,"mat-form-field",11),Q["\u0275\u0275elementStart"](28,"input",12),Q["\u0275\u0275listener"]("keyup",function(e){return t.applyFilter(e.target.value)}),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](29,"li",13),Q["\u0275\u0275elementStart"](30,"a",14),Q["\u0275\u0275listener"]("click",function(){return t.refresh()}),Q["\u0275\u0275element"](31,"i",15),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementStart"](32,"div",16),Q["\u0275\u0275elementStart"](33,"as-split",17),Q["\u0275\u0275elementStart"](34,"as-split-area",18),Q["\u0275\u0275elementStart"](35,"div",19),Q["\u0275\u0275elementStart"](36,"perfect-scrollbar",20),Q["\u0275\u0275elementStart"](37,"m-dynamic-tree-map",21),Q["\u0275\u0275listener"]("nodeAdded",function(e){return t.addDraftTreeNode(e)})("nodeRemoved",function(e){return t.deleteParameter(e)})("treeRendered",function(e){return t.afterTreeRendered(e)})("nodeModified",function(e){return t.updateAfterDrop(e)}),Q["\u0275\u0275pipe"](38,"async"),Q["\u0275\u0275template"](39,U,1,11,"ng-template",null,22,Q["\u0275\u0275templateRefExtractor"]),Q["\u0275\u0275template"](41,Y,1,1,"ng-template",null,23,Q["\u0275\u0275templateRefExtractor"]),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275template"](43,me,15,10,"as-split-area",24),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"](),Q["\u0275\u0275elementEnd"]()),2&e&&(Q["\u0275\u0275advance"](16),Q["\u0275\u0275property"]("disabled",t.treeNodeHasDraftChildren(null)),Q["\u0275\u0275advance"](18),Q["\u0275\u0275property"]("size",t.activeNode?70:100),Q["\u0275\u0275advance"](1),Q["\u0275\u0275classProp"]("darken",t.activeNode),Q["\u0275\u0275advance"](2),Q["\u0275\u0275property"]("inputNodes$",t.parameterService.parameterTree$)("flatNodes",Q["\u0275\u0275pipeBind1"](38,10,t.parameterService.flatParameter$))("hiddenNodeSet",t.hiddenNodeSetId)("dimmedNodeSet",t.dimmedNodeSetId)("canDrag",!1),Q["\u0275\u0275advance"](6),Q["\u0275\u0275property"]("ngIf",t.activeNode&&!t.createdState))},directives:[p.a,p.c,c.a,d.a,o.b,m.b,h.a,H.c,H.b,x.b,R.a,n.m,a.c,a.i,a.l,p.e,n.l,l.a],pipes:[n.b,n.e],styles:[".non-sticky-block[_ngcontent-%COMP%]{margin-left:-15px;transition:background-color 125ms linear}.sticky-block-parent[_ngcontent-%COMP%]{box-shadow:-5px 0 5px -5px rgba(51,51,51,.25),0 0 5px 0 rgba(51,51,51,.25);padding-right:0;border:1px solid #fff;height:80vh;overflow-y:auto;overflow-x:hidden;margin-top:-28px}.sticky-block[_ngcontent-%COMP%], .sticky-block-parent[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:100px}.sticky-block[_ngcontent-%COMP%]{display:block;z-index:100}.darken[_ngcontent-%COMP%]{background-color:rgba(176,196,222,.125)}.small-line[_ngcontent-%COMP%]{line-height:21px}.medium-line[_ngcontent-%COMP%]{line-height:24px}.bold-icon[_ngcontent-%COMP%]{font-size:24px!important;height:24px!important;width:24px!important;line-height:26px}input.inplace[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:2px;width:250px;height:26px;padding:2px 5px}  .basic-tree>li div>ul,   .basic-tree>li div>ul>li{list-style-type:disc!important}  .basic-tree>li div>ol,   .basic-tree>li div>ol>li{list-style-type:decimal!important}input.m-selected[_ngcontent-%COMP%]{background-color:#f5f7fa!important;border:1px solid #d3d3d3!important;box-shadow:0 0 7px 0 #d3d3d3!important}.draft[_ngcontent-%COMP%]{color:#ff8949;font-style:italic}.progress-percent[_ngcontent-%COMP%]{text-align:center;top:-60%;z-index:500;display:block;position:relative;font-size:16px}.progress-container[_ngcontent-%COMP%]{display:inline-block;color:#0782d0;width:100px!important;height:100px!important;border:1px solid rgba(7,130,208,.25)!important;border-radius:8px!important;transition:all .125s linear}  .ps__rail-x{visibility:hidden}.parameter-list-table[_ngcontent-%COMP%]{margin:5px}.input-list[_ngcontent-%COMP%]{margin-bottom:5px!important}.input-check-box[_ngcontent-%COMP%]{margin-right:5px;margin-left:5px;font-weight:500;font-size:16px}.block-flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.m-portlet__preview[_ngcontent-%COMP%]{padding-right:0!important}.button-link-add[_ngcontent-%COMP%]{color:#3f51b5}.button-link-add[_ngcontent-%COMP%]:hover{cursor:pointer;border-bottom:1px solid #3f51b5}.button-link-add-dis[_ngcontent-%COMP%]{color:#3f51b5}.node-input-wrapper[_ngcontent-%COMP%]{margin:3px 1px 0 5px!important}.la-close-s-f[_ngcontent-%COMP%]{font-size:24px;color:#c4c5d6}.la-close-s-f[_ngcontent-%COMP%]:hover{cursor:pointer;font-size:24px;color:#a5a6b7}"],changeDetection:0}),e})();var ue=i("NuMO");let he=(()=>{class e{}return e.\u0275mod=Q["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=Q["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[n.c,a.e,d.b,l.b,s.f,o.d,c.b,m.c,u.b,p.d,h.b,v.c,b.LightboxModule,g.c,f.c,x.c,I.a,S.a,N.a,r.i.forChild([{path:"**",component:pe,resolve:{activeProject:y.a},canActivate:[ue.a]}]),H.a]]}),e})()}}]);