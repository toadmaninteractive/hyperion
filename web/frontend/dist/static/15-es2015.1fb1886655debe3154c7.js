(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"8YY7":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(e){return e[e.Id=1]="Id",e[e.FileSize=2]="FileSize",e[e.OriginalFilename=3]="OriginalFilename",e[e.ContentType=4]="ContentType",e[e.PersonnelId=5]="PersonnelId",e[e.PersonnelName=6]="PersonnelName",e[e.CreatedAt=7]="CreatedAt",e}({});!function(e){function t(t){switch(t){case e.Id:return"id";case e.FileSize:return"file_size";case e.OriginalFilename:return"original_filename";case e.ContentType:return"content_type";case e.PersonnelId:return"personnel_id";case e.PersonnelName:return"personnel_name";case e.CreatedAt:return"created_at";default:throw new Error("Invalid FileAttachmentOrderBy value: "+t)}}function n(t){switch(t){case"id":return e.Id;case"file_size":return e.FileSize;case"original_filename":return e.OriginalFilename;case"content_type":return e.ContentType;case"personnel_id":return e.PersonnelId;case"personnel_name":return e.PersonnelName;case"created_at":return e.CreatedAt;default:throw new Error("Invalid FileAttachmentOrderBy value: "+t)}}e.toJson=function(e){return t(e)},e.fromJson=function(e){return n(e)},e.toJsonKey=t,e.fromJsonKey=n}(i||(i={}))},E1Th:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("tk/3"),a=n("z6cu"),s=n("JIr8"),r=n("lJxs"),l=n("UTw3"),o=n("0bxZ"),c=n("8YY7"),d=n("fXoL");let m=(()=>{class e{constructor(e){this.http=e,this.baseUrl=""}getProjectAttachments(e,t,n,d,m,p=null){const u=[];u.push("order_by="+c.a.toJson(t)),u.push("order_dir="+l.h.toJson(n)),u.push("offset="+d),u.push("limit="+m),null!=p&&u.push("needle="+p);const h=u.length>0?"?"+u.join("&"):"";return this.http.get(`${this.baseUrl}/api/attachments/project/${e}${h}`).pipe(Object(s.a)(e=>{if(e instanceof i.c)switch(e.status){case 403:return Object(a.a)(l.d.fromJson(e.error));case 500:return Object(a.a)(l.f.fromJson(e.error))}Object(a.a)(e)}),Object(r.a)(e=>l.c.instanceJsonSerializer(o.c).fromJson(e)))}getLinkedAttachments(e,t){return this.http.get(`${this.baseUrl}/api/attachments/${o.b.toJson(e)}/${t}`).pipe(Object(s.a)(e=>{if(e instanceof i.c)switch(e.status){case 403:return Object(a.a)(l.d.fromJson(e.error));case 404:return Object(a.a)(l.g.fromJson(e.error));case 500:return Object(a.a)(l.f.fromJson(e.error))}Object(a.a)(e)}),Object(r.a)(e=>l.b.instanceJsonSerializer(o.c).fromJson(e)))}deleteAttachmentLink(e,t,n){return this.http.delete(`${this.baseUrl}/api/attachments/${e}/${o.b.toJson(t)}/${n}`).pipe(Object(s.a)(e=>{if(e instanceof i.c)switch(e.status){case 403:return Object(a.a)(l.d.fromJson(e.error));case 404:return Object(a.a)(l.g.fromJson(e.error));case 500:return Object(a.a)(l.f.fromJson(e.error))}Object(a.a)(e)}),Object(r.a)(e=>l.e.fromJson(e)))}getAttachmentLinks(e){return this.http.get(`${this.baseUrl}/api/attachments/${e}/links`).pipe(Object(s.a)(e=>{if(e instanceof i.c)switch(e.status){case 403:return Object(a.a)(l.d.fromJson(e.error));case 500:return Object(a.a)(l.f.fromJson(e.error))}Object(a.a)(e)}),Object(r.a)(e=>l.b.instanceJsonSerializer(o.d).fromJson(e)))}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275inject"](i.a))},e.\u0275prov=d["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ZDNR:function(e,t,n){"use strict";n.r(t),n.d(t,"TestingModule",function(){return An});var i=n("ofXK"),a=n("3Pt+"),s=n("tyNb"),r=n("bTqV"),l=n("8LU1"),o=n("0EQZ"),c=n("fXoL"),d=n("FKr1"),m=n("u47x");const p=["button"],u=["*"],h=new c.InjectionToken("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),g=new c.InjectionToken("MatButtonToggleGroup"),f={provide:a.g,useExisting:Object(c.forwardRef)(()=>v),multi:!0};let b=0;class x{constructor(e,t){this.source=e,this.value=t}}let v=(()=>{class e{constructor(e,t){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+b++,this.valueChange=new c.EventEmitter,this.change=new c.EventEmitter,this.appearance=t&&t.appearance?t.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._buttonToggles&&this._buttonToggles.forEach(e=>{e.name=this._name,e._markForCheck()})}get vertical(){return this._vertical}set vertical(e){this._vertical=Object(l.c)(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(e=>e.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Object(l.c)(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(l.c)(e),this._buttonToggles&&this._buttonToggles.forEach(e=>e._markForCheck())}ngOnInit(){this._selectionModel=new o.c(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(){const e=this.selected,t=Array.isArray(e)?e[e.length-1]:e,n=new x(t,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(e,t,n=!1,i=!1){this.multiple||!this.selected||e.checked||(this.selected.checked=!1),this._selectionModel?t?this._selectionModel.select(e):this._selectionModel.deselect(e):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(t=>null!=e.value&&t===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(e=>this._selectValue(e))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const t=this._buttonToggles.find(t=>null!=t.value&&t.value===e);t&&(t.checked=!0,this._selectionModel.select(t))}_updateModelValue(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](h,8))},e.\u0275dir=c["\u0275\u0275defineDirective"]({type:e,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,t,n){if(1&e&&c["\u0275\u0275contentQuery"](n,y,!0),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t._buttonToggles=e)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,t){2&e&&(c["\u0275\u0275attribute"]("aria-disabled",t.disabled),c["\u0275\u0275classProp"]("mat-button-toggle-vertical",t.vertical)("mat-button-toggle-group-appearance-standard","standard"===t.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[c["\u0275\u0275ProvidersFeature"]([f,{provide:g,useExisting:e}])]}),e})();class S{}const I=Object(d.y)(S);let y=(()=>{class e extends I{constructor(e,t,n,i,a,s){super(),this._changeDetectorRef=t,this._elementRef=n,this._focusMonitor=i,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new c.EventEmitter;const r=Number(a);this.tabIndex=r||0===r?r:null,this.buttonToggleGroup=e,this.appearance=s&&s.appearance?s.appearance:"standard"}get buttonId(){return this.id+"-button"}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const t=Object(l.c)(e);t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Object(l.c)(e)}ngOnInit(){const e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+b++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new x(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](g,8),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](c.ElementRef),c["\u0275\u0275directiveInject"](m.h),c["\u0275\u0275injectAttribute"]("tabindex"),c["\u0275\u0275directiveInject"](h,8))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-button-toggle"]],viewQuery:function(e,t){if(1&e&&c["\u0275\u0275viewQuery"](p,!0),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t._buttonElement=e.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,t){1&e&&c["\u0275\u0275listener"]("focus",function(){return t.focus()}),2&e&&(c["\u0275\u0275attribute"]("aria-label",null)("aria-labelledby",null)("id",t.id)("name",null),c["\u0275\u0275classProp"]("mat-button-toggle-standalone",!t.buttonToggleGroup)("mat-button-toggle-checked",t.checked)("mat-button-toggle-disabled",t.disabled)("mat-button-toggle-appearance-standard","standard"===t.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[c["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:u,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,t){if(1&e&&(c["\u0275\u0275projectionDef"](),c["\u0275\u0275elementStart"](0,"button",0,1),c["\u0275\u0275listener"]("click",function(){return t._onButtonClick()}),c["\u0275\u0275elementStart"](2,"span",2),c["\u0275\u0275projection"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](4,"span",3),c["\u0275\u0275element"](5,"span",4)),2&e){const e=c["\u0275\u0275reference"](1);c["\u0275\u0275property"]("id",t.buttonId)("disabled",t.disabled||null),c["\u0275\u0275attribute"]("tabindex",t.disabled?-1:t.tabIndex)("aria-pressed",t.checked)("name",t.name||null)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("matRippleTrigger",e)("matRippleDisabled",t.disableRipple||t.disabled)}},directives:[d.s],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),e})(),C=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[d.i,d.t],d.i]}),e})();var k=n("bSwM"),w=n("0IaG"),T=n("kmnG"),E=n("NFeN"),_=n("qFsG"),R=n("MutI"),P=n("STbY"),$=n("M9IT"),j=n("d3UM"),M=n("Dh3D"),O=n("/t3+"),F=n("Qu3c"),A=n("Xa2L"),V=n("QJFE"),B=n("cdP3"),D=n("gfTr"),z=n("m3o8"),J=n("bFKe"),N=n("PCNd"),U=n("j1ZV"),L=n("0Y/I"),H=n("sUzd"),Y=n("tk/3"),G=n("XNiG"),q=n("2Vo4"),Q=n("itXk"),K=n("VRyK"),X=n("1G5W"),W=n("pLZG"),Z=n("Kj3r"),ee=n("SxV6"),te=n("nYR2"),ne=n("PSD3"),ie=n.n(ne),ae=n("7RDQ"),se=n("vkgz"),re=n("eIep"),le=n("9pgZ"),oe=n("X4B9"),ce=n("UTw3"),de=n("B6oR");const me=function(e,t){return{"cssload-box-loading":e,"cssload-box-loading-inline":t}};let pe=(()=>{class e{constructor(){this.isInline=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["m-loading-indicator"]],inputs:{isInline:"isInline"},decls:3,vars:4,consts:[[3,"ngClass"],[1,"loading-text","non-selectable"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275text"](2,"Loading..."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](1,me,!t.isInline,t.isInline))},directives:[i.k],styles:['.cssload-box-loading[_ngcontent-%COMP%]{width:49px;height:49px;margin:auto;position:absolute;left:195px;right:0;top:0;bottom:12px}.cssload-box-loading[_ngcontent-%COMP%] > .loading-text[_ngcontent-%COMP%]{margin-top:70px;color:#aaa}.cssload-box-loading[_ngcontent-%COMP%]:before{content:"";width:49px;height:5px;background:#000;opacity:.1;position:absolute;top:58px;left:0;border-radius:50%;animation:shadow .58s linear infinite;-o-animation:shadow .58s linear infinite;-ms-animation:shadow .58s linear infinite;-webkit-animation:shadow .58s linear infinite;-moz-animation:shadow .58s linear infinite}.cssload-box-loading[_ngcontent-%COMP%]:after{content:"";width:49px;height:49px;background:#1bbc9c;position:absolute;top:0;left:0;border-radius:3px;animation:cssload-animate .58s linear infinite;-o-animation:cssload-animate .58s linear infinite;-ms-animation:cssload-animate .58s linear infinite;-webkit-animation:cssload-animate .58s linear infinite;-moz-animation:cssload-animate .58s linear infinite}@keyframes cssload-animate{17%{border-bottom-right-radius:3px}25%{transform:translateY(9px) rotate(22.5deg)}50%{transform:translateY(18px) scaleY(.9) rotate(45deg);border-bottom-right-radius:39px}75%{transform:translateY(9px) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@-webkit-keyframes cssload-animate{17%{border-bottom-right-radius:3px}25%{-webkit-transform:translateY(9px) rotate(22.5deg)}50%{-webkit-transform:translateY(18px) scaleY(.9) rotate(45deg);border-bottom-right-radius:39px}75%{-webkit-transform:translateY(9px) rotate(67.5deg)}to{-webkit-transform:translateY(0) rotate(90deg)}}@keyframes shadow{0%,to{transform:scale(1)}50%{transform:scaleX(1.2)}}@-webkit-keyframes shadow{0%,to{-webkit-transform:scale(1)}50%{-webkit-transform:scaleX(1.2)}}.cssload-box-loading-inline[_ngcontent-%COMP%]{width:16px;height:16px;position:relative;display:inline-block}.cssload-box-loading-inline[_ngcontent-%COMP%] > .loading-text[_ngcontent-%COMP%]{margin-left:24px;margin-top:1px;color:#aaa;font-size:12px}.cssload-box-loading-inline[_ngcontent-%COMP%]:before{content:"";width:16px;height:2px;position:absolute;top:19px;left:0;background:#000;opacity:.1;border-radius:50%;animation:shadow-inline .58s linear infinite;-o-animation:shadow-inline .58s linear infinite;-ms-animation:shadow-inline .58s linear infinite;-webkit-animation:shadow-inline .58s linear infinite;-moz-animation:shadow-inline .58s linear infinite}.cssload-box-loading-inline[_ngcontent-%COMP%]:after{content:"";width:16px;height:16px;background:#1bbc9c;position:absolute;top:0;left:0;border-radius:1px;animation:cssload-animate-inline .58s linear infinite;-o-animation:cssload-animate-inline .58s linear infinite;-ms-animation:cssload-animate-inline .58s linear infinite;-webkit-animation:cssload-animate-inline .58s linear infinite;-moz-animation:cssload-animate-inline .58s linear infinite}@keyframes cssload-animate-inline{17%{border-bottom-right-radius:1px}25%{transform:translateY(3px) rotate(22.5deg)}50%{transform:translateY(6px) scaleY(.9) rotate(45deg);border-bottom-right-radius:13px}75%{transform:translateY(3px) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@-webkit-keyframes cssload-animate-inline{17%{border-bottom-right-radius:1px}25%{-webkit-transform:translateY(3px) rotate(22.5deg)}50%{-webkit-transform:translateY(6px) scaleY(.9) rotate(45deg);border-bottom-right-radius:13px}75%{-webkit-transform:translateY(3px) rotate(67.5deg)}to{-webkit-transform:translateY(0) rotate(90deg)}}@keyframes shadow-inline{0%,to{transform:scale(1)}50%{transform:scaleX(1.2)}}@-webkit-keyframes shadow-inline{0%,to{-webkit-transform:scale(1)}50%{-webkit-transform:scaleX(1.2)}}']}),e})();var ue=n("9fBl");function he(e,t){1&e&&c["\u0275\u0275element"](0,"m-loading-indicator",6),2&e&&c["\u0275\u0275property"]("isInline",!0)}function ge(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"form",7),c["\u0275\u0275pipe"](2,"async"),c["\u0275\u0275elementStart"](3,"fieldset",8),c["\u0275\u0275pipe"](4,"async"),c["\u0275\u0275elementStart"](5,"m-alert",9),c["\u0275\u0275listener"]("messageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().errorMessage=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",10),c["\u0275\u0275elementStart"](7,"mat-form-field",11),c["\u0275\u0275elementStart"](8,"input",12),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().username=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"div",10),c["\u0275\u0275elementStart"](10,"mat-form-field",11),c["\u0275\u0275elementStart"](11,"input",13),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().password=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275classProp"]("dimmed",c["\u0275\u0275pipeBind1"](2,6,e.loading$)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",c["\u0275\u0275pipeBind1"](4,8,e.loading$)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("message",e.errorMessage),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",e.username),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",e.password)}}let fe=(()=>{class e{constructor(e,t,n,i,a){this.cdr=e,this.dialogRef=t,this.data=n,this.hyperionJiraService=i,this.accountService=a,this.destroy$=new G.b,this.ready$=new q.a(!1),this.loading$=new q.a(!1),this.username="",this.password=""}ngOnInit(){Object(Q.b)([this.accountService.profile$.asObservable().pipe(Object(X.a)(this.destroy$),Object(ee.a)(),Object(se.a)(e=>this.username=e.username)),this.hyperionJiraService.getJiraInstance(this.data.jiraId).pipe(Object(X.a)(this.destroy$),Object(se.a)(e=>this.jira=e))]).pipe(Object(re.a)(([e,t])=>this.hyperionJiraService.getAuthenticationStatus(t.id).pipe(Object(X.a)(this.destroy$))),Object(te.a)(()=>this.ready$.next(!0))).subscribe(e=>e.result?this.onSuccess():null)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.ready$.complete(),this.loading$.complete()}canSubmit(){return this.username.trim().length>0&&this.password.trim().length>0}onAuthenticate(){this.errorMessage=null,this.loading$.next(!0),this.authenticate(this.data.jiraId,this.username,this.password).pipe(Object(X.a)(this.destroy$),Object(te.a)(()=>this.loading$.next(!1))).subscribe(e=>e.result?this.onSuccess():this.errorMessage="Authentication failed",e=>{e instanceof ce.a?this.errorMessage=de.e.getDescription(e.error):e instanceof ce.g?this.errorMessage="Invalid JIRA instance":e instanceof ce.f&&(this.errorMessage=e.error)})}onSuccess(){this.dialogRef.close(!0)}authenticate(e,t,n){const i=new de.a;return i.username=t.trim(),i.password=n.trim(),this.hyperionJiraService.authenticate(i,e)}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](w.g),c["\u0275\u0275directiveInject"](w.a),c["\u0275\u0275directiveInject"](oe.a),c["\u0275\u0275directiveInject"](le.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["m-jira-auth-dialog"]],decls:9,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content","",3,"ngSwitch"],[3,"isInline",4,"ngSwitchCase"],[4,"ngSwitchCase"],["mat-dialog-actions","",1,"justify-content-end"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"disabled","click"],[3,"isInline"],[1,"m-form","m-form--fit"],[3,"disabled"],["kind","danger",3,"message","messageChange"],[1,"form-group","m-form__group","pl-0","pr-0"],[1,"example-full-width"],["matInput","","required","","type","text","name","jiraUsername","placeholder","JIRA username",3,"ngModel","ngModelChange"],["matInput","","required","","type","password","name","jiraPassword","placeholder","JIRA password","autocomplete","new-password",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h1",0),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"div",1),c["\u0275\u0275pipe"](3,"async"),c["\u0275\u0275template"](4,he,1,1,"m-loading-indicator",2),c["\u0275\u0275template"](5,ge,12,10,"ng-container",3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",4),c["\u0275\u0275elementStart"](7,"button",5),c["\u0275\u0275listener"]("click",function(){return t.onAuthenticate()}),c["\u0275\u0275text"](8," Authenticate "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("Authenticate in ",null==t.jira?null:t.jira.title,""),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitch",c["\u0275\u0275pipeBind1"](3,5,t.ready$)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngSwitchCase",!1),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",!t.canSubmit()))},directives:[w.h,w.e,i.o,i.p,w.c,r.a,pe,a.q,a.j,a.k,ue.a,T.b,_.b,a.c,a.o,a.i,a.l],pipes:[i.b],styles:[""]}),e})();function be(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"m-alert",11),c["\u0275\u0275listener"]("messageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().errorMessage=t}),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("message",e.errorMessage)}}let xe=(()=>{class e{constructor(e,t,n,i){this.cdr=e,this.dialogRef=t,this.data=n,this.hyperionJiraService=i,this.destroy$=new G.b,this.ready$=new q.a(!1),this.loading$=new q.a(!1),this.summary="",this.description="",this.summary=n.summary,this.description=n.description}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.ready$.complete(),this.loading$.complete()}canSubmit(){return this.summary.trim().length>0}onCreateIssue(){this.errorMessage=null,this.loading$.next(!0),this.createJiraIssue(this.data.testRunItemId,this.summary,this.description).pipe(Object(X.a)(this.destroy$),Object(te.a)(()=>this.loading$.next(!1))).subscribe(e=>this.onSuccess(e.jiraIssueKey,e.jiraIssueUrl),e=>{e instanceof ce.a?this.errorMessage=de.g.getDescription(e.error):e instanceof ce.g?this.errorMessage="Invalid JIRA instance":e instanceof ce.f&&(this.errorMessage=e.error)})}onSuccess(e,t){this.dialogRef.close({jiraIssueKey:e,jiraIssueUrl:t})}createJiraIssue(e,t,n){const i=new de.c;return i.summary=t.trim(),i.description=n.trim(),this.hyperionJiraService.createJiraIssue(i,e)}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](w.g),c["\u0275\u0275directiveInject"](w.a),c["\u0275\u0275directiveInject"](oe.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["m-jira-issue-dialog"]],decls:17,vars:11,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"m-form","m-form--fit"],[3,"disabled"],["kind","danger",3,"message","messageChange",4,"ngIf"],[1,"form-group","m-form__group","pl-0","pr-0"],[1,"example-full-width"],["matInput","","required","","type","text","name","issueSummary","placeholder","Issue summary",3,"ngModel","ngModelChange"],["matInput","","name","issueDescription","placeholder","Issue description",2,"height","50px",3,"ngModel","ngModelChange"],["mat-dialog-actions","",1,"justify-content-end"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"disabled","click"],["kind","danger",3,"message","messageChange"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h1",0),c["\u0275\u0275text"](1,"Create issue in JIRA"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"div",1),c["\u0275\u0275elementStart"](3,"form",2),c["\u0275\u0275pipe"](4,"async"),c["\u0275\u0275elementStart"](5,"fieldset",3),c["\u0275\u0275pipe"](6,"async"),c["\u0275\u0275template"](7,be,1,1,"m-alert",4),c["\u0275\u0275elementStart"](8,"div",5),c["\u0275\u0275elementStart"](9,"mat-form-field",6),c["\u0275\u0275elementStart"](10,"input",7),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.summary=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",5),c["\u0275\u0275elementStart"](12,"mat-form-field",6),c["\u0275\u0275elementStart"](13,"textarea",8),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.description=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",9),c["\u0275\u0275elementStart"](15,"button",10),c["\u0275\u0275listener"]("click",function(){return t.onCreateIssue()}),c["\u0275\u0275text"](16," Create issue "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275classProp"]("dimmed",c["\u0275\u0275pipeBind1"](4,7,t.loading$)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",c["\u0275\u0275pipeBind1"](6,9,t.loading$)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.errorMessage),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",t.summary),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",t.description),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",!t.canSubmit()))},directives:[w.h,w.e,a.q,a.j,a.k,i.m,T.b,_.b,a.c,a.o,a.i,a.l,w.c,r.a,ue.a],pipes:[i.b],styles:[""]}),e})();var ve=n("Y4+Y"),Se=n("4j9A"),Ie=n("25+x"),ye=n("Sw3e"),Ce=n("E1Th"),ke=n("KiUO"),we=n("EPMp"),Te=n("IsHO"),Ee=n("xR9/"),_e=n("wg/d"),Re=n("0bxZ"),Pe=n("65F8"),$e=n("9VOA"),je=n("jhN1"),Me=n("Uq9q"),Oe=n("ihCf");const Fe=["LoaderUploader"];function Ae(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",26),c["\u0275\u0275elementStart"](1,"div",27),c["\u0275\u0275elementStart"](2,"div",28),c["\u0275\u0275elementStart"](3,"div",29),c["\u0275\u0275elementStart"](4,"mat-checkbox",30),c["\u0275\u0275listener"]("change",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onBulkChange()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",31),c["\u0275\u0275elementStart"](6,"button",32),c["\u0275\u0275text"](7," Bulk actions "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",31),c["\u0275\u0275elementContainer"](9,33),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2),t=c["\u0275\u0275reference"](28),n=c["\u0275\u0275reference"](26);c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("disableRipple",!0)("indeterminate",e.isBulkIndeterminate())("checked",e.isBulkChecked()),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",!e.canPerformBulkActions())("matMenuTriggerFor",t),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngTemplateOutlet",n)}}function Ve(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",34),c["\u0275\u0275elementStart"](1,"div",35),c["\u0275\u0275elementStart"](2,"mat-form-field",36),c["\u0275\u0275elementStart"](3,"input",37),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).search$.next(t)}),c["\u0275\u0275pipe"](4,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind1"](4,1,e.search$))}}function Be(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",23),c["\u0275\u0275template"](1,Ae,10,6,"div",24),c["\u0275\u0275pipe"](2,"async"),c["\u0275\u0275template"](3,Ve,5,3,"div",25),c["\u0275\u0275pipe"](4,"async"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](2,2,e.testRunItems$).length>0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](4,4,e.testRunItems$).length>0)}}function De(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1," \u203a "),c["\u0275\u0275elementEnd"]())}function ze(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275elementStart"](1,"span"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](": ",e.$param," ")}}function Je(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span",49),c["\u0275\u0275elementStart"](1,"span",50),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" Failure reason: ",e.summary," ")}}function Ne(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mat-list-item"),c["\u0275\u0275elementStart"](1,"div",39),c["\u0275\u0275elementStart"](2,"mat-checkbox",40),c["\u0275\u0275listener"]("change",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit,i=c["\u0275\u0275nextContext"](2);return i.checkedSet.has(n.id)?i.checkedSet.delete(n.id):i.checkedSet.add(n.id)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",41),c["\u0275\u0275elementStart"](4,"div",42),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"](2).selectTestRunItem(n)}),c["\u0275\u0275elementStart"](5,"div",43),c["\u0275\u0275elementStart"](6,"div",44),c["\u0275\u0275elementStart"](7,"div",45),c["\u0275\u0275elementStart"](8,"div",46),c["\u0275\u0275elementStart"](9,"span",47),c["\u0275\u0275elementStart"](10,"span"),c["\u0275\u0275text"](11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](12,De,2,0,"span",12),c["\u0275\u0275elementStart"](13,"strong"),c["\u0275\u0275text"](14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](15,ze,3,1,"span",12),c["\u0275\u0275template"](16,Je,3,1,"span",48),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disableRipple",!0)("checked",n.checkedSet.has(e.id)),c["\u0275\u0275advance"](1),c["\u0275\u0275classProp"]("active",e===n.selectedTestItem)("pending",e.status===n.testStatusEnum.Pending)("in-progress",e.status===n.testStatusEnum.InProgress)("passed",e.status===n.testStatusEnum.Passed)("failed",e.status===n.testStatusEnum.Failed)("blocked",e.status===n.testStatusEnum.Blocked),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngClass",n.badgeTestClass(e.status)),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](e.$parentTitle),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.$parentTitle),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.$title),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.$param),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.summary)}}function Ue(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-list"),c["\u0275\u0275template"](1,Ne,17,20,"mat-list-item",38),c["\u0275\u0275pipe"](2,"async"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind1"](2,1,e.filteredTestRunItems$))}}function Le(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275text"](1," No tests are added "),c["\u0275\u0275elementContainerEnd"]())}function He(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275text"](1," No tests match filter criteria "),c["\u0275\u0275elementContainerEnd"]())}function Ye(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,He,2,0,"ng-container",12),c["\u0275\u0275pipe"](2,"async"),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0===c["\u0275\u0275pipeBind1"](2,1,e.filteredTestRunItems$).length)}}function Ge(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"li",71),c["\u0275\u0275elementStart"](1,"label",67),c["\u0275\u0275text"](2,"Description"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](3,"span",72),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("innerHTML",null==e.selectedTestCase?null:e.selectedTestCase.description,c["\u0275\u0275sanitizeHtml"])}}function qe(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1," Not set "),c["\u0275\u0275elementEnd"]())}function Qe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275elementStart"](1,"strong",75),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](5);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",e.inheritedPreconditionTestCase.title," ")}}function Ke(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1," \xa0and\xa0 "),c["\u0275\u0275elementEnd"]())}function Xe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275elementStart"](1,"strong",75),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](5);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e.inheritedSetupTestCase.title," ")}}function We(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1," Inherited from "),c["\u0275\u0275template"](2,Qe,3,1,"span",12),c["\u0275\u0275template"](3,Ke,2,0,"span",12),c["\u0275\u0275template"](4,Xe,3,1,"span",12),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.inheritedPreconditionTestCase),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.inheritedPreconditionTestCase&&e.inheritedSetupTestCase),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.inheritedSetupTestCase)}}function Ze(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,qe,2,0,"span",12),c["\u0275\u0275template"](2,We,5,3,"span",12),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0===(null==e.selectedTestItemSetup?null:e.selectedTestItemSetup.length)&&0===(null==e.selectedTestItemPrecondition?null:e.selectedTestItemPrecondition.length)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.inheritedPreconditionTestCase||e.inheritedSetupTestCase)}}function et(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",78),c["\u0275\u0275elementStart"](1,"span",82),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e.title," ")}}const tt=function(e){return{title:"Confirmation",html:e,type:"question",confirmButtonText:"Block",confirmButtonColor:"#ffb822",confirmButtonClass:"btn-warning",showCancelButton:!0,heightAuto:!1}};function nt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",83),c["\u0275\u0275listener"]("confirm",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](4).blockTestRunItem(t.id)}),c["\u0275\u0275text"](1," Block "),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("swal",c["\u0275\u0275pureFunction1"](1,tt,"Blocking setup step <b>"+e.title+"</b>?<br><b>"+t.affectedCount(e.id)+"</b> test items would be blocked"))}}function it(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span",84),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.description," ")}}function at(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"li"),c["\u0275\u0275elementStart"](1,"div",77),c["\u0275\u0275elementStart"](2,"div",78),c["\u0275\u0275elementStart"](3,"mat-icon",75),c["\u0275\u0275text"](4," subdirectory_arrow_right "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,et,3,1,"div",79),c["\u0275\u0275elementStart"](6,"div",78),c["\u0275\u0275template"](7,nt,2,3,"button",80),c["\u0275\u0275template"](8,it,2,1,"span",81),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",e&&e.title),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",n.canPerformBlock(null==n.selectedTestItem?null:n.selectedTestItem.status,null==n.testRun?null:n.testRun.status)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e&&e.description)}}function st(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"ul",76),c["\u0275\u0275template"](1,at,9,3,"li",38),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.selectedTestItemPrecondition)}}function rt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",78),c["\u0275\u0275elementStart"](1,"span",82),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e.title," ")}}function lt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span",90),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.description," ")}}function ot(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",78),c["\u0275\u0275elementStart"](1,"mat-icon",91),c["\u0275\u0275text"](2,"link"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]())}function ct(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",78),c["\u0275\u0275elementStart"](1,"span",92),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit,t=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate2"](" [",t.selectedTestItem.params.specs[t.selectParamForTestItemSetup(e)].param,"]: ",t.selectedTestItem.params.specs[t.selectParamForTestItemSetup(e)].value," ")}}function dt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",93),c["\u0275\u0275listener"]("confirm",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2).$implicit;return c["\u0275\u0275nextContext"](4).blockTestRunItem(t.id)}),c["\u0275\u0275text"](1," Block "),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2).$implicit,t=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("swal",c["\u0275\u0275pureFunction1"](1,tt,"Blocking setup step <b>"+e.title+"</b>?<br><b>"+t.affectedCount(e.id)+"</b> test items would be blocked"))}}function mt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"div",78),c["\u0275\u0275elementStart"](2,"mat-icon",75),c["\u0275\u0275text"](3," subdirectory_arrow_right "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](4,rt,3,1,"div",79),c["\u0275\u0275elementStart"](5,"div",78),c["\u0275\u0275template"](6,lt,2,1,"span",87),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](7,ot,3,0,"div",79),c["\u0275\u0275template"](8,ct,3,2,"div",79),c["\u0275\u0275elementStart"](9,"div",88),c["\u0275\u0275template"](10,dt,2,3,"button",89),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"](4);c["\u0275\u0275classProp"]("line-vertical",t.selectedTestItem.status===t.testStatusEnum.Blocked&&t.selectedTestItem.params.specs[t.selectParamForTestItemSetup(e)].setupId===t.selectedTestItem.failedSetupId),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",e&&e.title),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e&&e.description),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null!==t.selectParamForTestItemSetup(e)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null!==t.selectParamForTestItemSetup(e)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.canPerformBlock(null==t.selectedTestItem?null:t.selectedTestItem.status,null==t.testRun?null:t.testRun.status))}}function pt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",93),c["\u0275\u0275listener"]("confirm",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2).$implicit;return c["\u0275\u0275nextContext"](4).blockTestRunItem(t.id)}),c["\u0275\u0275text"](1," Block "),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2).$implicit,t=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("swal",c["\u0275\u0275pureFunction1"](1,tt,"Blocking setup step <b>"+e.title+"</b>?<br><b>"+t.affectedCount(e.id)+"</b> test items would be blocked"))}}function ut(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",77),c["\u0275\u0275elementStart"](1,"div",78),c["\u0275\u0275elementStart"](2,"mat-icon",75),c["\u0275\u0275text"](3,"subdirectory_arrow_right"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",78),c["\u0275\u0275elementStart"](5,"span",82),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",88),c["\u0275\u0275template"](8,pt,2,3,"button",89),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"](4);c["\u0275\u0275classProp"]("line-vertical",e.id===t.selectedTestItem.failedSetupId),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate1"](" ",e.title," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.canPerformBlock(null==t.selectedTestItem?null:t.selectedTestItem.status,null==t.testRun?null:t.testRun.status))}}function ht(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"li"),c["\u0275\u0275template"](1,mt,11,7,"div",85),c["\u0275\u0275template"](2,ut,9,4,"div",86),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.selectedTestItem.params.specs.length>0&&null!==n.selectParamForTestItemSetup(e)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0===n.selectedTestItem.params.specs.length||null===n.selectParamForTestItemSetup(e))}}function gt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"ul",76),c["\u0275\u0275template"](1,ht,3,2,"li",38),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.selectedTestItemSetup)}}function ft(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"li",63),c["\u0275\u0275elementStart"](1,"label",73),c["\u0275\u0275text"](2,"Setup"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](3,Ze,3,2,"ng-container",12),c["\u0275\u0275template"](4,st,2,1,"ul",74),c["\u0275\u0275template"](5,gt,2,1,"ul",74),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",!e.selectedTestCase.setupId||!e.selectedTestCase.preconditionId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",(null==e.selectedTestItemPrecondition?null:e.selectedTestItemPrecondition.length)>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",(null==e.selectedTestItemSetup?null:e.selectedTestItemSetup.length)>0)}}function bt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"li",63),c["\u0275\u0275elementStart"](1,"label",73),c["\u0275\u0275text"](2,"Test steps"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](3,"span",72),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("innerHTML",null==e.selectedTestCase?null:e.selectedTestCase.testSteps,c["\u0275\u0275sanitizeHtml"])}}function xt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"li",63),c["\u0275\u0275elementStart"](1,"label",73),c["\u0275\u0275text"](2,"Expected result"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](3,"span",72),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("innerHTML",null==e.selectedTestCase?null:e.selectedTestCase.expectedResult,c["\u0275\u0275sanitizeHtml"])}}function vt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"li",63),c["\u0275\u0275elementStart"](1,"label",73),c["\u0275\u0275text"](2,"Failure reason"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"textarea",94),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).selectedTestItem.summary=t})("keyup.escape",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).revertTestRunItem()})("blur",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).maybeUpdateTestRunItem()}),c["\u0275\u0275text"](4,"                                            "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"mat-form-field",95),c["\u0275\u0275element"](6,"input",96),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",e.selectedTestItem.summary)}}function St(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",97),c["\u0275\u0275elementStart"](1,"label",67),c["\u0275\u0275text"](2,"Created By"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"strong",75),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](e.selectedTestItem.reporterName)}}function It(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",97),c["\u0275\u0275elementStart"](1,"label",67),c["\u0275\u0275text"](2,"Assigned To"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"strong",75),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](e.selectedTestItem.assigneeName)}}function yt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"li",63),c["\u0275\u0275elementStart"](1,"div",0),c["\u0275\u0275template"](2,St,5,1,"div",65),c["\u0275\u0275template"](3,It,5,1,"div",65),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.selectedTestItem.reporterName),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.selectedTestItem.assigneeName)}}function Ct(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",97),c["\u0275\u0275elementStart"](1,"label",67),c["\u0275\u0275text"](2,"Created At"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](4,1,e.selectedTestItem.createdAt,"yyyy-MM-dd HH:mm")," ")}}function kt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",97),c["\u0275\u0275elementStart"](1,"label",67),c["\u0275\u0275text"](2,"Started At"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](4,1,e.selectedTestItem.startedAt,"yyyy-MM-dd HH:mm")," ")}}function wt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",97),c["\u0275\u0275elementStart"](1,"label",67),c["\u0275\u0275text"](2,"Passed At"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](4,1,e.selectedTestItem.finishedAt,"yyyy-MM-dd HH:mm")," ")}}function Tt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",97),c["\u0275\u0275elementStart"](1,"label",67),c["\u0275\u0275text"](2,"Failed At"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](4,1,e.selectedTestItem.finishedAt,"yyyy-MM-dd HH:mm")," ")}}function Et(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",97),c["\u0275\u0275elementStart"](1,"label",67),c["\u0275\u0275text"](2,"Blocked At"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](4,1,e.selectedTestItem.finishedAt,"yyyy-MM-dd HH:mm")," ")}}function _t(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementContainer"](1,33),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2),t=c["\u0275\u0275reference"](22),n=c["\u0275\u0275reference"](20);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",(null==e.activeFileAttachments?null:e.activeFileAttachments.length)>3&&e.showMoreAttachments?t:n)}}function Rt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"a",98),c["\u0275\u0275elementStart"](2,"span",99),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("href",e.selectedTestItem.jiraIssueUrl,c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e.selectedTestItem.jiraIssueKey," ")}}function Pt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"button",100),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](3);return t.authenticatedInJira?t.openJiraIssueDialog():t.openJiraAuthDialog()}),c["\u0275\u0275elementStart"](2,"i",101),c["\u0275\u0275element"](3,"img",102),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"span"),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](e.authenticatedInJira?"Create issue":"Authenticate")}}function $t(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275text"](1," No linked issues "),c["\u0275\u0275elementContainerEnd"]())}function jt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementContainerStart"](1,13),c["\u0275\u0275template"](2,Pt,6,1,"ng-container",14),c["\u0275\u0275template"](3,$t,2,0,"ng-container",14),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitch",e.canPerformBlock(null==e.selectedTestItem?null:e.selectedTestItem.status,null==e.testRun?null:e.testRun.status)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",!1)}}function Mt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",106),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](3);return t.startTestRunItem(t.selectedTestItem.id)}),c["\u0275\u0275text"](1," Start "),c["\u0275\u0275elementEnd"]()}}function Ot(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",107),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](3);return t.passTestRunItem(t.selectedTestItem.id)}),c["\u0275\u0275text"](1," Pass "),c["\u0275\u0275elementEnd"]()}}function Ft(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",108),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](3);return t.failTestRunItem(t.selectedTestItem.id)}),c["\u0275\u0275text"](1," Fail "),c["\u0275\u0275elementEnd"]()}}function At(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",106),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](3);return t.reopenTestRunItem(t.selectedTestItem.id)}),c["\u0275\u0275text"](1," Reopen "),c["\u0275\u0275elementEnd"]()}}function Vt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"li",63),c["\u0275\u0275elementStart"](1,"div",0),c["\u0275\u0275elementStart"](2,"div",70),c["\u0275\u0275elementStart"](3,"label",67),c["\u0275\u0275text"](4,"Actions"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,Mt,2,0,"button",103),c["\u0275\u0275template"](6,Ot,2,0,"button",104),c["\u0275\u0275template"](7,Ft,2,0,"button",105),c["\u0275\u0275template"](8,At,2,0,"button",103),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",e.selectedTestItem.status===e.testStatusEnum.Pending),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.selectedTestItem.summary&&(e.selectedTestItem.status===e.testStatusEnum.Pending||e.selectedTestItem.status===e.testStatusEnum.InProgress)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.selectedTestItem.status===e.testStatusEnum.Pending||e.selectedTestItem.status===e.testStatusEnum.InProgress),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.selectedTestItem.status===e.testStatusEnum.Blocked||e.selectedTestItem.status===e.testStatusEnum.Failed||e.selectedTestItem.status===e.testStatusEnum.Passed)}}function Bt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"as-split-area",8),c["\u0275\u0275elementStart"](1,"div",51),c["\u0275\u0275elementStart"](2,"perfect-scrollbar",10),c["\u0275\u0275elementStart"](3,"div",52),c["\u0275\u0275elementStart"](4,"div",53),c["\u0275\u0275elementStart"](5,"div",54),c["\u0275\u0275elementStart"](6,"h5"),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",55),c["\u0275\u0275elementStart"](9,"div",43),c["\u0275\u0275elementStart"](10,"div",56),c["\u0275\u0275elementStart"](11,"div",46),c["\u0275\u0275elementStart"](12,"div",57),c["\u0275\u0275elementStart"](13,"span",47),c["\u0275\u0275text"](14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div",58),c["\u0275\u0275elementStart"](16,"span",59),c["\u0275\u0275text"](17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"ul",60),c["\u0275\u0275template"](19,Ge,4,1,"li",61),c["\u0275\u0275template"](20,ft,6,3,"li",62),c["\u0275\u0275template"](21,bt,4,1,"li",62),c["\u0275\u0275template"](22,xt,4,1,"li",62),c["\u0275\u0275template"](23,vt,7,1,"li",62),c["\u0275\u0275template"](24,yt,4,2,"li",62),c["\u0275\u0275elementStart"](25,"li",63),c["\u0275\u0275elementStart"](26,"div",0),c["\u0275\u0275elementContainerStart"](27,13),c["\u0275\u0275template"](28,Ct,5,4,"div",64),c["\u0275\u0275template"](29,kt,5,4,"div",65),c["\u0275\u0275template"](30,wt,5,4,"div",64),c["\u0275\u0275template"](31,Tt,5,4,"div",64),c["\u0275\u0275template"](32,Et,5,4,"div",64),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"li",63),c["\u0275\u0275elementStart"](34,"div",0),c["\u0275\u0275elementStart"](35,"div",66),c["\u0275\u0275elementStart"](36,"label",67),c["\u0275\u0275text"](37,"Attachments"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"div",0),c["\u0275\u0275elementStart"](39,"div",68),c["\u0275\u0275template"](40,_t,2,1,"ng-container",12),c["\u0275\u0275elementContainer"](41,33),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"li",69),c["\u0275\u0275elementStart"](43,"div",0),c["\u0275\u0275elementStart"](44,"div",70),c["\u0275\u0275elementStart"](45,"label",67),c["\u0275\u0275text"](46,"JIRA"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](47,Rt,4,2,"ng-container",14),c["\u0275\u0275template"](48,jt,4,3,"ng-container",14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](49,Vt,9,4,"li",62),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](),t=c["\u0275\u0275reference"](24);c["\u0275\u0275property"]("size",e.selectedTestItem?30:0),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](e.selectedTestItem.$title),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngClass",e.badgeTestClass(e.selectedTestItem.status)),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",e.testStatusText(e.selectedTestItem.status)," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" #",e.selectedTestItem.id," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.selectedTestCase.description),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0!==(null==e.selectedTestItemSetup?null:e.selectedTestItemSetup.length)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.selectedTestCase.testSteps),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.selectedTestCase.expectedResult),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.selectedTestItem.status!==e.testStatusEnum.Passed),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.selectedTestItem.reporterName||e.selectedTestItem.assigneeName),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngSwitch",e.selectedTestItem.status),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",e.testStatusEnum.Pending),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.selectedTestItem.status!==e.testStatusEnum.Pending&&e.selectedTestItem.startedAt),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",e.testStatusEnum.Passed),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",e.testStatusEnum.Failed),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",e.testStatusEnum.Blocked),c["\u0275\u0275advance"](8),c["\u0275\u0275property"]("ngIf",(null==e.activeFileAttachments?null:e.activeFileAttachments.length)>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",0===(null==e.activeFileAttachments?null:e.activeFileAttachments.length)?t:null),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitch",!!e.selectedTestItem.jiraIssueKey),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngSwitchCase",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",!1),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.testRun.status===e.testRunStatus.InProgress)}}function Dt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"img",119),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2).index;return c["\u0275\u0275nextContext"](2).openGallery(t)}),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275propertyInterpolate1"]("src","/download/attachments/",e.thumbFilename,"",c["\u0275\u0275sanitizeUrl"])}}function zt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",120),c["\u0275\u0275text"](1,"File"),c["\u0275\u0275elementEnd"]())}const Jt=function(e){return{title:"Confirmation",html:e,type:"question",confirmButtonText:"Delete",confirmButtonColor:"#f4516c",confirmButtonClass:"btn-danger",showCancelButton:!0,heightAuto:!1}};function Nt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",113),c["\u0275\u0275elementContainerStart"](1,13),c["\u0275\u0275template"](2,Dt,1,1,"img",114),c["\u0275\u0275elementStart"](3,"a",115),c["\u0275\u0275template"](4,zt,2,0,"div",116),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementStart"](5,"div",117),c["\u0275\u0275listener"]("confirm",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit,n=c["\u0275\u0275nextContext"](2);return n.unlinkFileAttachment(t.id,n.selectedTestItem.id)}),c["\u0275\u0275elementStart"](6,"mat-icon",118),c["\u0275\u0275text"](7,"clear"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275property"]("matTooltip",e.originalFilename),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitch",!!e.thumbFilename),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("href","/download/attachments/",e.filename,"",c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275property"]("ngSwitch",!!e.thumbFilename),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",!1),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("swal",c["\u0275\u0275pureFunction1"](7,Jt,"Delete <b>"+e.originalFilename+"</b>?"))}}function Ut(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Nt,8,9,"div",112),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.index;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e<3)}}function Lt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",121),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2);return t.showMoreAttachments=!t.showMoreAttachments}),c["\u0275\u0275elementStart"](1,"div",122),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" + ",(null==e.activeFileAttachments?null:e.activeFileAttachments.length)-3," ")}}function Ht(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function Yt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",109),c["\u0275\u0275template"](1,Ut,2,1,"ng-container",38),c["\u0275\u0275template"](2,Lt,3,1,"div",110),c["\u0275\u0275template"](3,Ht,1,0,"ng-container",111),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](),t=c["\u0275\u0275reference"](24);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.activeFileAttachments),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",(null==e.activeFileAttachments?null:e.activeFileAttachments.length)>3),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",t)}}function Gt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"img",119),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().index;return c["\u0275\u0275nextContext"](2).openGallery(t)}),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275propertyInterpolate1"]("src","/download/attachments/",e.thumbFilename,"",c["\u0275\u0275sanitizeUrl"])}}function qt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",120),c["\u0275\u0275text"](1,"File"),c["\u0275\u0275elementEnd"]())}function Qt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",113),c["\u0275\u0275elementContainerStart"](1,13),c["\u0275\u0275template"](2,Gt,1,1,"img",114),c["\u0275\u0275elementStart"](3,"a",115),c["\u0275\u0275template"](4,qt,2,0,"div",116),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementStart"](5,"div",117),c["\u0275\u0275listener"]("confirm",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit,i=c["\u0275\u0275nextContext"](2);return i.unlinkFileAttachment(n.id,i.selectedTestItem.id)}),c["\u0275\u0275elementStart"](6,"mat-icon",118),c["\u0275\u0275text"](7,"clear"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275property"]("matTooltip",e.originalFilename),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitch",!!e.thumbFilename),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("href","/download/attachments/",e.filename,"",c["\u0275\u0275sanitizeUrl"]),c["\u0275\u0275property"]("ngSwitch",!!e.thumbFilename),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",!1),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("swal",c["\u0275\u0275pureFunction1"](7,Jt,"Delete <b>"+e.originalFilename+"</b>?"))}}function Kt(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function Xt(e,t){if(1&e&&(c["\u0275\u0275template"](0,Qt,8,9,"div",123),c["\u0275\u0275template"](1,Kt,1,0,"ng-container",111)),2&e){const e=c["\u0275\u0275nextContext"](),t=c["\u0275\u0275reference"](24);c["\u0275\u0275property"]("ngForOf",e.activeFileAttachments),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngTemplateOutlet",t)}}function Wt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",128),c["\u0275\u0275element"](1,"mat-progress-spinner",129),c["\u0275\u0275pipe"](2,"async"),c["\u0275\u0275elementStart"](3,"div",130),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("value",c["\u0275\u0275pipeBind1"](2,2,e.value)),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](5,4,e.value),"%")}}function Zt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Wt,6,6,"div",127),c["\u0275\u0275pipe"](2,"async"),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](2,1,e.value))}}function en(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"button",131),c["\u0275\u0275listener"]("click",function(){return(0,t.openFileSelector)()}),c["\u0275\u0275elementStart"](1,"mat-icon",132),c["\u0275\u0275text"](2,"add"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]())}function tn(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275template"](0,Zt,3,3,"ng-container",38),c["\u0275\u0275pipe"](1,"keyvalue"),c["\u0275\u0275elementStart"](2,"div",124),c["\u0275\u0275elementStart"](3,"ngx-file-drop",125),c["\u0275\u0275listener"]("onFileDrop",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().dropped(t)}),c["\u0275\u0275template"](4,en,3,0,"ng-template",126),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind1"](1,1,e.attachmentsProgress))}}function nn(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"div",133),c["\u0275\u0275elementStart"](2,"div",134),c["\u0275\u0275element"](3,"input",135),c["\u0275\u0275pipe"](4,"async"),c["\u0275\u0275elementStart"](5,"label",136),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.changeFilter(t.typeFilterEnum.Pending)}),c["\u0275\u0275text"](6," Pending "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",134),c["\u0275\u0275element"](8,"input",137),c["\u0275\u0275pipe"](9,"async"),c["\u0275\u0275elementStart"](10,"label",138),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.changeFilter(t.typeFilterEnum.InProgress)}),c["\u0275\u0275text"](11," In Progress "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",134),c["\u0275\u0275element"](13,"input",139),c["\u0275\u0275pipe"](14,"async"),c["\u0275\u0275elementStart"](15,"label",140),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.changeFilter(t.typeFilterEnum.Passed)}),c["\u0275\u0275text"](16," Passed "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",134),c["\u0275\u0275element"](18,"input",141),c["\u0275\u0275pipe"](19,"async"),c["\u0275\u0275elementStart"](20,"label",142),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.changeFilter(t.typeFilterEnum.Failed)}),c["\u0275\u0275text"](21," Failed "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",134),c["\u0275\u0275element"](23,"input",143),c["\u0275\u0275pipe"](24,"async"),c["\u0275\u0275elementStart"](25,"label",144),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.changeFilter(t.typeFilterEnum.Blocked)}),c["\u0275\u0275text"](26," Blocked "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("disabled",!c["\u0275\u0275pipeBind1"](4,5,e.testStatusFilters$).has(e.typeFilterEnum.Pending)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("disabled",!c["\u0275\u0275pipeBind1"](9,7,e.testStatusFilters$).has(e.typeFilterEnum.InProgress)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("disabled",!c["\u0275\u0275pipeBind1"](14,9,e.testStatusFilters$).has(e.typeFilterEnum.Passed)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("disabled",!c["\u0275\u0275pipeBind1"](19,11,e.testStatusFilters$).has(e.typeFilterEnum.Failed)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("disabled",!c["\u0275\u0275pipeBind1"](24,13,e.testStatusFilters$).has(e.typeFilterEnum.Blocked))}}function an(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",145),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onBulkStart()}),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"button",145),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onBulkPass()}),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",145),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onBulkReopen()}),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("disabled",!e.canPerformBulkStart()),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" Start (",e.checkedSet.size,") "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("disabled",!e.canPerformBulkPass()),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" Pass (",e.checkedSet.size,") "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("disabled",!e.canPerformBulkReopen()),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" Reopen (",e.checkedSet.size,") ")}}let sn=(()=>{class e{constructor(e,t,n,i,a,s,r,l,o,c,d,m,p,u,h,g){this.cdr=e,this.dialog=t,this.hyperionAttachmentService=n,this.hyperionJiraService=i,this.hyperionProjectService=a,this.hyperionTestRunsService=s,this.hyperionTestCaseService=r,this.hyperionSetupService=l,this.notificationService=o,this.route=c,this.router=d,this.sanitizer=m,this.lightbox=p,this.uploadService=u,this.subheaderService=h,this.websocketService=g,this.destroy$=new G.b,this.testRunStatus=Re.r,this.testStatusEnum=Re.s,this.checkedFilter$=new q.a(ae.a.Checked),this.testRunItems$=new q.a([]),this.filteredTestRunItems$=new q.a([]),this.showFilter$=new q.a(!1),this.testStatusFilters$=new q.a(new Set([Re.s.Pending,Re.s.InProgress,Re.s.Passed,Re.s.Failed,Re.s.Blocked])),this.attachments=new Map,this.attachmentsProgress=new Map,this.setupMap=new Map,this.testCaseMap=new Map,this.activeAlbum=[],this.files=[],this.initialized=!1,this.filterStatusEnum=ae.a,this.showMoreAttachments=!1,this.showSummaryEditor=!1,this.typeFilterEnum=Re.s,this.authenticatedInJira=!1,this.search$=new q.a(""),this.checkedSet=new Set}ngOnInit(){this.route.data.pipe(Object(X.a)(this.destroy$)).subscribe(e=>this.initialize(e.activeProject,e.testRun)),Object(Q.b)([this.route.data,this.route.queryParamMap]).pipe(Object(X.a)(this.destroy$)).subscribe(([e,t])=>{this.activeQueryId=parseInt(t.get("item_id"),10)}),Object(K.a)(this.websocketService.setupStepCreated,this.websocketService.setupStepUpdated,this.websocketService.setupStepDeleted).pipe(Object(X.a)(this.destroy$),Object(W.a)(e=>this.initialized&&e.data.projectId===this.project.id)).subscribe(e=>{e instanceof Pe.m?this.setupMap.delete(e.data.id):this.setupMap.set(e.data.id,e.data),this.selectedTestItem&&this.selectTestRunItem(this.selectedTestItem),this.cdr.detectChanges()}),Object(K.a)(this.websocketService.testCaseCreated,this.websocketService.testCaseUpdated,this.websocketService.testCaseDeleted).pipe(Object(X.a)(this.destroy$),Object(W.a)(e=>this.initialized&&e.data.projectId===this.project.id)).subscribe(e=>{let t,n;if(e instanceof Pe.o)t=new ce.i,t.item=e.data,t.children=[],this.testCaseMap.set(e.data.id,t),n=t.item.parentId?this.testCaseMap.get(t.item.parentId):null,n&&n.children.push(t);else if(e instanceof Pe.p){if(t=this.testCaseMap.get(e.data.id),this.testCaseMap.delete(e.data.id),n=t.item.parentId?this.testCaseMap.get(t.item.parentId):null,n){const e=n.children.findIndex(e=>e.item.id===t.item.id);-1!==e&&n.children.splice(e,1)}}else{t=this.testCaseMap.get(e.data.id);const i=t.item.parentId;if(t.item=e.data,this.walkTestCaseTreeNode(t),this.testCaseMap.set(e.data.id,t),i!==t.item.parentId){if(n=t.item.parentId?this.testCaseMap.get(i):null,n){const e=n.children.findIndex(e=>e.item.id===t.item.id);-1!==e&&n.children.splice(e,1)}n=t.item.parentId?this.testCaseMap.get(t.item.parentId):null,n&&n.children.push(t)}}this.testRunItems$.next(this.reorderTestRunItems(this.testRunItems$.getValue())),this.selectedTestItem&&this.selectTestRunItem(this.selectedTestItem),this.cdr.detectChanges()}),Object(K.a)(this.websocketService.testRunUpdated,this.websocketService.testRunStarted,this.websocketService.testRunClosed,this.websocketService.testRunReopened,this.websocketService.testRunDeleted).pipe(Object(X.a)(this.destroy$),Object(W.a)(e=>this.testRun&&this.testRun.id===e.data.id)).subscribe(e=>{e instanceof Pe.v?ie.a.fire("Test run has been deleted",`by <strong>${e.actorName}</strong>`,"info").then(()=>this.router.navigate(["/testing/"+(this.project?this.project.key:":project")])):e instanceof Pe.t?ie.a.fire("Test run has been closed",`by <strong>${e.actorName}</strong>`,"info").then(()=>this.router.navigate(["/testing/"+(this.project?this.project.key:":project")])):(this.testRun=e.data,this.subheaderService.setStatus(this.runStatusText(this.testRun),this.badgeRunClass(this.testRun)),this.cdr.detectChanges())}),Object(K.a)(this.websocketService.testCreated,this.websocketService.testUpdated,this.websocketService.testStarted,this.websocketService.testPassed,this.websocketService.testFailed,this.websocketService.testBlocked,this.websocketService.testDeleted,this.websocketService.testReopened).pipe(Object(X.a)(this.destroy$),Object(W.a)(e=>this.initialized&&this.testRun&&this.testRun.id===e.data.runId)).subscribe(e=>{const t=this.testRunItems$.getValue().findIndex(t=>t.id===e.data.id),n=!(e instanceof Pe.r||e instanceof Pe.s);e instanceof Pe.r&&-1===t?this.testRunItems$.next(this.testRunItems$.getValue().concat(this.addTestRunItemMetadata(e.data))):e instanceof Pe.s&&-1!==t?this.testRunItems$.next(this.testRunItems$.getValue().splice(t,1)):n&&(this.testRunItems$.getValue()[t]=e.data,this.testRunItems$.getValue()[t]=this.addTestRunItemMetadata(this.testRunItems$.getValue()[t]),this.testRunItems$.next(this.reorderTestRunItems(this.testRunItems$.getValue()))),this.cdr.detectChanges()}),Object(K.a)(this.websocketService.attachmentLinked,this.websocketService.attachmentUnlinked).pipe(Object(X.a)(this.destroy$),Object(W.a)(e=>e.link.owner===Re.b.TestRunItem)).subscribe(e=>{if(!this.attachments.has(e.link.linkedId))return;const t=this.attachments.get(e.link.linkedId),n=t.findIndex(t=>t.id===e.attachment.id);e instanceof Pe.a?n>=0?t[n]=e.attachment:t.push(e.attachment):e instanceof Pe.b&&-1!==n&&t.splice(n,1),this.attachments.set(e.link.linkedId,t),this.selectedTestItem&&this.selectedTestItem.id===e.link.linkedId&&(this.activeFileAttachments=t),this.cdr.detectChanges()}),this.router.events.pipe(Object(W.a)(e=>e instanceof s.c),Object(X.a)(this.destroy$)).subscribe(e=>{this.subheaderService.setTitle(this.testRun.title?this.testRun.title:"Test run #"+this.testRun.id),this.subheaderService.setStatus(this.runStatusText(this.testRun),this.badgeRunClass(this.testRun)),this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}showFilter(e){this.showFilter$.getValue()?this.showFilter$.next(!1):this.showFilter$.next(!0)}changeFilter(e){if(this.testStatusFilters$.getValue().has(e)||null===e){const t=this.testStatusFilters$.getValue();t.delete(e),this.checkedFilter$.next(ae.a.Indeterminate),this.testStatusFilters$.next(t)}else this.testStatusFilters$.next(this.testStatusFilters$.getValue().add(e));5===this.testStatusFilters$.getValue().size&&this.checkedFilter$.next(ae.a.Checked),null===e&&(this.testStatusFilters$.getValue().size>=0&&this.testStatusFilters$.getValue().size<=4?(this.testStatusFilters$.next(new Set([Re.s.Pending,Re.s.InProgress,Re.s.Passed,Re.s.Failed,Re.s.Blocked])),this.checkedFilter$.next(ae.a.Checked)):(this.checkedFilter$.next(ae.a.Unchecked),this.testStatusFilters$.next(new Set([]))))}openGallery(e){this.activeFileAttachments.filter(e=>e.contentType.includes("image")).forEach(e=>{this.activeAlbum.push({src:"/download/attachments/"+e.filename,caption:e.originalFilename,thumb:"/download/attachments/"+e.thumbFilename})}),this.lightbox.open(this.activeAlbum,e)}initialize(e,t){if(null===t)return this.notificationService.warning("Test run not exists"),void this.router.navigate(["/test-runs/"+(e?e.key:":project")]);if(t.projectId!==e.id)return this.notificationService.warning("Test run belongs to another project"),void this.router.navigate(["/test-runs/"+e.key]);this.project=e,this.testRun=t,this.subheaderService.setTitle(this.testRun.title?this.testRun.title:"Test run #"+this.testRun.id),this.subheaderService.setStatus(this.runStatusText(this.testRun),this.badgeRunClass(this.testRun)),this.cdr.detectChanges();const n=[this.hyperionTestRunsService.getTestRunItems(this.testRun.id)];let i=-1,a=-1;0===this.setupMap.size&&(i=n.length,n.push(this.hyperionSetupService.getSetup(this.project.id))),0===this.testCaseMap.size&&(a=n.length,n.push(this.hyperionTestCaseService.getTestCaseTree(this.project.id))),e.jiraId&&this.hyperionJiraService.getAuthenticationStatus(e.jiraId).pipe(Object(X.a)(this.destroy$)).subscribe(e=>this.authenticatedInJira=e.result,e=>this.authenticatedInJira=!1),Object(Q.b)([this.testRunItems$.asObservable(),this.testStatusFilters$.asObservable(),this.search$.asObservable().pipe(Object(Z.a)(150))]).pipe(Object(X.a)(this.destroy$)).subscribe(([e,t,n])=>{const i=n.trim().toLocaleLowerCase(),a=e.filter(e=>t.has(e.status)&&(!i||e.$sortTitle.toLocaleLowerCase().includes(i)));this.filteredTestRunItems$.next(this.reorderTestRunItems(a)),this.initialized=!0,this.cdr.detectChanges()}),Object(Q.b)([...n]).pipe(Object(X.a)(this.destroy$),Object(ee.a)()).subscribe(e=>{if(-1!==i&&(this.setupMap.clear(),e[i].items.forEach(e=>this.walkSetupTreeNode(e))),-1!==a&&(this.testCaseMap.clear(),e[a].items.forEach(e=>this.walkTestCaseTreeNode(e))),this.testRunItems$.next(this.reorderTestRunItems(e[0].items)),this.activeQueryId){const e=this.testRunItems$.getValue().find(e=>e.id===this.activeQueryId);e?this.selectTestRunItem(e):this.router.navigate([],{queryParams:{testrunid:null},replaceUrl:!0,queryParamsHandling:"merge"})}this.initialized=!0,this.cdr.detectChanges()})}runStatusText(e){switch(e.status){case Re.r.Draft:return"Draft";case Re.r.InProgress:return"In Progress";case Re.r.Closed:return"Closed"}}badgeRunClass(e){switch(e.status){case Re.r.Draft:return"m-badge--metal";case Re.r.InProgress:return"m-badge--info";case Re.r.Closed:return"m-badge--warning"}}testStatusText(e){switch(e){case Re.s.Pending:return"Pending";case Re.s.Blocked:return"Blocked";case Re.s.Passed:return"Passed";case Re.s.Failed:return"Failed";case Re.s.InProgress:return"In Progress"}}badgeTestClass(e){switch(e){case Re.s.Pending:return"m-timeline-3__item--metal";case Re.s.InProgress:return"m-timeline-3__item--info";case Re.s.Blocked:return"m-timeline-3__item--warning";case Re.s.Failed:return"m-timeline-3__item--danger";case Re.s.Passed:return"m-timeline-3__item--success"}}isBulkChecked(){const e=this.filteredTestRunItems$.getValue();return e.filter(e=>this.checkedSet.has(e.id)).length===e.length}isBulkIndeterminate(){const e=this.filteredTestRunItems$.getValue(),t=e.filter(e=>this.checkedSet.has(e.id));return t.length>0&&t.length<e.length}canPerformBulkActions(){return this.filteredTestRunItems$.getValue().filter(e=>this.checkedSet.has(e.id)).length>0}canPerformBulkStart(){const e=this.filteredTestRunItems$.getValue().filter(e=>this.checkedSet.has(e.id));return e.filter(e=>(e=>e.status===Re.s.Pending)(e)).length===e.length}canPerformBulkPass(){const e=this.filteredTestRunItems$.getValue().filter(e=>this.checkedSet.has(e.id));return e.filter(e=>(e=>[Re.s.Pending,Re.s.InProgress].includes(e.status))(e)).length===e.length}canPerformBulkReopen(){const e=this.filteredTestRunItems$.getValue().filter(e=>this.checkedSet.has(e.id));return e.filter(e=>(e=>[Re.s.Passed,Re.s.Failed,Re.s.Blocked].includes(e.status))(e)).length===e.length}canPerformBlock(e,t){return(e===this.testStatusEnum.Pending||e===this.testStatusEnum.InProgress)&&t===Re.r.InProgress}onBulkChange(){const e=this.filteredTestRunItems$.getValue(),t=this.isBulkIndeterminate()||!this.isBulkChecked();e.forEach(e=>t?this.checkedSet.add(e.id):this.checkedSet.delete(e.id))}onBulkStart(){this.onBulkAction(e=>this.startTestRunItem(e,!1))}onBulkPass(){this.onBulkAction(e=>this.passTestRunItem(e,!1))}onBulkReopen(){this.onBulkAction(e=>this.reopenTestRunItem(e,!1))}onBulkAction(e){this.selectedTestItem=null,this.selectedPristineTestItem=null,this.selectedTestItemSetup=null,this.selectedTestItemPrecondition=null,this.selectedTestCase=null,this.cdr.detectChanges(),this.filteredTestRunItems$.getValue().filter(e=>this.checkedSet.has(e.id)).forEach(t=>e(t.id)),this.checkedSet.clear(),this.cdr.detectChanges()}walkSetupTreeNode(e){this.setupMap.set(e.item.id,e.item),e.children.forEach(e=>this.walkSetupTreeNode(e))}getParentWithValidPrecondition(e){let t=e.item.id;for(;e&&!this.testCaseMap.get(t).item.preconditionId;)t=e.item.parentId,e=this.testCaseMap.get(t);return e||null}lookUpPreconditionSteps(e){const t=new Array;if(!e){const t=this.testCaseMap.get(this.selectedTestCase.id),n=this.getParentWithValidPrecondition(t);e=n?n.item.preconditionId:0}let n;for(;e;)n=this.setupMap.get(e),t.unshift(n),e=n?n.parentId:null;return t}getParentWithValidSetup(e){let t=e.item.id;for(;e&&!this.testCaseMap.get(t).item.setupId;)t=e.item.parentId,e=this.testCaseMap.get(t);return e||null}lookUpSetupSteps(e){const t=new Array;if(!e){const t=this.testCaseMap.get(this.selectedTestCase.id),n=this.getParentWithValidSetup(t);e=n?n.item.setupId:0}let n;for(;e;)n=this.setupMap.get(e),t.unshift(n),e=n?n.parentId:null;return t}walkTestCaseTreeNode(e,t=""){e.item=this.addTestCaseMetadata(e.item,t),this.testCaseMap.set(e.item.id,e),e.children.forEach(t=>this.walkTestCaseTreeNode(t,e.item.$title))}addTestCaseMetadata(e,t){return e.$parentTitle=t,e.$title=`${t}${t?" \u203a ":""}${e.title}`,e}addTestRunItemMetadata(e){const t=this.testCaseMap.has(e.caseId)?this.testCaseMap.get(e.caseId):null;e.$parentTitle=t?t.item.$parentTitle:null,e.$title=t?t.item.title:"Test run item #"+e.id;let n="";return e.params.specs.forEach((t,i)=>{n+=`[${t.value}]`,e.params.specs.length-1!==i&&(n+=", ")}),e.$param=n,e.$sortTitle=`${e.$parentTitle}${e.$parentTitle?" \u203a ":""}${e.$title}${e.$param}`.toLowerCase(),e}reorderTestRunItems(e){return e.map(e=>this.addTestRunItemMetadata(e)).sort((e,t)=>e.$sortTitle>t.$sortTitle?1:-1)}selectTestRunItem(e){e.id&&this.router.navigate([],{queryParams:{item_id:e.id},replaceUrl:!0,queryParamsHandling:"merge"}),this.selectedTestItem=e,this.selectedPristineTestItem=Re.q.fromJson(e.toJson());const t=this.testCaseMap.get(this.selectedTestItem.caseId);if(this.selectedTestCase=t?t.item:null,this.inheritedSetupTestCase=null,this.inheritedPreconditionTestCase=null,!this.selectedTestCase.setupId){const e=this.getParentWithValidSetup(t);this.inheritedSetupTestCase=e?e.item:null}if(!this.selectedTestCase.preconditionId){const e=this.getParentWithValidPrecondition(t);this.inheritedPreconditionTestCase=e?e.item:null}this.selectedTestItemSetup=this.lookUpSetupSteps(this.selectedTestCase.setupId),this.selectedTestItemPrecondition=this.lookUpPreconditionSteps(this.selectedTestCase.preconditionId),this.attachments.has(e.id)&&(this.activeFileAttachments=this.attachments.get(e.id)),this.getLinkedAttachments(e.id)}findNextActiveTestRunItem(e){const t=this.testRunItems$.getValue().findIndex(t=>t.id===e.id),n=this.testRunItems$.getValue().filter((e,n)=>n>=t&&(e.status===this.testStatusEnum.Pending||e.status===this.testStatusEnum.InProgress));return n.length>0?n[0]:this.testRunItems$.getValue().filter(e=>e.status===this.testStatusEnum.Pending||e.status===this.testStatusEnum.InProgress)[0]}updateLocalTest(e){const t=this.testRunItems$.getValue().findIndex(t=>t.id===e.id);-1!==t&&(this.testRunItems$.getValue()[t]=e,this.testRunItems$.next(this.reorderTestRunItems(this.testRunItems$.getValue())),this.filteredTestRunItems$.next(this.reorderTestRunItems(this.filteredTestRunItems$.getValue()))),this.selectedTestItem&&this.selectedTestItem.id===e.id&&this.selectTestRunItem(this.testRunItems$.getValue()[t]),this.filteredTestRunItems$.next(this.reorderTestRunItems(this.filteredTestRunItems$.getValue())),this.cdr.detectChanges()}revertTestRunItem(){this.selectedTestItem.summary=this.selectedPristineTestItem.summary,this.cdr.detectChanges()}maybeUpdateTestRunItem(){this.selectedTestItem&&this.selectedPristineTestItem&&(this.selectedTestItem.summary||"")!==(this.selectedPristineTestItem.summary||"")&&this.updateTestRunItem()}affectedCount(e){const t=this.selectedTestItem.params.specs.filter(t=>t.setupId===e)[0];return this.testRunItems$.getValue().filter(e=>e.status===Re.s.Pending||e.status===Re.s.InProgress).filter(n=>{const i=this.testCaseMap.get(n.caseId),a=this.lookUpSetupSteps(i.item.setupId),s=this.lookUpPreconditionSteps(i.item.preconditionId),r=i.item.setupId&&a.includes(this.setupMap.get(e)),l=i.item.preconditionId&&s.includes(this.setupMap.get(e)),o=!t||n.params.specs.filter(n=>n.setupId===e&&n.value===t.value).length>0;return r&&o||l}).length}dropped(e){for(const t of e)if(t.fileEntry.isFile){const e=t.fileEntry,n=new q.a(0);this.attachmentsProgress.set(t.fileEntry.name,n),e.file(e=>{this.uploadService.uploadAttachment(e,Re.b.TestRunItem,this.selectedTestItem.id).pipe(Object(W.a)(e=>e.type===Y.d.UploadProgress),Object(te.a)(()=>{n.complete(),this.attachmentsProgress.delete(e.name),this.cdr.detectChanges()})).subscribe(e=>{const t=Math.round(100*e.loaded/e.total);n.next(t)},t=>this.notificationService.warning("Failed to upload attachment error: "+e.name))})}}updateTestRunItem(){const e=new $e.r;e.summary=(this.selectedTestItem.summary||"").trim(),this.hyperionTestRunsService.updateTestRunItem(e,this.selectedTestItem.id).pipe(Object(X.a)(this.destroy$)).subscribe(e=>{this.notificationService.success(`Test run item #${e.id} updated`),this.showSummaryEditor=!this.showSummaryEditor},e=>{e instanceof ce.a?this.notificationService.warning(`Test run item #${this.selectedTestItem.id} was not updated`):this.notificationService.error(e)})}startTestRunItem(e,t=!0){this.hyperionTestRunsService.startTestRunItem(new _e.a,e).pipe(Object(X.a)(this.destroy$)).subscribe(e=>{this.notificationService.success("Test run item started","Success"),t&&(this.selectedTestItem=this.addTestRunItemMetadata(e),this.cdr.detectChanges())},t=>{if(t instanceof ce.a)switch(t.error){case $e.n.AlreadyStarted:this.notificationService.warning(`Test run item #${e} already started`);break;case $e.n.AlreadyFinished:this.notificationService.warning(`Test run item #${e} already finished`);break;case $e.n.AssigneeNotExists:this.notificationService.error(`Test run item #${e} cannot be assigned`)}else this.notificationService.error(t)})}passTestRunItem(e,t=!0){this.hyperionTestRunsService.passTestRunItem(new _e.a,e).pipe(Object(X.a)(this.destroy$)).subscribe(e=>{this.notificationService.success("Test run item marked as passed","Success"),t&&(this.selectedTestItem=this.findNextActiveTestRunItem(e),this.cdr.detectChanges())},t=>{if(t instanceof ce.a)switch(t.error){case $e.i.AlreadyFinished:this.notificationService.warning(`Test run item #${e} already finished`);break;case $e.i.AssigneeNotExists:this.notificationService.error(`Test run item #${e} cannot be assigned`)}else this.notificationService.error(t)})}failTestRunItem(e){const t=new $e.j;t.summary=this.selectedTestItem.summary,this.hyperionTestRunsService.failTestRunItem(t,e).pipe(Object(X.a)(this.destroy$)).subscribe(t=>{this.notificationService.success(`Test run item #${e} marked as failed`),this.selectedTestItem=this.findNextActiveTestRunItem(t),this.cdr.detectChanges()},t=>{if(t instanceof ce.a)switch(t.error){case $e.i.AlreadyFinished:this.notificationService.warning(`Test run item #${e} already finished`);break;case $e.i.AssigneeNotExists:this.notificationService.error(`Test run item #${e} cannot be assigned`)}else this.notificationService.error(t)})}blockTestRunItem(e){const t=this.selectedTestItem.params.specs.filter(t=>t.setupId===e)[0],n=new $e.b;n.failedSetupId=e,t&&(n.setupParameterValue=t.value),this.hyperionTestRunsService.blockTestRunItem(n,this.selectedTestItem.id).pipe(Object(X.a)(this.destroy$)).subscribe(e=>{this.notificationService.success(`Test run item #${this.selectedTestItem.id} marked as blocked`),this.selectedTestItem=this.findNextActiveTestRunItem(e),this.cdr.detectChanges()},e=>{if(e instanceof ce.a)switch(e.error){case $e.a.AlreadyFinished:this.notificationService.warning(`Test run item #${this.selectedTestItem.id} already finished`);break;case $e.a.AssigneeNotExists:this.notificationService.error(`Test run item #${this.selectedTestItem.id} cannot be assigned`);break;case $e.a.SetupNotExists:this.notificationService.error(`Test run item #${this.selectedTestItem.id} failed setup step cannot be set`)}else this.notificationService.error(e)})}reopenTestRunItem(e,t=!0){this.hyperionTestRunsService.reopenTestRunItem(new _e.a,e).pipe(Object(X.a)(this.destroy$)).subscribe(e=>{this.notificationService.success("Test run item reopened","Success"),t&&(this.selectedTestItem=this.addTestRunItemMetadata(e),this.cdr.detectChanges())},t=>{if(t instanceof ce.a)switch(t.error){case $e.l.AlreadyOpened:this.notificationService.warning(`Test run item #${e} already started`);break;case $e.l.AssigneeNotExists:this.notificationService.error(`Test run item #${e} cannot be assigned`)}else this.notificationService.error(t)})}openJiraAuthDialog(){this.dialog.open(fe,{width:"350px",data:{jiraId:this.project.jiraId}}).afterClosed().pipe(Object(X.a)(this.destroy$)).subscribe(e=>{e&&(this.authenticatedInJira=!0,this.cdr.detectChanges())})}openJiraIssueDialog(){this.dialog.open(xe,{width:"600px",data:{testRunItemId:this.selectedTestItem.id,summary:"Failed: "+this.selectedTestCase.title,description:`[View in Hyperion|${window.location.href}]`}}).afterClosed().pipe(Object(X.a)(this.destroy$)).subscribe(e=>{e&&(this.selectedPristineTestItem.jiraIssueKey=this.selectedTestItem.jiraIssueKey=e.jiraIssueKey,this.selectedPristineTestItem.jiraIssueUrl=this.selectedTestItem.jiraIssueUrl=e.jiraIssueUrl,this.cdr.detectChanges())})}getLinkedAttachments(e){this.hyperionAttachmentService.getLinkedAttachments(Re.b.TestRunItem,e).pipe(Object(X.a)(this.destroy$)).subscribe(t=>{this.attachments.set(e,t.items),this.activeFileAttachments=t.items,this.cdr.detectChanges()},e=>this.notificationService.error(e))}unlinkFileAttachment(e,t){this.hyperionAttachmentService.deleteAttachmentLink(e,Re.b.TestRunItem,t).pipe(Object(X.a)(this.destroy$)).subscribe(t=>{this.activeFileAttachments=this.activeFileAttachments.filter(t=>t.id!==e),this.cdr.detectChanges()},e=>this.notificationService.error(e))}selectParamForTestItemSetup(e){let t=null;return this.selectedTestItem.params.specs.forEach((n,i)=>{n.setupId===e.id&&(t=i)}),t}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](w.b),c["\u0275\u0275directiveInject"](Ce.a),c["\u0275\u0275directiveInject"](oe.a),c["\u0275\u0275directiveInject"](ke.a),c["\u0275\u0275directiveInject"](Ee.a),c["\u0275\u0275directiveInject"](Te.a),c["\u0275\u0275directiveInject"](we.a),c["\u0275\u0275directiveInject"](ve.a),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](s.g),c["\u0275\u0275directiveInject"](je.DomSanitizer),c["\u0275\u0275directiveInject"](z.Lightbox),c["\u0275\u0275directiveInject"](Ie.a),c["\u0275\u0275directiveInject"](Se.a),c["\u0275\u0275directiveInject"](ye.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["m-testing-details"]],viewQuery:function(e,t){if(1&e&&c["\u0275\u0275viewQuery"](Fe,!0),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.loader=e.first)}},decls:30,vars:18,consts:[[1,"row"],[1,"col-xl-12","pre-wrapped"],[1,"m-portlet","m-portlet--ngviewer"],[1,"progress-bar-position"],[3,"rounded","height","total","pending","inProgress","passed","failed","blocked"],["class","m-portlet__head p-0",4,"ngIf"],[1,"d-flex"],["unit","percent","direction","horizontal"],[3,"size"],[1,"pt-2","col-12","left-split-content"],[2,"height","70vh"],[1,"scroll-bar"],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"size",4,"ngIf"],["lessAttachments",""],["moreAttachments",""],["uploadButton",""],["filterButtons",""],["bulkActionMenu","matMenu"],["matMenuContent",""],[1,"m-portlet__head","p-0"],["class","m-portlet__head-caption full-width","style","flex-basis: 65%",4,"ngIf"],["class","m-portlet__head-caption full-width","style","flex-basis: 35%",4,"ngIf"],[1,"m-portlet__head-caption","full-width",2,"flex-basis","65%"],[1,"m-portlet__head-title","full-width","block"],[1,"full-width",2,"display","table-row","padding-left","20px"],[2,"display","table-cell"],["color","primary",1,"no-ripple",3,"disableRipple","indeterminate","checked","change"],[1,"pl-3",2,"display","table-cell"],["mat-raised-button","","color","primary",3,"disabled","matMenuTriggerFor"],[3,"ngTemplateOutlet"],[1,"m-portlet__head-caption","full-width",2,"flex-basis","35%"],[1,"m-portlet__head-title","full-width","block","pr-4"],[1,"full-width"],["matInput","","type","text","placeholder","Type in to filter","autocomplete","off",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"block"],["color","primary",1,"no-ripple",3,"disableRipple","checked","change"],[1,"full-width","animate","x-line","pl-1","ml-2"],[1,"m-timeline-3","x-table",3,"click"],[1,"m-timeline-3__items"],[1,"m-timeline-3_full_height"],[1,"m-timeline-3__item","ml-1",3,"ngClass"],[1,"m-timeline-3__item-desc","pl-2"],[1,"m-badge-item-text","pl-1"],["class","m-badge-item-text ml-3",4,"ngIf"],[1,"m-badge-item-text","ml-3"],[1,"font-italic"],[1,"col","pt-3","right-split-content"],[1,"sticky-block","f-w-400"],[1,"inline-block"],[1,"d-table-cell",2,"vertical-align","bottom"],[1,"m-timeline-3","x-table","d-table-cell","pl-2"],[1,"m-timeline-3__item",3,"ngClass"],[2,"padding-top","-10px"],[1,"inline-block","v-a-bottom","float-right",2,"line-height","32px"],[1,"dimmed"],[1,"basic-tree","pl-0"],["class","mt-5",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"mt-3"],["class","col-md-6",4,"ngSwitchCase"],["class","col-md-6",4,"ngIf"],[1,"col-md-12","mini"],[1,"f-w-600","block","mb-0"],[1,"col-md-12","mt-1",2,"display","flex","flex-wrap","wrap"],[1,"mt-3",3,"ngSwitch"],[1,"col-md-12","mini","mb-1"],[1,"mt-5"],[3,"innerHTML"],[1,"f-w-600","block"],["class","pl-0",4,"ngIf"],[1,"c-info"],[1,"pl-0"],[1,"d-table-row"],[1,"d-table-cell"],["class","d-table-cell",4,"ngIf"],["class","btn-status warning m-left clickable xs ml-2",3,"swal","confirm",4,"ngIf"],["class","block medium-line","style","margin-left: 2rem",4,"ngIf"],[1,"inline-block","medium-line","align-text-bottom"],[1,"btn-status","warning","m-left","clickable","xs","ml-2",3,"swal","confirm"],[1,"block","medium-line",2,"margin-left","2rem"],[3,"line-vertical",4,"ngIf"],["class","d-table-row",3,"line-vertical",4,"ngIf"],["class","block medium-line align-text-bottom","style","margin-left: 2rem",4,"ngIf"],[1,"d-table-cell","align-middle"],["class","btn-status warning m-left clickable xs ml-2 align-text-bottom",3,"swal","confirm",4,"ngIf"],[1,"block","medium-line","align-text-bottom",2,"margin-left","2rem"],[1,"c-gray","m--valign-middle",2,"margin-right","-5px"],[1,"c-info","medium-line","align-text-bottom"],[1,"btn-status","warning","m-left","clickable","xs","ml-2","align-text-bottom",3,"swal","confirm"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","2","cdkAutosizeMaxRows","4","placeholder","Put some text here",1,"form-control",3,"ngModel","ngModelChange","keyup.escape","blur"],["floatLabel","never",2,"display","none"],["matInput",""],[1,"col-md-6"],["target","_blank",3,"href"],[1,"m-badge","x-tag","compact","align-text-top","m-badge--danger"],[1,"btn-status","clickable",3,"click"],[1,"mr-1"],["src","./assets/app/media/img/tools/jira.png",1,"x-table-icon","x-16","v-a-sub"],["class","btn-status info m-left clickable sm mr-3",3,"click",4,"ngIf"],["class","btn-status success m-left clickable sm mr-3",3,"click",4,"ngIf"],["class","btn-status error m-left clickable sm mr-3",3,"click",4,"ngIf"],[1,"btn-status","info","m-left","clickable","sm","mr-3",3,"click"],[1,"btn-status","success","m-left","clickable","sm","mr-3",3,"click"],[1,"btn-status","error","m-left","clickable","sm","mr-3",3,"click"],[1,"row","m-0"],["class","attachment-count-container clickable mr-1 mb-1 animate",3,"click",4,"ngIf"],[4,"ngTemplateOutlet"],["class","thumb mr-1 mb-1 inline-block animate clickable","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["matTooltipPosition","above",1,"thumb","mr-1","mb-1","inline-block","animate","clickable",3,"matTooltip"],[3,"src","click",4,"ngSwitchCase"],["target","_blank",3,"href","ngSwitch"],["class","placeholder inline-block",4,"ngSwitchCase"],[1,"delete","animate",3,"swal","confirm"],[1,"animate","c-white"],[3,"src","click"],[1,"placeholder","inline-block"],[1,"attachment-count-container","clickable","mr-1","mb-1","animate",3,"click"],[1,"attachment-count-label","animate"],["class","thumb mr-1 mb-1 inline-block animate clickable","matTooltipPosition","above",3,"matTooltip",4,"ngFor","ngForOf"],[1,"uploader","compact","inline-block","clickable","mb-1"],["dropZoneLabel","Drop files here",3,"onFileDrop"],["ngx-file-drop-content-tmp",""],["class","progress-conteiner mr-1 mb-1",4,"ngIf"],[1,"progress-conteiner","mr-1","mb-1"],["color","primary","mode","determinate",3,"value"],[1,"progress-percent"],["mat-icon-button","","color","primary",1,"animate",3,"click"],[1,"animate"],[1,"inline-block","legend-row-checked","legend-row-height",2,"line-height","1","padding-left","20px"],[1,"inline-block","va-mid"],["type","checkbox","id","pending",3,"disabled"],["for","pending",1,"legend-item","pending",3,"click"],["type","checkbox","id","inprogress",3,"disabled"],["for","inprogress",1,"legend-item","in-progress",3,"click"],["type","checkbox","id","passed",3,"disabled"],["for","passed",1,"legend-item","passed",3,"click"],["type","checkbox","id","failed",3,"disabled"],["for","failed",1,"legend-item","failed",3,"click"],["type","checkbox","id","blocked",3,"disabled"],["for","blocked",1,"legend-item","blocked","clickable",3,"click"],["mat-menu-item","",3,"disabled","click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275element"](4,"m-smart-progress-bar",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,Be,5,6,"div",5),c["\u0275\u0275elementStart"](6,"div",6),c["\u0275\u0275elementStart"](7,"as-split",7),c["\u0275\u0275elementStart"](8,"as-split-area",8),c["\u0275\u0275elementStart"](9,"div",9),c["\u0275\u0275elementStart"](10,"perfect-scrollbar",10),c["\u0275\u0275elementStart"](11,"div",11),c["\u0275\u0275template"](12,Ue,3,3,"mat-list",12),c["\u0275\u0275pipe"](13,"async"),c["\u0275\u0275elementStart"](14,"div",13),c["\u0275\u0275pipe"](15,"async"),c["\u0275\u0275template"](16,Le,2,0,"ng-container",14),c["\u0275\u0275template"](17,Ye,3,3,"ng-container",15),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](18,Bt,50,23,"as-split-area",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](19,Yt,4,3,"ng-template",null,17,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](21,Xt,2,2,"ng-template",null,18,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](23,tn,5,3,"ng-template",null,19,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](25,nn,27,15,"ng-template",null,20,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementStart"](27,"mat-menu",null,21),c["\u0275\u0275template"](29,an,6,6,"ng-template",22),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("rounded",!1)("height",10)("total",t.testRun.totalItemCount)("pending",t.testRun.pendingItemCount)("inProgress",t.testRun.inProgressItemCount)("passed",t.testRun.passedItemCount)("failed",t.testRun.failedItemCount)("blocked",t.testRun.blockedItemCount),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",(null==t.testRun?null:t.testRun.totalItemCount)>0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("size",t.selectedTestItem?70:100),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](13,14,t.filteredTestRunItems$).length>0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngSwitch",c["\u0275\u0275pipeBind1"](15,16,t.testRunItems$).length),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngSwitchCase",0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.selectedTestItem))},directives:[Me.a,i.m,B.c,B.b,J.b,i.o,i.p,i.q,P.a,P.b,k.a,r.a,P.e,i.r,T.b,_.b,a.c,a.i,a.l,R.a,i.l,R.b,i.k,E.a,V.b,Oe.b,F.a,D.a,D.b,A.a,P.c],pipes:[i.b,i.e,i.g],styles:['.padded[_ngcontent-%COMP%]{margin-top:-30px;margin-bottom:-30px;padding-top:15px;padding-bottom:15px}.non-sticky-block[_ngcontent-%COMP%]{margin-left:-15px;transition:background-color 125ms linear}@media screen and (max-height:1100px){.sticky-block-parent[_ngcontent-%COMP%]{box-shadow:-5px 0 5px -5px rgba(51,51,51,.25),0 0 5px 0 rgba(51,51,51,.25);padding-right:0;border:1px solid #fff;position:-webkit-sticky;position:sticky;top:100px;height:80vh;overflow-y:auto;overflow-x:hidden;margin-top:-28px}}@media screen and (max-height:900px){.sticky-block-parent[_ngcontent-%COMP%]{box-shadow:-5px 0 5px -5px rgba(51,51,51,.25),0 0 5px 0 rgba(51,51,51,.25);padding-right:0;border:1px solid #fff;position:-webkit-sticky;position:sticky;top:100px;height:540px;overflow-y:auto;overflow-x:hidden;margin-top:-28px}}.sticky-block[_ngcontent-%COMP%]{display:block;position:-webkit-sticky;position:sticky;z-index:100}.sticky-row[_ngcontent-%COMP%]{margin-right:-30px}.progress[_ngcontent-%COMP%]{width:60%}.progress-bar-in-progress[_ngcontent-%COMP%]{background-color:var(--info)}.progress-bar-passed[_ngcontent-%COMP%]{background-color:var(--success)}.progress-bar-failed[_ngcontent-%COMP%]{background-color:var(--danger)}.progress-bar-blocked[_ngcontent-%COMP%]{background-color:var(--warning)}  .mat-list-item-content{cursor:pointer}.item-selected[_ngcontent-%COMP%]{border-bottom:1px dashed var(--info)}.m-badge-item-text[_ngcontent-%COMP%]{line-height:31px;vertical-align:middle}.test-run-item-selected[_ngcontent-%COMP%]{border:1px dashed var(--info);border-radius:3px}.btn[_ngcontent-%COMP%]{padding:8px 12px!important}.btn-status[_ngcontent-%COMP%]{font-size:1rem!important}.mat-list-item[_ngcontent-%COMP%]{font-size:14px!important;font-weight:400!important;margin-bottom:2px}.mat-list-item[_ngcontent-%COMP%]     .mat-list-item-content{padding-left:0!important}.mat-checkbox.no-ripple[_ngcontent-%COMP%]     .mat-ripple-element{background:transparent!important}.x-line.pending[_ngcontent-%COMP%]{background-color:rgba(212,213,230,.25)}.x-line.pending.active[_ngcontent-%COMP%]{background-color:rgba(212,213,230,.75)}.x-line.in-progress[_ngcontent-%COMP%]{background-color:rgba(54,163,247,.25)}.x-line.in-progress.active[_ngcontent-%COMP%]{background-color:rgba(54,163,247,.75)}.x-line.passed[_ngcontent-%COMP%]{background-color:rgba(52,191,163,.25)}.x-line.passed.active[_ngcontent-%COMP%]{background-color:rgba(52,191,163,.75)}.x-line.failed[_ngcontent-%COMP%]{background-color:rgba(244,81,108,.25)}.x-line.failed.active[_ngcontent-%COMP%]{background-color:rgba(244,81,108,.75)}.x-line.blocked[_ngcontent-%COMP%]{background-color:rgba(255,184,34,.25)}.x-line.blocked.active[_ngcontent-%COMP%]{background-color:rgba(255,184,34,.75)}.m-timeline-3[_ngcontent-%COMP%]   .m-timeline-3__item[_ngcontent-%COMP%]{margin-bottom:0}.m-timeline-3[_ngcontent-%COMP%]   .m-timeline-3_full_height[_ngcontent-%COMP%]   .m-timeline-3__item[_ngcontent-%COMP%]:before{top:3px!important;height:80%!important}.mat-list-base[_ngcontent-%COMP%]{padding-top:0!important}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:unset!important}@-webkit-keyframes circle{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes circle{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.progress-percent[_ngcontent-%COMP%]{text-align:center;top:-60%;z-index:500;display:block;position:relative;font-size:16px}.progress-container[_ngcontent-%COMP%]{display:inline-block;color:#0782d0;width:100px!important;height:100px!important;border:1px solid rgba(7,130,208,.25)!important;border-radius:8px!important;transition:all .125s linear}.mat-select[_ngcontent-%COMP%]{display:inline-block;width:20%;outline:0;margin-bottom:10px;border:1px solid #ced4da;border-radius:0 0 .25rem .25rem;padding:3px}.select-title[_ngcontent-%COMP%]{width:20%;text-align:center;background-color:#fffaf0;border:1px solid #ced4da;border-bottom:none;border-radius:.25rem .25rem 0 0;padding:3px}  [type=checkbox]:checked,   [type=checkbox]:not(:checked){position:absolute;left:-9999px;margin-left:20px}  [type=checkbox]:checked+label,   [type=checkbox]:not(:checked)+label{position:relative;padding-left:1.95em;cursor:pointer;margin-right:15px;padding-top:3px}  [type=checkbox]:checked+label.all:before,   [type=checkbox]:checked+label.pending:before,   [type=checkbox]:not(:checked)+label.all:before,   [type=checkbox]:not(:checked)+label.pending:before{content:"";font-weight:600;position:absolute;left:0;top:0;width:1.5em;height:1.5em;border-radius:4px;background-color:rgba(212,213,230,.75);border:1px solid #d4d5e6;box-shadow:inset 0 1px 3px rgba(0,0,0,.1)}  [type=checkbox]:checked+label.in-progress:before,   [type=checkbox]:not(:checked)+label.in-progress:before{content:"";font-weight:600;position:absolute;left:0;top:0;width:1.5em;height:1.5em;border:1px solid #d4d5e6;border-radius:4px;background-color:rgba(54,163,247,.75);box-shadow:inset 0 1px 3px rgba(0,0,0,.1)}  [type=checkbox]:checked+label.passed:before,   [type=checkbox]:not(:checked)+label.passed:before{content:"";font-weight:600;position:absolute;left:0;top:0;width:1.5em;height:1.5em;border-radius:4px;background-color:rgba(52,191,163,.75);border:1px solid #34bfa3;box-shadow:inset 0 1px 3px rgba(0,0,0,.1)}  [type=checkbox]:checked+label.failed:before,   [type=checkbox]:not(:checked)+label.failed:before{content:"";position:absolute;left:0;top:0;width:1.5em;height:1.5em;font-weight:600;border-radius:4px;background-color:rgba(244,81,108,.75);border:1px solid #f4516c;box-shadow:inset 0 1px 3px rgba(0,0,0,.1)}  [type=checkbox]:checked+label.blocked:before,   [type=checkbox]:not(:checked)+label.blocked:before{content:"";position:absolute;left:0;top:0;width:1.5em;height:1.5em;font-weight:600;background-color:rgba(255,184,34,.75);border:1px solid #ffb822;border-radius:4px;box-shadow:inset 0 1px 3px rgba(0,0,0,.1);vertical-align:middle}.legend-item[_ngcontent-%COMP%]{font-weight:500}  [type=checkbox]:checked+label:after,   [type=checkbox]:not(:checked)+label:after{position:absolute;top:.18em;left:.18em;font-size:1.5em;font-weight:600;line-height:.8;color:#010603;transition:all .2s;font-family:Lucida Sans Unicode,Arial Unicode MS,Arial;vertical-align:middle}  [type=checkbox]:not(:checked)+label:after{opacity:0;transform:scale(0)}  [type=checkbox]:checked+label:after{opacity:1;transform:scale(1)}  [type=checkbox]:disabled:checked+label:before,   [type=checkbox]:disabled:not(:checked)+label:before{box-shadow:none;border-color:#bbb;background-color:#ddd}  [type=checkbox]:disabled:checked+label:after{color:#999}  [type=checkbox]:disabled+label{color:#aaa}.filter-border[_ngcontent-%COMP%]{box-shadow:-5px 0 5px -5px rgba(51,51,51,.25),0 0 5px 0 rgba(51,51,51,.25);padding-right:0;border:1px solid #ababab}.action-bar-button[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;margin-bottom:10px}.progress-bar-position[_ngcontent-%COMP%]{position:relative;top:-5px}.va-mid[_ngcontent-%COMP%]{vertical-align:middle}.scroll-bar[_ngcontent-%COMP%]{padding:5px}.setup-section[_ngcontent-%COMP%]{display:flex;align-items:center}  .ps__rail-x{visibility:hidden}.line-vertical[_ngcontent-%COMP%]{background:rgba(255,184,34,.3)}'],changeDetection:0}),e})();var rn=n("lJxs"),ln=n("43X2"),on=n("PiIy"),cn=n("+0xr"),dn=n("sWy5");function mn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",34),c["\u0275\u0275text"](1," ID "),c["\u0275\u0275elementEnd"]())}function pn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"strong"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("Test run #",e.id,"")}}function un(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"strong"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.title)}}function hn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",35),c["\u0275\u0275elementStart"](1,"a",36),c["\u0275\u0275template"](2,pn,2,1,"strong",37),c["\u0275\u0275template"](3,un,2,1,"strong",37),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("routerLink","",e.id,"/details"),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.title),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.title)}}function gn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",34),c["\u0275\u0275text"](1," Status "),c["\u0275\u0275elementEnd"]())}function fn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"Draft"),c["\u0275\u0275elementEnd"]())}function bn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"In Progress"),c["\u0275\u0275elementEnd"]())}function xn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"Closed"),c["\u0275\u0275elementEnd"]())}function vn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",38),c["\u0275\u0275elementStart"](1,"div",39),c["\u0275\u0275elementStart"](2,"div",40),c["\u0275\u0275elementStart"](3,"div",41),c["\u0275\u0275elementStart"](4,"div",42),c["\u0275\u0275elementStart"](5,"span",43),c["\u0275\u0275template"](6,fn,2,0,"span",44),c["\u0275\u0275template"](7,bn,2,0,"span",44),c["\u0275\u0275template"](8,xn,2,0,"span",44),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngClass",n.badgeStatusClass(e.status)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngSwitch",e.status),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",n.statusEnum.Draft),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",n.statusEnum.InProgress),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngSwitchCase",n.statusEnum.Closed)}}function Sn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",45),c["\u0275\u0275text"](1," Progress "),c["\u0275\u0275elementEnd"]())}function In(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275text"](1," Not started "),c["\u0275\u0275elementContainerEnd"]())}function yn(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275text"](1," No tests are added "),c["\u0275\u0275elementContainerEnd"]())}function Cn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",48),c["\u0275\u0275element"](1,"m-smart-progress-bar",49),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("total",e.totalItemCount)("pending",e.pendingItemCount)("inProgress",e.inProgressItemCount)("passed",e.passedItemCount)("failed",e.failedItemCount)("blocked",e.blockedItemCount)}}function kn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",46),c["\u0275\u0275template"](1,In,2,0,"ng-container",37),c["\u0275\u0275template"](2,yn,2,0,"ng-container",37),c["\u0275\u0275template"](3,Cn,2,6,"div",47),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.status===n.statusEnum.Draft),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.status!==n.statusEnum.Draft&&0===e.totalItemCount),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.status!==n.statusEnum.Draft&&e.totalItemCount>0)}}function wn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",34),c["\u0275\u0275text"](1," Created At "),c["\u0275\u0275elementEnd"]())}function Tn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",50),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](2,1,e.createdAt,"yyyy-MM-dd HH:mm")," ")}}function En(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",34),c["\u0275\u0275text"](1," Started At "),c["\u0275\u0275elementEnd"]())}function _n(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",50),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.startedAt?c["\u0275\u0275pipeBind2"](2,1,e.startedAt,"yyyy-MM-dd HH:mm"):"Never"," ")}}function Rn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",34),c["\u0275\u0275text"](1," Finished At "),c["\u0275\u0275elementEnd"]())}function Pn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",50),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.finishedAt?c["\u0275\u0275pipeBind2"](2,1,e.finishedAt,"yyyy-MM-dd HH:mm"):"Never"," ")}}function $n(e,t){1&e&&c["\u0275\u0275element"](0,"tr",51)}function jn(e,t){1&e&&c["\u0275\u0275element"](0,"tr",52)}let Mn=(()=>{class e{constructor(e,t,n,i,a,s,r,l,o,c){this.cdr=e,this.sanitizer=t,this.dialog=n,this.hyperionProjectService=i,this.hyperionTestRunsService=a,this.hyperionTestCaseService=s,this.notificationService=r,this.projectService=l,this.websocketService=o,this.route=c,this.destroy$=new G.b,this.displayedColumns=["id","status","progress","createdAt","startedAt","finishedAt"],this.dataSource=new ln.a,this.defaultOrderBy="id",this.defaultOrderDir="desc",this.orderBy=$e.o.Id,this.orderDir=ce.h.Desc,this.offset=0,this.pageIndex=0,this.pageSize=10,this.pageSizes=[10,25,50,100],this.total=0,this.statusEnum=Re.r,this.currentStatus=Re.r.InProgress}ngOnInit(){this.route.data.pipe(Object(X.a)(this.destroy$)).subscribe(e=>this.initialize(e.activeProject)),Object(K.a)(this.websocketService.testRunUpdated,this.websocketService.testRunStarted,this.websocketService.testRunClosed,this.websocketService.testRunReopened,this.websocketService.testRunDeleted).pipe(Object(X.a)(this.destroy$),Object(W.a)(e=>this.project&&this.project.id===e.data.projectId)).subscribe(e=>{let t=!1;e instanceof Pe.x||e instanceof Pe.w?t=this.canReloadOnStart():e instanceof Pe.v||e instanceof Pe.t?t=this.dataSource.containsItem(this.equalityComparer,e.data):this.dataSource.updateItem(this.equalityComparer,e.data),t&&this.loadItems(this.offset)})}ngAfterViewInit(){Object(K.a)(this.paginator.page,this.sort.sortChange).pipe(Object(X.a)(this.destroy$),Object(se.a)(e=>{e.active&&e.direction&&(this.paginator.pageIndex=0),this.pageSize=this.paginator.pageSize,this.dataSource.loadItems(()=>this.getData(this.pageSize*this.paginator.pageIndex))})).subscribe(),this.loadItems()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initialize(e){this.project=e,this.loadItems()}getData(e){return this.hyperionTestRunsService.getTestRuns(this.project.id,this.orderBy,this.orderDir,e,this.pageSize,this.currentStatus).pipe(Object(X.a)(this.destroy$),Object(se.a)(e=>this.total=e.total),Object(rn.a)(e=>e.items))}equalityComparer(e,t){return e instanceof Re.p&&t instanceof Re.p&&e.id===t.id}canReloadOnStart(){return this.total<this.pageSize||(this.orderBy===$e.o.Id||this.orderBy===$e.o.CreatedAt)&&this.orderDir===ce.h.Desc}loadItems(e=0){this.offset=e,this.dataSource.loadItems(()=>this.getData(e))}badgeStatusClass(e){switch(e){case Re.r.Draft:return"m-timeline-3__item--metal";case Re.r.InProgress:return"m-timeline-3__item--info";case Re.r.Closed:return"m-timeline-3__item--warning"}}onStatusChange(e){e&&this.currentStatus!==e&&(this.currentStatus=e,this.offset=0,this.paginator&&this.paginator.firstPage(),this.loadItems())}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](je.DomSanitizer),c["\u0275\u0275directiveInject"](w.b),c["\u0275\u0275directiveInject"](ke.a),c["\u0275\u0275directiveInject"](Ee.a),c["\u0275\u0275directiveInject"](Te.a),c["\u0275\u0275directiveInject"](ve.a),c["\u0275\u0275directiveInject"](on.a),c["\u0275\u0275directiveInject"](ye.a),c["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["m-testing"]],viewQuery:function(e,t){if(1&e&&(c["\u0275\u0275viewQuery"]($.a,!0),c["\u0275\u0275viewQuery"](M.a,!0)),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.paginator=e.first),c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.sort=e.first)}},decls:44,vars:13,consts:[[1,"row"],[1,"col-xl-12"],[1,"m-portlet","m-portlet--ngviewer"],[1,"m-portlet__head","compact"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],["appearance","legacy",3,"value","valueChange"],["aria-label","Active",3,"value"],["aria-label","Closed",3,"value"],[1,"m-portlet__head-tools","search-box"],[1,"m-portlet__nav"],[1,"m-portlet__nav-item"],["href","javascript:void(null);","title","Refresh","matTooltip","Click to refresh","matTooltipPosition","above",1,"m-portlet__nav-link","m-portlet__nav-link--icon",3,"click"],[1,"la","la-refresh"],[1,"m-portlet__body","m-portlet__body--no-padding","pre-wrapped"],[1,"m-portlet__preview","p-0"],["mat-table","","matSort","","matSortDisableClear","",3,"matSortActive","matSortDirection","dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","style","width: 320px",4,"matCellDef"],["matColumnDef","status"],["mat-cell","","class","text-center","style","width: 85px",4,"matCellDef"],["matColumnDef","progress"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdAt"],["mat-cell","","style","width: 125px",4,"matCellDef"],["matColumnDef","startedAt"],["matColumnDef","finishedAt"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"b-transparent"],[1,"toolbar-spacer",2,"flex","1 1 auto"],["showFirstLastButtons","",3,"pageIndex","length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"width","320px"],[3,"routerLink"],[4,"ngIf"],["mat-cell","",1,"text-center",2,"width","85px"],[1,"m-timeline-3","x-table"],[1,"m-timeline-3__items"],[1,"m-timeline-3__item","m-0",3,"ngClass"],[1,"m-timeline-3__item-desc","pl-2"],[1,"m-timeline-3__item-text","pl-1",2,"line-height","31px",3,"ngSwitch"],[4,"ngSwitchCase"],["mat-header-cell",""],["mat-cell",""],["style","width: auto;padding-right: 10px",4,"ngIf"],[2,"width","auto","padding-right","10px"],[3,"total","pending","inProgress","passed","failed","blocked"],["mat-cell","",2,"width","125px"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275elementStart"](4,"div",4),c["\u0275\u0275elementStart"](5,"div",5),c["\u0275\u0275elementStart"](6,"mat-button-toggle-group",6),c["\u0275\u0275listener"]("valueChange",function(e){return t.onStatusChange(e)}),c["\u0275\u0275elementStart"](7,"mat-button-toggle",7),c["\u0275\u0275text"](8," Active "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"mat-button-toggle",8),c["\u0275\u0275text"](10," Closed "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",9),c["\u0275\u0275elementStart"](12,"ul",10),c["\u0275\u0275elementStart"](13,"li",11),c["\u0275\u0275elementStart"](14,"a",12),c["\u0275\u0275listener"]("click",function(){return t.loadItems()}),c["\u0275\u0275element"](15,"i",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"div",14),c["\u0275\u0275elementStart"](17,"div",15),c["\u0275\u0275elementStart"](18,"table",16),c["\u0275\u0275elementContainerStart"](19,17),c["\u0275\u0275template"](20,mn,2,0,"th",18),c["\u0275\u0275template"](21,hn,4,3,"td",19),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](22,20),c["\u0275\u0275template"](23,gn,2,0,"th",18),c["\u0275\u0275template"](24,vn,9,5,"td",21),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](25,22),c["\u0275\u0275template"](26,Sn,2,0,"th",23),c["\u0275\u0275template"](27,kn,4,3,"td",24),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](28,25),c["\u0275\u0275template"](29,wn,2,0,"th",18),c["\u0275\u0275template"](30,Tn,3,4,"td",26),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](31,27),c["\u0275\u0275template"](32,En,2,0,"th",18),c["\u0275\u0275template"](33,_n,3,4,"td",26),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](34,28),c["\u0275\u0275template"](35,Rn,2,0,"th",18),c["\u0275\u0275template"](36,Pn,3,4,"td",26),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275template"](37,$n,1,0,"tr",29),c["\u0275\u0275template"](38,jn,1,0,"tr",30),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](39,"mat-toolbar",31),c["\u0275\u0275elementStart"](40,"mat-toolbar-row"),c["\u0275\u0275element"](41,"m-test-status-legend"),c["\u0275\u0275element"](42,"span",32),c["\u0275\u0275element"](43,"mat-paginator",33),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("value",t.currentStatus),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("value",t.statusEnum.InProgress),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("value",t.statusEnum.Closed),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("matSortActive",t.defaultOrderBy)("matSortDirection",t.defaultOrderDir)("dataSource",t.dataSource),c["\u0275\u0275advance"](19),c["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("pageIndex",t.pageIndex)("length",t.total)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizes))},directives:[v,y,F.a,cn.j,M.a,cn.c,cn.e,cn.b,cn.g,cn.i,O.a,O.c,dn.a,$.a,cn.d,M.b,cn.a,s.h,i.m,i.k,i.o,i.p,Me.a,cn.f,cn.h],pipes:[i.e],styles:[".search-box[_ngcontent-%COMP%]{margin-top:10px;position:relative}  .ps__rail-x{visibility:hidden}  .mat-button-toggle-label-content{font-size:14px;font-weight:700}"],changeDetection:0}),e})();var On=n("k+3h"),Fn=n("Pj4I");let An=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,a.e,r.b,C,k.b,w.f,T.d,E.b,_.c,R.c,P.d,$.b,A.b,j.b,M.c,O.b,F.b,B.a,z.LightboxModule,D.c,J.c,V.c,U.a,L.a,N.a,s.i.forChild([{path:":project",children:[{path:"",component:Mn,resolve:{activeProject:H.a}},{path:":id/details",component:sn,resolve:{activeProject:H.a,testRun:On.a}}],canActivate:[Fn.a]}])]]}),e})()}}]);